/*! For license information please see main.6b525909.js.LICENSE.txt */
(()=>{var e={5568:(e,t,n)=>{"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.r(t),n.d(t,{clsx:()=>i,default:()=>s});const s=i},8109:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function s(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function o(e,t){try{return t in e}catch(n){return!1}}function a(e,t,n){var i={};return n.isMergeableObject(e)&&s(e).forEach((function(t){i[t]=r(e[t],n)})),s(t).forEach((function(s){(function(e,t){return o(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,s)||(o(e,s)&&n.isMergeableObject(t[s])?i[s]=function(e,t){if(!t.customMerge)return l;var n=t.customMerge(e);return"function"===typeof n?n:l}(s,n)(e[s],t[s],n):i[s]=r(t[s],n))})),i}function l(e,n,s){(s=s||{}).arrayMerge=s.arrayMerge||i,s.isMergeableObject=s.isMergeableObject||t,s.cloneUnlessOtherwiseSpecified=r;var o=Array.isArray(n);return o===Array.isArray(e)?o?s.arrayMerge(e,n,s):a(e,n,s):r(n,s)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return l(e,n,t)}),{})};var c=l;e.exports=c},8419:(e,t,n)=>{var r=n(9867),i=n(6967).each;function s(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}s.prototype={constuctor:s,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;i(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";i(this.handlers,(function(t){t[e]()}))}},e.exports=s},9321:(e,t,n)=>{var r=n(8419),i=n(6967),s=i.each,o=i.isFunction,a=i.isArray;function l(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}l.prototype={constructor:l,register:function(e,t,n){var i=this.queries,l=n&&this.browserIsIncapable;return i[e]||(i[e]=new r(e,l)),o(t)&&(t={match:t}),a(t)||(t=[t]),s(t,(function(t){o(t)&&(t={match:t}),i[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=l},9867:e=>{function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},6967:e=>{e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},5383:(e,t,n)=>{var r=n(9321);e.exports=new r},5958:(e,t,n)=>{var r=n(2931),i=function(e){var t="",n=Object.keys(e);return n.forEach((function(i,s){var o=e[i];(function(e){return/[height|width]$/.test(e)})(i=r(i))&&"number"===typeof o&&(o+="px"),t+=!0===o?i:!1===o?"not "+i:"("+i+": "+o+")",s<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=i(n),r<e.length-1&&(t+=", ")})),t):i(e)}},5068:e=>{function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,i){var s=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");"function"===typeof r&&(i=r,r={}),r=r||{},i=i||function(){},o.type=r.type||"text/javascript",o.charset=r.charset||"utf8",o.async=!("async"in r)||!!r.async,o.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(o,r.attrs),r.text&&(o.text=""+r.text),("onload"in o?t:n)(o,i),o.onload||t(o,i),s.appendChild(o)}},5022:(e,t,n)=>{var r=NaN,i="[object Symbol]",s=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,h=u||d||Function("return this")(),f=Object.prototype.toString,p=Math.max,m=Math.min,g=function(){return h.Date.now()};function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&f.call(e)==i}(e))return r;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=a.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):o.test(e)?r:+e}e.exports=function(e,t,n){var r,i,s,o,a,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,s=i;return r=i=void 0,c=t,o=e.apply(s,n)}function b(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=s}function w(){var e=g();if(b(e))return _(e);a=setTimeout(w,function(e){var n=t-(e-l);return d?m(n,s-(e-c)):n}(e))}function _(e){return a=void 0,h&&r?f(e):(r=i=void 0,o)}function x(){var e=g(),n=b(e);if(r=arguments,i=this,l=e,n){if(void 0===a)return function(e){return c=e,a=setTimeout(w,t),u?f(e):o}(l);if(d)return a=setTimeout(w,t),f(l)}return void 0===a&&(a=setTimeout(w,t)),o}return t=v(t)||0,y(n)&&(u=!!n.leading,s=(d="maxWait"in n)?p(v(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),x.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=i=a=void 0},x.flush=function(){return void 0===a?o:_(g())},x}},6570:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function i(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(i=e[n],s=t[n],!(i===s||r(i)&&r(s)))return!1;var i,s;return!0}const s=function(e,t){var n;void 0===t&&(t=i);var r,s=[],o=!1;return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return o&&n===this&&t(i,s)||(r=e.apply(this,i),o=!0,n=this,s=i),r}}},9993:(e,t,n)=>{"use strict";var r=n(5730);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},6405:(e,t,n)=>{e.exports=n(9993)()},5730:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5914:(e,t,n)=>{"use strict";var r=n(2483),i=n(3557);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case E:return"Profiler";case k:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function ke(e){if(e=mi(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=yi(t),_e(e.stateNode,e.type,t))}}function Ee(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Te(){if(xe){var e=xe,t=Se;if(Se=xe=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ce(e,t){return e(t)}function Ie(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==xe||null!==Se)&&(Ie(),Te())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=yi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(tu){Oe=!1}function De(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var je=!1,Le=null,Me=!1,Fe=null,Ue={onError:function(e){je=!0,Le=e}};function Ve(e,t,n,r,i,s,o,a,l){je=!1,Le=null,De.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Xe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,Ze=i.unstable_UserBlockingPriority,et=i.unstable_NormalPriority,tt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,rt=null,it=null;var st=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ot(e)/at|0)|0},ot=Math.log,at=Math.LN2;var lt=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ut(a):0!==(s&=o)&&(r=ut(s))}else 0!==(o=n&~i)?r=ut(o):0!==s&&(r=ut(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,St,kt,Et=!1,Tt=[],Ct=null,It=null,Nt=null,Pt=new Map,At=new Map,Ot=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function jt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=pi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void kt(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Mt(e)&&n.delete(t)}function Ut(){Et=!1,null!==Ct&&Mt(Ct)&&(Ct=null),null!==It&&Mt(It)&&(It=null),null!==Nt&&Mt(Nt)&&(Nt=null),Pt.forEach(Ft),At.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==It&&Vt(It,e),null!==Nt&&Vt(Nt,e),Pt.forEach(t),At.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ot.shift()}var Bt=w.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var i=vt,s=Bt.transition;Bt.transition=null;try{vt=1,Gt(e,t,n,r)}finally{vt=i,Bt.transition=s}}function Wt(e,t,n,r){var i=vt,s=Bt.transition;Bt.transition=null;try{vt=4,Gt(e,t,n,r)}finally{vt=i,Bt.transition=s}}function Gt(e,t,n,r){if(qt){var i=Yt(e,t,n,r);if(null===i)Vr(e,t,r,Kt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=jt(Ct,e,t,n,r,i),!0;case"dragenter":return It=jt(It,e,t,n,r,i),!0;case"mouseover":return Nt=jt(Nt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,jt(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,At.set(s,jt(At.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var s=mi(i);if(null!==s&&wt(s),null===(s=Yt(e,t,n,r))&&Vr(e,t,r,Kt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=pi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Je:return 1;case Ze:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Jt=null;function Zt(){if(Jt)return Jt;var e,t,n=$t,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var sn,on,an,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(ln),un=M({},ln,{view:0,detail:0}),dn=rn(un),hn=M({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&"mousemove"===e.type?(sn=e.screenX-an.screenX,on=e.screenY-an.screenY):on=sn=0,an=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=rn(hn),pn=rn(M({},hn,{dataTransfer:0})),mn=rn(M({},un,{relatedTarget:0})),gn=rn(M({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=rn(M({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),vn=rn(M({},ln,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return xn}var kn=rn(M({},un,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),En=rn(M({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=rn(M({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Cn=rn(M({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=rn(M({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Nn=[9,13,27,32],Pn=u&&"CompositionEvent"in window,An=null;u&&"documentMode"in document&&(An=document.documentMode);var On=u&&"TextEvent"in window&&!An,Rn=u&&(!Pn||An&&8<An&&11>=An),Dn=String.fromCharCode(32),jn=!1;function Ln(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Fn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function zn(e,t,n,r){Ee(r),0<(t=Br(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Bn=null,qn=null;function Hn(e){Dr(e,0)}function Wn(e){if(K(gi(e)))return e}function Gn(e,t){if("change"===e)return t}var Kn=!1;if(u){var Yn;if(u){var Qn="oninput"in document;if(!Qn){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),Qn="function"===typeof Xn.oninput}Yn=Qn}else Yn=!1;Kn=Yn&&(!document.documentMode||9<document.documentMode)}function $n(){Bn&&(Bn.detachEvent("onpropertychange",Jn),qn=Bn=null)}function Jn(e){if("value"===e.propertyName&&Wn(qn)){var t=[];zn(t,qn,e,we(e)),Pe(Hn,t)}}function Zn(e,t,n){"focusin"===e?($n(),qn=n,(Bn=t).attachEvent("onpropertychange",Jn)):"focusout"===e&&$n()}function er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(qn)}function tr(e,t){if("click"===e)return Wn(t)}function nr(e,t){if("input"===e||"change"===e)return Wn(t)}var rr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ir(e,t){if(rr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!rr(e[i],t[i]))return!1}return!0}function sr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function or(e,t){var n,r=sr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sr(r)}}function ar(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ar(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ur(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ar(n.ownerDocument.documentElement,n)){if(null!==r&&cr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=or(n,s);var o=or(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=u&&"documentMode"in document&&11>=document.documentMode,hr=null,fr=null,pr=null,mr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==hr||hr!==Y(r)||("selectionStart"in(r=hr)&&cr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},pr&&ir(pr,r)||(pr=r,0<(r=Br(fr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function yr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vr={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionend:yr("Transition","TransitionEnd")},br={},wr={};function _r(e){if(br[e])return br[e];if(!vr[e])return e;var t,n=vr[e];for(t in n)if(n.hasOwnProperty(t)&&t in wr)return br[e]=n[t];return e}u&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);var xr=_r("animationend"),Sr=_r("animationiteration"),kr=_r("animationstart"),Er=_r("transitionend"),Tr=new Map,Cr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Tr.set(e,t),l(t,[e])}for(var Nr=0;Nr<Cr.length;Nr++){var Pr=Cr[Nr];Ir(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Ir(xr,"onAnimationEnd"),Ir(Sr,"onAnimationIteration"),Ir(kr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Er,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Ve.apply(this,arguments),je){if(!je)throw Error(s(198));var u=Le;je=!1,Le=null,Me||(Me=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Rr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Rr(i,a,c),s=l}}}if(Me)throw e=Fe,Me=!1,Fe=null,e}function jr(e,t){var n=t[di];void 0===n&&(n=t[di]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function Lr(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Mr="_reactListening"+Math.random().toString(36).slice(2);function Fr(e){if(!e[Mr]){e[Mr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Lr(t,!1,e),Lr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Mr]||(t[Mr]=!0,Lr("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Qt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=pi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=s,i=we(n),o=[];e:{var a=Tr.get(e);if(void 0!==a){var l=cn,c=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case xr:case Sr:case kr:l=gn;break;case Er:l=Cn;break;case"scroll":l=dn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ae(p,h))&&u.push(zr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!pi(c)&&!c[ui])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?pi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:gi(l),f=null==c?a:gi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,pi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=qr(f))p++;for(f=0,m=h;m;m=qr(m))f++;for(;0<p-f;)u=qr(u),p--;for(;0<f-p;)h=qr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=qr(u),h=qr(h)}u=null}else u=null;null!==l&&Hr(o,a,l,u,!1),null!==c&&null!==d&&Hr(o,d,c,u,!0)}if("select"===(l=(a=r?gi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Gn;else if(Vn(a))if(Kn)g=nr;else{g=er;var y=Zn}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=tr);switch(g&&(g=g(e,r))?zn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?gi(r):window,e){case"focusin":(Vn(y)||"true"===y.contentEditable)&&(hr=y,fr=r,pr=null);break;case"focusout":pr=fr=hr=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,gr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(o,n,i)}var v;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Fn?Ln(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(Fn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Fn&&(v=Zt()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,Fn=!0)),0<(y=Br(r,b)).length&&(b=new vn(b,e,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=Mn(n))&&(b.data=v))),(v=On?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(jn=!0,Dn);case"textInput":return(e=t.data)===Dn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Fn)return"compositionend"===e||!Pn&&Ln(e,t)?(e=Zt(),Jt=$t=Xt=null,Fn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Br(r,"onBeforeInput")).length&&(i=new vn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Dr(o,t)}))}function zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Br(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ae(e,n))&&r.unshift(zr(e,s,i)),null!=(s=Ae(e,t))&&r.push(zr(e,s,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ae(n,s))&&o.unshift(zr(n,l,a)):i||null!=(l=Ae(n,s))&&o.push(zr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Wr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Kr(e){return("string"===typeof e?e:""+e).replace(Wr,"\n").replace(Gr,"")}function Yr(e,t,n){if(t=Kr(t),Kr(e)!==t&&n)throw Error(s(425))}function Qr(){}var Xr=null,$r=null;function Jr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zr="function"===typeof setTimeout?setTimeout:void 0,ei="function"===typeof clearTimeout?clearTimeout:void 0,ti="function"===typeof Promise?Promise:void 0,ni="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ti?function(e){return ti.resolve(null).then(e).catch(ri)}:Zr;function ri(e){setTimeout((function(){throw e}))}function ii(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function si(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function oi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ai=Math.random().toString(36).slice(2),li="__reactFiber$"+ai,ci="__reactProps$"+ai,ui="__reactContainer$"+ai,di="__reactEvents$"+ai,hi="__reactListeners$"+ai,fi="__reactHandles$"+ai;function pi(e){var t=e[li];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ui]||n[li]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=oi(e);null!==e;){if(n=e[li])return n;e=oi(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[li]||e[ui])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function gi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function yi(e){return e[ci]||null}var vi=[],bi=-1;function wi(e){return{current:e}}function _i(e){0>bi||(e.current=vi[bi],vi[bi]=null,bi--)}function xi(e,t){bi++,vi[bi]=e.current,e.current=t}var Si={},ki=wi(Si),Ei=wi(!1),Ti=Si;function Ci(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ii(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){_i(Ei),_i(ki)}function Pi(e,t,n){if(ki.current!==Si)throw Error(s(168));xi(ki,t),xi(Ei,n)}function Ai(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return M({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ti=ki.current,xi(ki,e),xi(Ei,Ei.current),!0}function Ri(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ai(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,_i(Ei),_i(ki),xi(ki,e)):_i(Ei),xi(Ei,n)}var Di=null,ji=!1,Li=!1;function Mi(e){null===Di?Di=[e]:Di.push(e)}function Fi(){if(!Li&&null!==Di){Li=!0;var e=0,t=vt;try{var n=Di;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Di=null,ji=!1}catch(i){throw null!==Di&&(Di=Di.slice(e+1)),Ge(Je,Fi),i}finally{vt=t,Li=!1}}return null}var Ui=[],Vi=0,zi=null,Bi=0,qi=[],Hi=0,Wi=null,Gi=1,Ki="";function Yi(e,t){Ui[Vi++]=Bi,Ui[Vi++]=zi,zi=e,Bi=t}function Qi(e,t,n){qi[Hi++]=Gi,qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e;var r=Gi;e=Ki;var i=32-st(r)-1;r&=~(1<<i),n+=1;var s=32-st(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Gi=1<<32-st(t)+i|n<<i|r,Ki=s+e}else Gi=1<<s|n<<i|r,Ki=e}function Xi(e){null!==e.return&&(Yi(e,1),Qi(e,1,0))}function $i(e){for(;e===zi;)zi=Ui[--Vi],Ui[Vi]=null,Bi=Ui[--Vi],Ui[Vi]=null;for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null,Gi=qi[--Hi],qi[Hi]=null}var Ji=null,Zi=null,es=!1,ts=null;function ns(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function rs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ji=e,Zi=si(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ji=e,Zi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Wi?{id:Gi,overflow:Ki}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ji=e,Zi=null,!0);default:return!1}}function is(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ss(e){if(es){var t=Zi;if(t){var n=t;if(!rs(e,t)){if(is(e))throw Error(s(418));t=si(n.nextSibling);var r=Ji;t&&rs(e,t)?ns(r,n):(e.flags=-4097&e.flags|2,es=!1,Ji=e)}}else{if(is(e))throw Error(s(418));e.flags=-4097&e.flags|2,es=!1,Ji=e}}}function os(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ji=e}function as(e){if(e!==Ji)return!1;if(!es)return os(e),es=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Jr(e.type,e.memoizedProps)),t&&(t=Zi)){if(is(e))throw ls(),Error(s(418));for(;t;)ns(e,t),t=si(t.nextSibling)}if(os(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Zi=si(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Zi=null}}else Zi=Ji?si(e.stateNode.nextSibling):null;return!0}function ls(){for(var e=Zi;e;)e=si(e.nextSibling)}function cs(){Zi=Ji=null,es=!1}function us(e){null===ts?ts=[e]:ts.push(e)}var ds=w.ReactCurrentBatchConfig;function hs(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var fs=wi(null),ps=null,ms=null,gs=null;function ys(){gs=ms=ps=null}function vs(e){var t=fs.current;_i(fs),e._currentValue=t}function bs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ws(e,t){ps=e,gs=ms=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ga=!0),e.firstContext=null)}function _s(e){var t=e._currentValue;if(gs!==e)if(e={context:e,memoizedValue:t,next:null},null===ms){if(null===ps)throw Error(s(308));ms=e,ps.dependencies={lanes:0,firstContext:e}}else ms=ms.next=e;return t}var xs=null;function Ss(e){null===xs?xs=[e]:xs.push(e)}function ks(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ss(t)):(n.next=i.next,i.next=n),t.interleaved=n,Es(e,r)}function Es(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ts=!1;function Cs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Is(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ns(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Es(e,n)}return null===(i=r.interleaved)?(t.next=t,Ss(r)):(t.next=i.next,i.next=t),r.interleaved=t,Es(e,n)}function As(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Os(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Rs(e,t,n,r){var i=e.updateQueue;Ts=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(o=0,u=c=l=null,a=s;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Ts=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=d}}function Ds(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var js=(new r.Component).refs;function Ls(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ms={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$l(),i=Jl(e),s=Ns(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ps(e,s,i))&&(Zl(t,e,i,r),As(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$l(),i=Jl(e),s=Ns(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ps(e,s,i))&&(Zl(t,e,i,r),As(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$l(),r=Jl(e),i=Ns(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ps(e,i,r))&&(Zl(t,e,r,n),As(t,e,r))}};function Fs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!ir(n,r)||!ir(i,s))}function Us(e,t,n){var r=!1,i=Si,s=t.contextType;return"object"===typeof s&&null!==s?s=_s(s):(i=Ii(t)?Ti:ki.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):Si),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ms,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Vs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ms.enqueueReplaceState(t,t.state,null)}function zs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=js,Cs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=_s(s):(s=Ii(t)?Ti:ki.current,i.context=Ci(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Ls(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ms.enqueueReplaceState(i,i.state,null),Rs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Bs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===js&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function qs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hs(e){return(0,e._init)(e._payload)}function Ws(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&Hs(s)===t.type)?((r=i(t,n.props)).ref=Bs(e,t,n),r.return=e,r):((r=Ac(n.type,n.key,n.props,null,e.mode,r)).ref=Bs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ac(t.type,t.key,t.props,null,e.mode,n)).ref=Bs(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=Oc(t,e.mode,n,null)).return=e,t;qs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||j(n))return null!==i?null:d(e,t,n,r,null);qs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||j(r))return d(t,e=e.get(n)||null,r,i,null);qs(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,a[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=o(y,s,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===a.length)return n(i,d),es&&Yi(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(s=o(d,s,m),null===u?c=d:u.sibling=d,u=d);return es&&Yi(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),es&&Yi(i,m),c}function g(i,a,l,c){var u=j(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),es&&Yi(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(a=o(v,a,g),null===d?u=v:d.sibling=v,d=v);return es&&Yi(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),es&&Yi(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===S){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Hs(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Bs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===S?((s=Oc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Ac(o.type,o.key,o.props,null,r.mode,l)).ref=Bs(r,s,o),l.return=r,r=l)}return a(r);case x:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=jc(o,r.mode,l)).return=r,r=s}return a(r);case O:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(j(o))return g(r,s,o,l);qs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Dc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var Gs=Ws(!0),Ks=Ws(!1),Ys={},Qs=wi(Ys),Xs=wi(Ys),$s=wi(Ys);function Js(e){if(e===Ys)throw Error(s(174));return e}function Zs(e,t){switch(xi($s,t),xi(Xs,e),xi(Qs,Ys),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Qs),xi(Qs,t)}function eo(){_i(Qs),_i(Xs),_i($s)}function to(e){Js($s.current);var t=Js(Qs.current),n=le(t,e.type);t!==n&&(xi(Xs,e),xi(Qs,n))}function no(e){Xs.current===e&&(_i(Qs),_i(Xs))}var ro=wi(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var so=[];function oo(){for(var e=0;e<so.length;e++)so[e]._workInProgressVersionPrimary=null;so.length=0}var ao=w.ReactCurrentDispatcher,lo=w.ReactCurrentBatchConfig,co=0,uo=null,ho=null,fo=null,po=!1,mo=!1,go=0,yo=0;function vo(){throw Error(s(321))}function bo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return!1;return!0}function wo(e,t,n,r,i,o){if(co=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ao.current=null===e||null===e.memoizedState?ra:ia,e=n(r,i),mo){o=0;do{if(mo=!1,go=0,25<=o)throw Error(s(301));o+=1,fo=ho=null,t.updateQueue=null,ao.current=sa,e=n(r,i)}while(mo)}if(ao.current=na,t=null!==ho&&null!==ho.next,co=0,fo=ho=uo=null,po=!1,t)throw Error(s(300));return e}function _o(){var e=0!==go;return go=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===fo?uo.memoizedState=fo=e:fo=fo.next=e,fo}function So(){if(null===ho){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=ho.next;var t=null===fo?uo.memoizedState:fo.next;if(null!==t)fo=t,ho=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ho=e).memoizedState,baseState:ho.baseState,baseQueue:ho.baseQueue,queue:ho.queue,next:null},null===fo?uo.memoizedState=fo=e:fo=fo.next=e}return fo}function ko(e,t){return"function"===typeof t?t(e):t}function Eo(e){var t=So(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ho,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((co&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,uo.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,rr(r,t.memoizedState)||(ga=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,Rl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function To(e){var t=So(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);rr(o,t.memoizedState)||(ga=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Co(){}function Io(e,t){var n=uo,r=So(),i=t(),o=!rr(r.memoizedState,i);if(o&&(r.memoizedState=i,ga=!0),r=r.queue,Vo(Ao.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==fo&&1&fo.memoizedState.tag){if(n.flags|=2048,jo(9,Po.bind(null,n,r,i,t),void 0,null),null===Tl)throw Error(s(349));0!==(30&co)||No(n,t,i)}return i}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Oo(t)&&Ro(e)}function Ao(e,t,n){return n((function(){Oo(t)&&Ro(e)}))}function Oo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rr(e,n)}catch(r){return!0}}function Ro(e){var t=Es(e,1);null!==t&&Zl(t,e,1,-1)}function Do(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:e},t.queue=e,e=e.dispatch=Jo.bind(null,uo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return So().memoizedState}function Mo(e,t,n,r){var i=xo();uo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=So();r=void 0===r?null:r;var s=void 0;if(null!==ho){var o=ho.memoizedState;if(s=o.destroy,null!==r&&bo(r,o.deps))return void(i.memoizedState=jo(t,n,s,r))}uo.flags|=e,i.memoizedState=jo(1|t,n,s,r)}function Uo(e,t){return Mo(8390656,8,e,t)}function Vo(e,t){return Fo(2048,8,e,t)}function zo(e,t){return Fo(4,2,e,t)}function Bo(e,t){return Fo(4,4,e,t)}function qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ho(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,qo.bind(null,t,e),n)}function Wo(){}function Go(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yo(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,ga=!0),e.memoizedState=n):(rr(n,t)||(n=pt(),uo.lanes|=n,Rl|=n,e.baseState=!0),t)}function Qo(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=lo.transition;lo.transition={};try{e(!1),t()}finally{vt=n,lo.transition=r}}function Xo(){return So().memoizedState}function $o(e,t,n){var r=Jl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zo(e))ea(t,n);else if(null!==(n=ks(e,t,n,r))){Zl(n,e,r,$l()),ta(n,t,r)}}function Jo(e,t,n){var r=Jl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zo(e))ea(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,rr(a,o)){var l=t.interleaved;return null===l?(i.next=i,Ss(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=ks(e,t,i,r))&&(Zl(n,e,r,i=$l()),ta(n,t,r))}}function Zo(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function ea(e,t){mo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ta(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var na={readContext:_s,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},ra={readContext:_s,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:_s,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$o.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Do,useDebugValue:Wo,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Do(!1),t=e[0];return e=Qo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=xo();if(es){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Tl)throw Error(s(349));0!==(30&co)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Uo(Ao.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Tl.identifierPrefix;if(es){var n=Ki;t=":"+t+"R"+(n=(Gi&~(1<<32-st(Gi)-1)).toString(32)+n),0<(n=go++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ia={readContext:_s,useCallback:Go,useContext:_s,useEffect:Vo,useImperativeHandle:Ho,useInsertionEffect:zo,useLayoutEffect:Bo,useMemo:Ko,useReducer:Eo,useRef:Lo,useState:function(){return Eo(ko)},useDebugValue:Wo,useDeferredValue:function(e){return Yo(So(),ho.memoizedState,e)},useTransition:function(){return[Eo(ko)[0],So().memoizedState]},useMutableSource:Co,useSyncExternalStore:Io,useId:Xo,unstable_isNewReconciler:!1},sa={readContext:_s,useCallback:Go,useContext:_s,useEffect:Vo,useImperativeHandle:Ho,useInsertionEffect:zo,useLayoutEffect:Bo,useMemo:Ko,useReducer:To,useRef:Lo,useState:function(){return To(ko)},useDebugValue:Wo,useDeferredValue:function(e){var t=So();return null===ho?t.memoizedState=e:Yo(t,ho.memoizedState,e)},useTransition:function(){return[To(ko)[0],So().memoizedState]},useMutableSource:Co,useSyncExternalStore:Io,useId:Xo,unstable_isNewReconciler:!1};function oa(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function aa(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function la(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ca="function"===typeof WeakMap?WeakMap:Map;function ua(e,t,n){(n=Ns(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zl||(zl=!0,Bl=r),la(0,t)},n}function da(e,t,n){(n=Ns(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){la(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){la(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ha(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ca;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xc.bind(null,e,t,n),t.then(e,e))}function fa(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function pa(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ns(-1,1)).tag=2,Ps(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ma=w.ReactCurrentOwner,ga=!1;function ya(e,t,n,r){t.child=null===e?Ks(t,null,n,r):Gs(t,e.child,n,r)}function va(e,t,n,r,i){n=n.render;var s=t.ref;return ws(t,i),r=wo(e,t,n,r,s,i),n=_o(),null===e||ga?(es&&n&&Xi(t),t.flags|=1,ya(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,za(e,t,i))}function ba(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Nc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ac(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,wa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:ir)(o,r)&&e.ref===t.ref)return za(e,t,i)}return t.flags|=1,(e=Pc(s,r)).ref=t.ref,e.return=t,t.child=e}function wa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(ir(s,r)&&e.ref===t.ref){if(ga=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,za(e,t,i);0!==(131072&e.flags)&&(ga=!0)}}return Sa(e,t,n,r,i)}function _a(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Pl,Nl),Nl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Pl,Nl),Nl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,xi(Pl,Nl),Nl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,xi(Pl,Nl),Nl|=r;return ya(e,t,i,n),t.child}function xa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sa(e,t,n,r,i){var s=Ii(n)?Ti:ki.current;return s=Ci(t,s),ws(t,i),n=wo(e,t,n,r,s,i),r=_o(),null===e||ga?(es&&r&&Xi(t),t.flags|=1,ya(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,za(e,t,i))}function ka(e,t,n,r,i){if(Ii(n)){var s=!0;Oi(t)}else s=!1;if(ws(t,i),null===t.stateNode)Va(e,t),Us(t,n,r),zs(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=_s(c):c=Ci(t,c=Ii(n)?Ti:ki.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&Vs(t,o,r,c),Ts=!1;var h=t.memoizedState;o.state=h,Rs(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Ei.current||Ts?("function"===typeof u&&(Ls(t,n,u,r),l=t.memoizedState),(a=Ts||Fs(t,n,a,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Is(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:hs(t.type,a),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=_s(l):l=Ci(t,l=Ii(n)?Ti:ki.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==l)&&Vs(t,o,r,l),Ts=!1,h=t.memoizedState,o.state=h,Rs(t,r,o,i);var p=t.memoizedState;a!==d||h!==p||Ei.current||Ts?("function"===typeof f&&(Ls(t,n,f,r),p=t.memoizedState),(c=Ts||Fs(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ea(e,t,n,r,s,i)}function Ea(e,t,n,r,i,s){xa(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ri(t,n,!1),za(e,t,s);r=t.stateNode,ma.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Gs(t,e.child,null,s),t.child=Gs(t,null,a,s)):ya(e,t,a,s),t.memoizedState=r.state,i&&Ri(t,n,!0),t.child}function Ta(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),Zs(e,t.containerInfo)}function Ca(e,t,n,r,i){return cs(),us(i),t.flags|=256,ya(e,t,n,r),t.child}var Ia,Na,Pa,Aa,Oa={dehydrated:null,treeContext:null,retryLane:0};function Ra(e){return{baseLanes:e,cachePool:null,transitions:null}}function Da(e,t,n){var r,i=t.pendingProps,o=ro.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),xi(ro,1&o),null===e)return ss(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Rc(l,i,0,null),e=Oc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ra(n),t.memoizedState=Oa,e):ja(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,La(e,t,a,r=aa(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Rc({mode:"visible",children:r.children},i,0,null),(o=Oc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Gs(t,e.child,null,a),t.child.memoizedState=Ra(a),t.memoizedState=Oa,o);if(0===(1&t.mode))return La(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,La(e,t,a,r=aa(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ga||l){if(null!==(r=Tl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Es(e,i),Zl(r,e,i,-1))}return hc(),La(e,t,a,r=aa(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Zi=si(i.nextSibling),Ji=t,es=!0,ts=null,null!==e&&(qi[Hi++]=Gi,qi[Hi++]=Ki,qi[Hi++]=Wi,Gi=e.id,Ki=e.overflow,Wi=t),t=ja(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Pc(r,a):(a=Oc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ra(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Oa,i}return e=(a=e.child).sibling,i=Pc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function La(e,t,n,r){return null!==r&&us(r),Gs(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ma(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),bs(e.return,t,n)}function Fa(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ua(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ya(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ma(e,n,t);else if(19===e.tag)Ma(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fa(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fa(t,!0,n,null,s);break;case"together":Fa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Va(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function za(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ba(e,t){if(!es)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ha(e,t,n){var r=t.pendingProps;switch($i(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qa(t),null;case 1:case 17:return Ii(t.type)&&Ni(),qa(t),null;case 3:return r=t.stateNode,eo(),_i(Ei),_i(ki),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(as(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ts&&(rc(ts),ts=null))),Na(e,t),qa(t),null;case 5:no(t);var i=Js($s.current);if(n=t.type,null!==e&&null!=t.stateNode)Pa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return qa(t),null}if(e=Js(Qs.current),as(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[li]=t,r[ci]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Ar.length;i++)jr(Ar[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":X(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&jr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Qr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[li]=t,e[ci]=r,Ia(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ar.length;i++)jr(Ar[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":X(e,r),i=Q(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?me(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&jr("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qa(t),null;case 6:if(e&&null!=t.stateNode)Aa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Js($s.current),Js(Qs.current),as(t)){if(r=t.stateNode,n=t.memoizedProps,r[li]=t,(o=r.nodeValue!==n)&&null!==(e=Ji))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[li]=t,t.stateNode=r}return qa(t),null;case 13:if(_i(ro),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(es&&null!==Zi&&0!==(1&t.mode)&&0===(128&t.flags))ls(),cs(),t.flags|=98560,o=!1;else if(o=as(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[li]=t}else cs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qa(t),o=!1}else null!==ts&&(rc(ts),ts=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Al&&(Al=3):hc())),null!==t.updateQueue&&(t.flags|=4),qa(t),null);case 4:return eo(),Na(e,t),null===e&&Fr(t.stateNode.containerInfo),qa(t),null;case 10:return vs(t.type._context),qa(t),null;case 19:if(_i(ro),null===(o=t.memoizedState))return qa(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ba(o,!1);else{if(0!==Al||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=io(e))){for(t.flags|=128,Ba(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Ul&&(t.flags|=128,r=!0,Ba(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ba(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!es)return qa(t),null}else 2*Xe()-o.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Ba(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ro.current,xi(ro,r?1&n|2:1&n),t):(qa(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nl)&&(qa(t),6&t.subtreeFlags&&(t.flags|=8192)):qa(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Wa(e,t){switch($i(t),t.tag){case 1:return Ii(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),_i(Ei),_i(ki),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(_i(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));cs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(ro),null;case 4:return eo(),null;case 10:return vs(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}Ia=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Na=function(){},Pa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Js(Qs.current);var s,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&jr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Aa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ga=!1,Ka=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Qa=null;function Xa(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function $a(e,t,n){try{n()}catch(r){_c(e,t,r)}}var Ja=!1;function Za(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&$a(t,n,s)}i=i.next}while(i!==r)}}function el(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nl(e){var t=e.alternate;null!==t&&(e.alternate=null,nl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[li],delete t[ci],delete t[di],delete t[hi],delete t[fi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function sl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(sl(e,t,n),e=e.sibling;null!==e;)sl(e,t,n),e=e.sibling}function ol(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}var al=null,ll=!1;function cl(e,t,n){for(n=n.child;null!==n;)ul(e,t,n),n=n.sibling}function ul(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(a){}switch(n.tag){case 5:Ka||Xa(n,t);case 6:var r=al,i=ll;al=null,cl(e,t,n),ll=i,null!==(al=r)&&(ll?(e=al,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):al.removeChild(n.stateNode));break;case 18:null!==al&&(ll?(e=al,n=n.stateNode,8===e.nodeType?ii(e.parentNode,n):1===e.nodeType&&ii(e,n),zt(e)):ii(al,n.stateNode));break;case 4:r=al,i=ll,al=n.stateNode.containerInfo,ll=!0,cl(e,t,n),al=r,ll=i;break;case 0:case 11:case 14:case 15:if(!Ka&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&$a(n,t,o),i=i.next}while(i!==r)}cl(e,t,n);break;case 1:if(!Ka&&(Xa(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_c(n,t,a)}cl(e,t,n);break;case 21:cl(e,t,n);break;case 22:1&n.mode?(Ka=(r=Ka)||null!==n.memoizedState,cl(e,t,n),Ka=r):cl(e,t,n);break;default:cl(e,t,n)}}function dl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ya),t.forEach((function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:al=l.stateNode,ll=!1;break e;case 3:case 4:al=l.stateNode.containerInfo,ll=!0;break e}l=l.return}if(null===al)throw Error(s(160));ul(o,a,i),al=null,ll=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){_c(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hl(t,e),pl(e),4&r){try{Za(3,e,e.return),el(3,e)}catch(g){_c(e,e.return,g)}try{Za(5,e,e.return)}catch(g){_c(e,e.return,g)}}break;case 1:hl(t,e),pl(e),512&r&&null!==n&&Xa(n,n.return);break;case 5:if(hl(t,e),pl(e),512&r&&null!==n&&Xa(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){_c(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(i,o),ve(l,a);var u=ve(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?ue(i,h):"children"===d?de(i,h):b(i,d,h,u)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[ci]=o}catch(g){_c(e,e.return,g)}}break;case 6:if(hl(t,e),pl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){_c(e,e.return,g)}}break;case 3:if(hl(t,e),pl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){_c(e,e.return,g)}break;case 4:default:hl(t,e),pl(e);break;case 13:hl(t,e),pl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Fl=Xe())),4&r&&dl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ka=(u=Ka)||d,hl(t,e),Ka=u):hl(t,e),pl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Qa=e,d=e.child;null!==d;){for(h=Qa=d;null!==Qa;){switch(p=(f=Qa).child,f.tag){case 0:case 11:case 14:case 15:Za(4,f,f.return);break;case 1:Xa(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){_c(r,n,g)}}break;case 5:Xa(f,f.return);break;case 22:if(null!==f.memoizedState){vl(h);continue}}null!==p?(p.return=f,Qa=p):vl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",a))}catch(g){_c(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){_c(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:hl(t,e),pl(e),4&r&&dl(e);case 21:}}function pl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ol(e,il(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;sl(e,il(e),o);break;default:throw Error(s(161))}}catch(a){_c(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ml(e,t,n){Qa=e,gl(e,t,n)}function gl(e,t,n){for(var r=0!==(1&e.mode);null!==Qa;){var i=Qa,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ga;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ka;a=Ga;var c=Ka;if(Ga=o,(Ka=l)&&!c)for(Qa=i;null!==Qa;)l=(o=Qa).child,22===o.tag&&null!==o.memoizedState?bl(i):null!==l?(l.return=o,Qa=l):bl(i);for(;null!==s;)Qa=s,gl(s,t,n),s=s.sibling;Qa=i,Ga=a,Ka=c}yl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Qa=s):yl(e)}}function yl(e){for(;null!==Qa;){var t=Qa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ka||el(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ka)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:hs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ds(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ds(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(s(163))}Ka||512&t.flags&&tl(t)}catch(f){_c(t,t.return,f)}}if(t===e){Qa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qa=n;break}Qa=t.return}}function vl(e){for(;null!==Qa;){var t=Qa;if(t===e){Qa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qa=n;break}Qa=t.return}}function bl(e){for(;null!==Qa;){var t=Qa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{el(4,t)}catch(l){_c(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){_c(t,i,l)}}var s=t.return;try{tl(t)}catch(l){_c(t,s,l)}break;case 5:var o=t.return;try{tl(t)}catch(l){_c(t,o,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Qa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Qa=a;break}Qa=t.return}}var wl,_l=Math.ceil,xl=w.ReactCurrentDispatcher,Sl=w.ReactCurrentOwner,kl=w.ReactCurrentBatchConfig,El=0,Tl=null,Cl=null,Il=0,Nl=0,Pl=wi(0),Al=0,Ol=null,Rl=0,Dl=0,jl=0,Ll=null,Ml=null,Fl=0,Ul=1/0,Vl=null,zl=!1,Bl=null,ql=null,Hl=!1,Wl=null,Gl=0,Kl=0,Yl=null,Ql=-1,Xl=0;function $l(){return 0!==(6&El)?Xe():-1!==Ql?Ql:Ql=Xe()}function Jl(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Il?Il&-Il:null!==ds.transition?(0===Xl&&(Xl=pt()),Xl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function Zl(e,t,n,r){if(50<Kl)throw Kl=0,Yl=null,Error(s(185));gt(e,n,r),0!==(2&El)&&e===Tl||(e===Tl&&(0===(2&El)&&(Dl|=n),4===Al&&ic(e,Il)),ec(e,r),1===n&&0===El&&0===(1&t.mode)&&(Ul=Xe()+500,ji&&Fi()))}function ec(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-st(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ht(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Tl?Il:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){ji=!0,Mi(e)}(sc.bind(null,e)):Mi(sc.bind(null,e)),ni((function(){0===(6&El)&&Fi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=Ze;break;case 16:default:n=et;break;case 536870912:n=nt}n=Tc(n,tc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tc(e,t){if(Ql=-1,Xl=0,0!==(6&El))throw Error(s(327));var n=e.callbackNode;if(bc()&&e.callbackNode!==n)return null;var r=dt(e,e===Tl?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=fc(e,r);else{t=r;var i=El;El|=2;var o=dc();for(Tl===e&&Il===t||(Vl=null,Ul=Xe()+500,cc(e,t));;)try{mc();break}catch(l){uc(e,l)}ys(),xl.current=o,El=i,null!==Cl?t=0:(Tl=null,Il=0,t=Al)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=nc(e,i))),1===t)throw n=Ol,cc(e,0),ic(e,r),ec(e,Xe()),n;if(6===t)ic(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!rr(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=fc(e,r))&&(0!==(o=ft(e))&&(r=o,t=nc(e,o))),1===t))throw n=Ol,cc(e,0),ic(e,r),ec(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:vc(e,Ml,Vl);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=Fl+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){$l(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Zr(vc.bind(null,e,Ml,Vl),t);break}vc(e,Ml,Vl);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=Zr(vc.bind(null,e,Ml,Vl),r);break}vc(e,Ml,Vl);break;default:throw Error(s(329))}}}return ec(e,Xe()),e.callbackNode===n?tc.bind(null,e):null}function nc(e,t){var n=Ll;return e.current.memoizedState.isDehydrated&&(cc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=Ml,Ml=n,null!==t&&rc(t)),e}function rc(e){null===Ml?Ml=e:Ml.push.apply(Ml,e)}function ic(e,t){for(t&=~jl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&El))throw Error(s(327));bc();var t=dt(e,0);if(0===(1&t))return ec(e,Xe()),null;var n=fc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=nc(e,r))}if(1===n)throw n=Ol,cc(e,0),ic(e,t),ec(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vc(e,Ml,Vl),ec(e,Xe()),null}function oc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Ul=Xe()+500,ji&&Fi())}}function ac(e){null!==Wl&&0===Wl.tag&&0===(6&El)&&bc();var t=El;El|=1;var n=kl.transition,r=vt;try{if(kl.transition=null,vt=1,e)return e()}finally{vt=r,kl.transition=n,0===(6&(El=t))&&Fi()}}function lc(){Nl=Pl.current,_i(Pl)}function cc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ei(n)),null!==Cl)for(n=Cl.return;null!==n;){var r=n;switch($i(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:eo(),_i(Ei),_i(ki),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:_i(ro);break;case 10:vs(r.type._context);break;case 22:case 23:lc()}n=n.return}if(Tl=e,Cl=e=Pc(e.current,null),Il=Nl=t,Al=0,Ol=null,jl=Dl=Rl=0,Ml=Ll=null,null!==xs){for(t=0;t<xs.length;t++)if(null!==(r=(n=xs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}xs=null}return e}function uc(e,t){for(;;){var n=Cl;try{if(ys(),ao.current=na,po){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(co=0,fo=ho=uo=null,mo=!1,go=0,Sl.current=null,null===n||null===n.return){Al=1,Ol=t,Cl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=fa(a);if(null!==p){p.flags&=-257,pa(p,a,l,0,t),1&p.mode&&ha(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ha(o,u,t),hc();break e}c=Error(s(426))}else if(es&&1&l.mode){var y=fa(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),pa(y,a,l,0,t),us(oa(c,l));break e}}o=c=oa(c,l),4!==Al&&(Al=2),null===Ll?Ll=[o]:Ll.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Os(o,ua(0,c,t));break e;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Os(o,da(o,l,t));break e}}o=o.return}while(null!==o)}yc(n)}catch(w){t=w,Cl===n&&null!==n&&(Cl=n=n.return);continue}break}}function dc(){var e=xl.current;return xl.current=na,null===e?na:e}function hc(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===Tl||0===(268435455&Rl)&&0===(268435455&Dl)||ic(Tl,Il)}function fc(e,t){var n=El;El|=2;var r=dc();for(Tl===e&&Il===t||(Vl=null,cc(e,t));;)try{pc();break}catch(i){uc(e,i)}if(ys(),El=n,xl.current=r,null!==Cl)throw Error(s(261));return Tl=null,Il=0,Al}function pc(){for(;null!==Cl;)gc(Cl)}function mc(){for(;null!==Cl&&!Ye();)gc(Cl)}function gc(e){var t=wl(e.alternate,e,Nl);e.memoizedProps=e.pendingProps,null===t?yc(e):Cl=t,Sl.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ha(n,t,Nl)))return void(Cl=n)}else{if(null!==(n=Wa(n,t)))return n.flags&=32767,void(Cl=n);if(null===e)return Al=6,void(Cl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cl=t);Cl=t=e}while(null!==t);0===Al&&(Al=5)}function vc(e,t,n){var r=vt,i=kl.transition;try{kl.transition=null,vt=1,function(e,t,n,r){do{bc()}while(null!==Wl);if(0!==(6&El))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Tl&&(Cl=Tl=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hl||(Hl=!0,Tc(et,(function(){return bc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=kl.transition,kl.transition=null;var a=vt;vt=1;var l=El;El|=4,Sl.current=null,function(e,t){if(Xr=qt,cr(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($r={focusedElem:e,selectionRange:n},qt=!1,Qa=t;null!==Qa;)if(e=(t=Qa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qa=e;else for(;null!==Qa;){t=Qa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:hs(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(_){_c(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Qa=e;break}Qa=t.return}m=Ja,Ja=!1}(e,n),fl(n,e),ur($r),qt=!!Xr,$r=Xr=null,e.current=n,ml(n,e,i),Qe(),El=l,vt=a,kl.transition=o}else e.current=n;if(Hl&&(Hl=!1,Wl=e,Gl=i),o=e.pendingLanes,0===o&&(ql=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ec(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zl)throw zl=!1,e=Bl,Bl=null,e;0!==(1&Gl)&&0!==e.tag&&bc(),o=e.pendingLanes,0!==(1&o)?e===Yl?Kl++:(Kl=0,Yl=e):Kl=0,Fi()}(e,t,n,r)}finally{kl.transition=i,vt=r}return null}function bc(){if(null!==Wl){var e=bt(Gl),t=kl.transition,n=vt;try{if(kl.transition=null,vt=16>e?16:e,null===Wl)var r=!1;else{if(e=Wl,Wl=null,Gl=0,0!==(6&El))throw Error(s(331));var i=El;for(El|=4,Qa=e.current;null!==Qa;){var o=Qa,a=o.child;if(0!==(16&Qa.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qa=u;null!==Qa;){var d=Qa;switch(d.tag){case 0:case 11:case 15:Za(8,d,o)}var h=d.child;if(null!==h)h.return=d,Qa=h;else for(;null!==Qa;){var f=(d=Qa).sibling,p=d.return;if(nl(d),d===u){Qa=null;break}if(null!==f){f.return=p,Qa=f;break}Qa=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Qa=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Qa=a;else e:for(;null!==Qa;){if(0!==(2048&(o=Qa).flags))switch(o.tag){case 0:case 11:case 15:Za(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Qa=v;break e}Qa=o.return}}var b=e.current;for(Qa=b;null!==Qa;){var w=(a=Qa).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Qa=w;else e:for(a=b;null!==Qa;){if(0!==(2048&(l=Qa).flags))try{switch(l.tag){case 0:case 11:case 15:el(9,l)}}catch(x){_c(l,l.return,x)}if(l===a){Qa=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Qa=_;break e}Qa=l.return}}if(El=i,Fi(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(x){}r=!0}return r}finally{vt=n,kl.transition=t}}return!1}function wc(e,t,n){e=Ps(e,t=ua(0,t=oa(n,t),1),1),t=$l(),null!==e&&(gt(e,1,t),ec(e,t))}function _c(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Ps(t,e=da(t,e=oa(n,e),1),1),e=$l(),null!==t&&(gt(t,1,e),ec(t,e));break}}t=t.return}}function xc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=$l(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Il&n)===n&&(4===Al||3===Al&&(130023424&Il)===Il&&500>Xe()-Fl?cc(e,0):jl|=n),ec(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=$l();null!==(e=Es(e,t))&&(gt(e,t,n),ec(e,n))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Sc(e,n)}function Tc(e,t){return Ge(e,t)}function Cc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,r){return new Cc(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ac(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Nc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Oc(n.children,i,o,t);case k:a=8,i|=8;break;case E:return(e=Ic(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=Ic(13,n,t,i)).elementType=N,e.lanes=o,e;case P:return(e=Ic(19,n,t,i)).elementType=P,e.lanes=o,e;case R:return Rc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case C:a=9;break e;case I:a=11;break e;case A:a=14;break e;case O:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ic(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Oc(e,t,n,r){return(e=Ic(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Ic(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mc(e,t,n,r,i,s,o,a,l){return e=new Lc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ic(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cs(s),e}function Fc(e){if(!e)return Si;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ii(n))return Ai(e,n,t)}return t}function Uc(e,t,n,r,i,s,o,a,l){return(e=Mc(n,r,!0,e,0,s,0,a,l)).context=Fc(null),n=e.current,(s=Ns(r=$l(),i=Jl(n))).callback=void 0!==t&&null!==t?t:null,Ps(n,s,i),e.current.lanes=i,gt(e,i,r),ec(e,r),e}function Vc(e,t,n,r){var i=t.current,s=$l(),o=Jl(i);return n=Fc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ns(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ps(i,t,o))&&(Zl(e,i,o,s),As(e,i,o)),o}function zc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Bc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Bc(e,t),(e=e.alternate)&&Bc(e,t)}wl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)ga=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ga=!1,function(e,t,n){switch(t.tag){case 3:Ta(t),cs();break;case 5:to(t);break;case 1:Ii(t.type)&&Oi(t);break;case 4:Zs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(fs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Da(e,t,n):(xi(ro,1&ro.current),null!==(e=za(e,t,n))?e.sibling:null);xi(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ua(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,_a(e,t,n)}return za(e,t,n)}(e,t,n);ga=0!==(131072&e.flags)}else ga=!1,es&&0!==(1048576&t.flags)&&Qi(t,Bi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Va(e,t),e=t.pendingProps;var i=Ci(t,ki.current);ws(t,n),i=wo(null,t,r,e,i,n);var o=_o();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(r)?(o=!0,Oi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Cs(t),i.updater=Ms,t.stateNode=i,i._reactInternals=t,zs(t,r,e,n),t=Ea(null,t,r,!0,o,n)):(t.tag=0,es&&o&&Xi(t),ya(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===A)return 14}return 2}(r),e=hs(r,e),i){case 0:t=Sa(null,t,r,e,n);break e;case 1:t=ka(null,t,r,e,n);break e;case 11:t=va(null,t,r,e,n);break e;case 14:t=ba(null,t,r,hs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:hs(r,i),n);case 1:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:hs(r,i),n);case 3:e:{if(Ta(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Is(e,t),Rs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ca(e,t,r,n,i=oa(Error(s(423)),t));break e}if(r!==i){t=Ca(e,t,r,n,i=oa(Error(s(424)),t));break e}for(Zi=si(t.stateNode.containerInfo.firstChild),Ji=t,es=!0,ts=null,n=Ks(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(cs(),r===i){t=za(e,t,n);break e}ya(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&ss(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,Jr(r,i)?a=null:null!==o&&Jr(r,o)&&(t.flags|=32),xa(e,t),ya(e,t,a,n),t.child;case 6:return null===e&&ss(t),null;case 13:return Da(e,t,n);case 4:return Zs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Gs(t,null,r,n):ya(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,va(e,t,r,i=t.elementType===r?i:hs(r,i),n);case 7:return ya(e,t,t.pendingProps,n),t.child;case 8:case 12:return ya(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,xi(fs,r._currentValue),r._currentValue=a,null!==o)if(rr(o.value,a)){if(o.children===i.children&&!Ei.current){t=za(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ns(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),bs(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),bs(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ya(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ws(t,n),r=r(i=_s(i)),t.flags|=1,ya(e,t,r,n),t.child;case 14:return i=hs(r=t.type,t.pendingProps),ba(e,t,r,i=hs(r.type,i),n);case 15:return wa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:hs(r,i),Va(e,t),t.tag=1,Ii(r)?(e=!0,Oi(t)):e=!1,ws(t,n),Us(t,r,i),zs(t,r,i,n),Ea(null,t,r,!0,e,n);case 19:return Ua(e,t,n);case 22:return _a(e,t,n)}throw Error(s(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Wc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Xc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=zc(o);a.call(e)}}Vc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=zc(o);s.call(e)}}var o=Uc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=o,e[ui]=o.current,Fr(8===e.nodeType?e.parentNode:e),ac(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=zc(l);a.call(e)}}var l=Mc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[ui]=l.current,Fr(8===e.nodeType?e.parentNode:e),ac((function(){Vc(t,l,n,r)})),l}(n,t,e,i,r);return zc(o)}Gc.prototype.render=Wc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Vc(e,t,null,null)},Gc.prototype.unmount=Wc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ac((function(){Vc(null,e,null,null)})),t[ui]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),ec(t,Xe()),0===(6&El)&&(Ul=Xe()+500,Fi()))}break;case 13:ac((function(){var t=Es(e,1);if(null!==t){var n=$l();Zl(t,e,1,n)}})),qc(e,1)}},_t=function(e){if(13===e.tag){var t=Es(e,134217728);if(null!==t)Zl(t,e,134217728,$l());qc(e,134217728)}},xt=function(e){if(13===e.tag){var t=Jl(e),n=Es(e,t);if(null!==n)Zl(n,e,t,$l());qc(e,t)}},St=function(){return vt},kt=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=yi(r);if(!i)throw Error(s(90));K(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=oc,Ie=ac;var $c={usingClientEntryPoint:!1,Events:[mi,gi,yi,Ee,Te,oc]},Jc={findFiberByHostInstance:pi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Zc={bundleType:Jc.bundleType,version:Jc.version,rendererPackageName:Jc.rendererPackageName,rendererConfig:Jc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:Jc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{rt=eu.inject(Zc),it=eu}catch(tu){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$c,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(s(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Mc(e,1,!1,null,0,n,0,r,i),e[ui]=t.current,Fr(8===e.nodeType?e.parentNode:e),new Wc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return ac(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(s(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,i,0,o,a),e[ui]=t.current,Fr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(s(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(s(40));return!!e._reactRootContainer&&(ac((function(){Xc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ui]=null}))})),!0)},t.unstable_batchedUpdates=oc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Xc(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},775:(e,t,n)=>{"use strict";var r=n(9998);t.H=r.createRoot,r.hydrateRoot},9998:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(5914)},9448:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n(2483)),i=h(n(6405)),s=h(n(9998)),o=h(n(5568)),a=n(1324),l=n(8305),c=n(6111),u=h(n(7895)),d=h(n(7019));function h(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends r.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:r}=t;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}})}constructor(e){super(e),m(this,"onDragStart",((e,t)=>{(0,d.default)("Draggable: onDragStart: %j",t);if(!1===this.props.onStart(e,(0,l.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})})),m(this,"onDrag",((e,t)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",t);const n=(0,l.createDraggableData)(this,t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;const[i,s]=(0,l.getBoundPosition)(this,r.x,r.y);r.x=i,r.y=s,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(!1===this.props.onDrag(e,n))return!1;this.setState(r)})),m(this,"onDragStop",((e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,l.createDraggableData)(this,t)))return!1;(0,d.default)("Draggable: onDragStop: %j",t);const n={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)})),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var e,t;return null!==(e=null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current)&&void 0!==e?e:s.default.findDOMNode(this)}render(){const{axis:e,bounds:t,children:n,defaultPosition:i,defaultClassName:s,defaultClassNameDragging:c,defaultClassNameDragged:d,position:h,positionOffset:f,scale:m,...g}=this.props;let y={},v=null;const b=!Boolean(h)||this.state.dragging,w=h||i,_={x:(0,l.canDragX)(this)&&b?this.state.x:w.x,y:(0,l.canDragY)(this)&&b?this.state.y:w.y};this.state.isElementSVG?v=(0,a.createSVGTransform)(_,f):y=(0,a.createCSSTransform)(_,f);const x=(0,o.default)(n.props.className||"",s,{[c]:this.state.dragging,[d]:this.state.dragged});return r.createElement(u.default,p({},g,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:x,style:{...n.props.style,...y},transform:v}))}}t.default=g,m(g,"displayName","Draggable"),m(g,"propTypes",{...u.default.propTypes,axis:i.default.oneOf(["both","x","y","none"]),bounds:i.default.oneOfType([i.default.shape({left:i.default.number,right:i.default.number,top:i.default.number,bottom:i.default.number}),i.default.string,i.default.oneOf([!1])]),defaultClassName:i.default.string,defaultClassNameDragging:i.default.string,defaultClassNameDragged:i.default.string,defaultPosition:i.default.shape({x:i.default.number,y:i.default.number}),positionOffset:i.default.shape({x:i.default.oneOfType([i.default.number,i.default.string]),y:i.default.oneOfType([i.default.number,i.default.string])}),position:i.default.shape({x:i.default.number,y:i.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),m(g,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},7895:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n(2483)),i=u(n(6405)),s=u(n(9998)),o=n(1324),a=n(8305),l=n(6111),c=u(n(7019));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={start:"touchstart",move:"touchmove",stop:"touchend"},p={start:"mousedown",move:"mousemove",stop:"mouseup"};let m=p;class g extends r.Component{constructor(){super(...arguments),h(this,"dragging",!1),h(this,"lastX",NaN),h(this,"lastY",NaN),h(this,"touchIdentifier",null),h(this,"mounted",!1),h(this,"handleDragStart",(e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"===typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,o.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,o.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"===e.type&&e.preventDefault();const r=(0,o.getTouchIdentifier)(e);this.touchIdentifier=r;const i=(0,a.getControlPosition)(e,r,this);if(null==i)return;const{x:s,y:l}=i,u=(0,a.createCoreData)(this,s,l);(0,c.default)("DraggableCore: handleDragStart: %j",u),(0,c.default)("calling",this.props.onStart);!1!==this.props.onStart(e,u)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,o.addUserSelectStyles)(n),this.dragging=!0,this.lastX=s,this.lastY=l,(0,o.addEvent)(n,m.move,this.handleDrag),(0,o.addEvent)(n,m.stop,this.handleDragStop))})),h(this,"handleDrag",(e=>{const t=(0,a.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=r-this.lastY;if([e,t]=(0,a.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,r=this.lastY+t}const i=(0,a.createCoreData)(this,n,r);(0,c.default)("DraggableCore: handleDrag: %j",i);if(!1!==this.props.onDrag(e,i)&&!1!==this.mounted)this.lastX=n,this.lastY=r;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(s){const e=document.createEvent("MouseEvents");e.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(e)}})),h(this,"handleDragStop",(e=>{if(!this.dragging)return;const t=(0,a.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,a.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,r=this.lastY+t}const i=(0,a.createCoreData)(this,n,r);if(!1===this.props.onStop(e,i)||!1===this.mounted)return!1;const s=this.findDOMNode();s&&this.props.enableUserSelectHack&&(0,o.removeUserSelectStyles)(s.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,s&&((0,c.default)("DraggableCore: Removing handlers"),(0,o.removeEvent)(s.ownerDocument,m.move,this.handleDrag),(0,o.removeEvent)(s.ownerDocument,m.stop,this.handleDragStop))})),h(this,"onMouseDown",(e=>(m=p,this.handleDragStart(e)))),h(this,"onMouseUp",(e=>(m=p,this.handleDragStop(e)))),h(this,"onTouchStart",(e=>(m=f,this.handleDragStart(e)))),h(this,"onTouchEnd",(e=>(m=f,this.handleDragStop(e))))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,o.addEvent)(e,f.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,o.removeEvent)(t,p.move,this.handleDrag),(0,o.removeEvent)(t,f.move,this.handleDrag),(0,o.removeEvent)(t,p.stop,this.handleDragStop),(0,o.removeEvent)(t,f.stop,this.handleDragStop),(0,o.removeEvent)(e,f.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,o.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current:s.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=g,h(g,"displayName","DraggableCore"),h(g,"propTypes",{allowAnyClick:i.default.bool,children:i.default.node.isRequired,disabled:i.default.bool,enableUserSelectHack:i.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.default.arrayOf(i.default.number),handle:i.default.string,cancel:i.default.string,nodeRef:i.default.object,onStart:i.default.func,onDrag:i.default.func,onStop:i.default.func,onMouseDown:i.default.func,scale:i.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),h(g,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},4393:(e,t,n)=>{"use strict";const{default:r,DraggableCore:i}=n(9448);e.exports=r,e.exports.default=r,e.exports.DraggableCore=i},1324:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=c,t.addEvent=function(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&c(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const n=l(e,t,"px");return{[(0,i.browserPrefixToKey)("transform",i.default)]:n}},t.createSVGTransform=function(e,t){return l(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,(e=>t===e.identifier))||e.changedTouches&&(0,r.findInArray)(e.changedTouches,(e=>t===e.identifier))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=l,t.innerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingTop),t-=(0,r.int)(n.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingLeft),t-=(0,r.int)(n.paddingRight),t},t.matchesSelector=a,t.matchesSelectorAndParentsTo=function(e,t,n){let r=e;do{if(a(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){const r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-r.left)/n,s=(e.clientY+t.scrollTop-r.top)/n;return{x:i,y:s}},t.outerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderTopWidth),t+=(0,r.int)(n.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderLeftWidth),t+=(0,r.int)(n.borderRightWidth),t},t.removeClassName=u,t.removeEvent=function(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&u(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(t){}};var r=n(6111),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(2281));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}let o="";function a(e,t){return o||(o=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,r.isFunction)(e[t])}))),!!(0,r.isFunction)(e[o])&&e[o](t)}function l(e,t,n){let{x:r,y:i}=e,s="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){const e="".concat("string"===typeof t.x?t.x:t.x+n),r="".concat("string"===typeof t.y?t.y:t.y+n);s="translate(".concat(e,", ").concat(r,")")+s}return s}function c(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function u(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},2281:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=i,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=r;const n=["Moz","Webkit","O","ms"];function r(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window)return"";const r=null===(e=window.document)||void 0===e||null===(e=e.documentElement)||void 0===e?void 0:e.style;if(!r)return"";if(t in r)return"";for(let s=0;s<n.length;s++)if(i(t,n[s])in r)return n[s];return""}function i(e,t){return t?"".concat(t).concat(function(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}t.default=r()},7019:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0}},8305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){const i=!(0,r.isNum)(e.lastX),o=s(e);return i?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:o}=e.props;o="string"===typeof o?o:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(o);const a=s(e);if("string"===typeof o){const{ownerDocument:e}=a,t=e.defaultView;let n;if(n="parent"===o?a.parentNode:e.querySelector(o),!(n instanceof t.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');const s=n,l=t.getComputedStyle(a),c=t.getComputedStyle(s);o={left:-a.offsetLeft+(0,r.int)(c.paddingLeft)+(0,r.int)(l.marginLeft),top:-a.offsetTop+(0,r.int)(c.paddingTop)+(0,r.int)(l.marginTop),right:(0,i.innerWidth)(s)-(0,i.outerWidth)(a)-a.offsetLeft+(0,r.int)(c.paddingRight)-(0,r.int)(l.marginRight),bottom:(0,i.innerHeight)(s)-(0,i.outerHeight)(a)-a.offsetTop+(0,r.int)(c.paddingBottom)-(0,r.int)(l.marginBottom)}}(0,r.isNum)(o.right)&&(t=Math.min(t,o.right));(0,r.isNum)(o.bottom)&&(n=Math.min(n,o.bottom));(0,r.isNum)(o.left)&&(t=Math.max(t,o.left));(0,r.isNum)(o.top)&&(n=Math.max(n,o.top));return[t,n]},t.getControlPosition=function(e,t,n){const r="number"===typeof t?(0,i.getTouch)(e,t):null;if("number"===typeof t&&!r)return null;const o=s(n),a=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,i.offsetXYFromParent)(r||e,a,n.props.scale)},t.snapToGrid=function(e,t,n){const r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]};var r=n(6111),i=n(1324);function s(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},6111:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"===typeof e&&!isNaN(e)}},5630:e=>{var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function s(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var a,l,c,u;if(Array.isArray(e)){if((a=e.length)!=o.length)return!1;for(l=a;0!==l--;)if(!s(e[l],o[l]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!s(l.value[1],o.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((a=e.length)!=o.length)return!1;for(l=a;0!==l--;)if(e[l]!==o[l])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof o.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof o.toString)return e.toString()===o.toString();if((a=(c=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(l=a;0!==l--;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=a;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!s(e[c[l]],o[c[l]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return s(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},8470:(e,t,n)=>{var r,i=Object.create,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let i of a(t))c.call(e,i)||i===n||s(e,i,{get:()=>t[i],enumerable:!(r=o(t,i))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?i(l(e)):{},u(!t&&e&&e.__esModule?n:s(n,"default",{value:e,enumerable:!0}),e)),h=(e,t,n)=>(((e,t,n)=>{t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n),f={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(f,{default:()=>v}),e.exports=(r=f,u(s({},"__esModule",{value:!0}),r));var p=d(n(2483)),m=d(n(5630)),g=n(305),y=n(4558);class v extends p.Component{constructor(){var e;super(...arguments),e=this,h(this,"mounted",!1),h(this,"isReady",!1),h(this,"isPlaying",!1),h(this,"isLoading",!0),h(this,"loadOnReady",null),h(this,"startOnPlay",!0),h(this,"seekOnPlay",null),h(this,"onDurationCalled",!1),h(this,"handlePlayerMount",(e=>{this.player||(this.player=e,this.player.load(this.props.url)),this.progress()})),h(this,"getInternalPlayer",(e=>this.player?this.player[e]:null)),h(this,"progress",(()=>{if(this.props.url&&this.player&&this.isReady){const e=this.getCurrentTime()||0,t=this.getSecondsLoaded(),n=this.getDuration();if(n){const r={playedSeconds:e,played:e/n};null!==t&&(r.loadedSeconds=t,r.loaded=t/n),r.playedSeconds===this.prevPlayed&&r.loadedSeconds===this.prevLoaded||this.props.onProgress(r),this.prevPlayed=r.playedSeconds,this.prevLoaded=r.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)})),h(this,"handleReady",(()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:e,playing:t,volume:n,muted:r}=this.props;e(),r||null===n||this.player.setVolume(n),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):t&&this.player.play(),this.handleDurationCheck()})),h(this,"handlePlay",(()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:e,onPlay:t,playbackRate:n}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&1!==n&&this.player.setPlaybackRate(n),e(),this.startOnPlay=!1),t(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()})),h(this,"handlePause",(e=>{this.isPlaying=!1,this.isLoading||this.props.onPause(e)})),h(this,"handleEnded",(()=>{const{activePlayer:e,loop:t,onEnded:n}=this.props;e.loopOnEnded&&t&&this.seekTo(0),t||(this.isPlaying=!1,n())})),h(this,"handleError",(function(){e.isLoading=!1,e.props.onError(...arguments)})),h(this,"handleDurationCheck",(()=>{clearTimeout(this.durationCheckTimeout);const e=this.getDuration();e?this.onDurationCalled||(this.props.onDuration(e),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)})),h(this,"handleLoaded",(()=>{this.isLoading=!1}))}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(e){if(!this.player)return;const{url:t,playing:n,volume:r,muted:i,playbackRate:s,pip:o,loop:a,activePlayer:l,disableDeferredLoading:c}=this.props;if(!(0,m.default)(e.url,t)){if(this.isLoading&&!l.forceLoad&&!c&&!(0,y.isMediaStream)(t))return console.warn("ReactPlayer: the attempt to load ".concat(t," is being deferred until the player has loaded")),void(this.loadOnReady=t);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(t,this.isReady)}e.playing||!n||this.isPlaying||this.player.play(),e.playing&&!n&&this.isPlaying&&this.player.pause(),!e.pip&&o&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!o&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==r&&null!==r&&this.player.setVolume(r),e.muted!==i&&(i?this.player.mute():(this.player.unmute(),null!==r&&setTimeout((()=>this.player.setVolume(r))))),e.playbackRate!==s&&this.player.setPlaybackRate&&this.player.setPlaybackRate(s),e.loop!==a&&this.player.setLoop&&this.player.setLoop(a)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(e,t,n){if(!this.isReady)return void(0!==e&&(this.seekOnPlay=e,setTimeout((()=>{this.seekOnPlay=null}),5e3)));if(t?"fraction"===t:e>0&&e<1){const t=this.player.getDuration();return t?void this.player.seekTo(t*e,n):void console.warn("ReactPlayer: could not seek using fraction \u2013\xa0duration not yet available")}this.player.seekTo(e,n)}render(){const e=this.props.activePlayer;return e?p.default.createElement(e,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}h(v,"displayName","Player"),h(v,"propTypes",g.propTypes),h(v,"defaultProps",g.defaultProps)},5361:(e,t,n)=>{var r,i=Object.create,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let i of a(t))c.call(e,i)||i===n||s(e,i,{get:()=>t[i],enumerable:!(r=o(t,i))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?i(l(e)):{},u(!t&&e&&e.__esModule?n:s(n,"default",{value:e,enumerable:!0}),e)),h=(e,t,n)=>(((e,t,n)=>{t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n),f={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(f,{createReactPlayer:()=>C}),e.exports=(r=f,u(s({},"__esModule",{value:!0}),r));var p=d(n(2483)),m=d(n(8109)),g=d(n(6570)),y=d(n(5630)),v=n(305),b=n(4558),w=d(n(8470));const _=(0,b.lazy)((()=>n.e(353).then(n.t.bind(n,4864,23)))),x="undefined"!==typeof window&&window.document&&"undefined"!==typeof document,S="undefined"!==typeof n.g&&n.g.window&&n.g.window.document,k=Object.keys(v.propTypes),E=x||S?p.Suspense:()=>null,T=[],C=(e,t)=>{var n;return n=class extends p.Component{constructor(){var n;super(...arguments),n=this,h(this,"state",{showPreview:!!this.props.light}),h(this,"references",{wrapper:e=>{this.wrapper=e},player:e=>{this.player=e}}),h(this,"handleClickPreview",(e=>{this.setState({showPreview:!1}),this.props.onClickPreview(e)})),h(this,"showPreview",(()=>{this.setState({showPreview:!0})})),h(this,"getDuration",(()=>this.player?this.player.getDuration():null)),h(this,"getCurrentTime",(()=>this.player?this.player.getCurrentTime():null)),h(this,"getSecondsLoaded",(()=>this.player?this.player.getSecondsLoaded():null)),h(this,"getInternalPlayer",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return n.player?n.player.getInternalPlayer(e):null})),h(this,"seekTo",((e,t,n)=>{if(!this.player)return null;this.player.seekTo(e,t,n)})),h(this,"handleReady",(()=>{this.props.onReady(this)})),h(this,"getActivePlayer",(0,g.default)((n=>{for(const t of[...T,...e])if(t.canPlay(n))return t;return t||null}))),h(this,"getConfig",(0,g.default)(((e,t)=>{const{config:n}=this.props;return m.default.all([v.defaultProps.config,v.defaultProps.config[t]||{},n,n[t]||{}])}))),h(this,"getAttributes",(0,g.default)((e=>(0,b.omit)(this.props,k)))),h(this,"renderActivePlayer",(e=>{if(!e)return null;const t=this.getActivePlayer(e);if(!t)return null;const n=this.getConfig(e,t.key);return p.default.createElement(w.default,{...this.props,key:t.key,ref:this.references.player,config:n,activePlayer:t.lazyPlayer||t,onReady:this.handleReady})}))}shouldComponentUpdate(e,t){return!(0,y.default)(this.props,e)||!(0,y.default)(this.state,t)}componentDidUpdate(e){const{light:t}=this.props;!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}renderPreview(e){if(!e)return null;const{light:t,playIcon:n,previewTabIndex:r,oEmbedUrl:i,previewAriaLabel:s}=this.props;return p.default.createElement(_,{url:e,light:t,playIcon:n,previewTabIndex:r,previewAriaLabel:s,oEmbedUrl:i,onClick:this.handleClickPreview})}render(){const{url:e,style:t,width:n,height:r,fallback:i,wrapper:s}=this.props,{showPreview:o}=this.state,a=this.getAttributes(e),l="string"===typeof s?this.references.wrapper:void 0;return p.default.createElement(s,{ref:l,style:{...t,width:n,height:r},...a},p.default.createElement(E,{fallback:i},o?this.renderPreview(e):this.renderActivePlayer(e)))}},h(n,"displayName","ReactPlayer"),h(n,"propTypes",v.propTypes),h(n,"defaultProps",v.defaultProps),h(n,"addCustomPlayer",(e=>{T.push(e)})),h(n,"removeCustomPlayers",(()=>{T.length=0})),h(n,"canPlay",(t=>{for(const n of[...T,...e])if(n.canPlay(t))return!0;return!1})),h(n,"canEnablePIP",(t=>{for(const n of[...T,...e])if(n.canEnablePIP&&n.canEnablePIP(t))return!0;return!1})),n}},8819:(e,t,n)=>{var r,i=Object.create,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let i of a(t))c.call(e,i)||i===n||s(e,i,{get:()=>t[i],enumerable:!(r=o(t,i))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(d,{default:()=>m}),e.exports=(r=d,u(s({},"__esModule",{value:!0}),r));var h=((e,t,n)=>(n=null!=e?i(l(e)):{},u(!t&&e&&e.__esModule?n:s(n,"default",{value:e,enumerable:!0}),e)))(n(582)),f=n(5361);const p=h.default[h.default.length-1];var m=(0,f.createReactPlayer)(h.default,p)},6160:(e,t,n)=>{var r,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(l,{AUDIO_EXTENSIONS:()=>k,DASH_EXTENSIONS:()=>C,FLV_EXTENSIONS:()=>I,HLS_EXTENSIONS:()=>T,MATCH_URL_DAILYMOTION:()=>w,MATCH_URL_FACEBOOK:()=>p,MATCH_URL_FACEBOOK_WATCH:()=>m,MATCH_URL_KALTURA:()=>S,MATCH_URL_MIXCLOUD:()=>_,MATCH_URL_MUX:()=>f,MATCH_URL_SOUNDCLOUD:()=>d,MATCH_URL_STREAMABLE:()=>g,MATCH_URL_TWITCH_CHANNEL:()=>b,MATCH_URL_TWITCH_VIDEO:()=>v,MATCH_URL_VIDYARD:()=>x,MATCH_URL_VIMEO:()=>h,MATCH_URL_WISTIA:()=>y,MATCH_URL_YOUTUBE:()=>u,VIDEO_EXTENSIONS:()=>E,canPlay:()=>P}),e.exports=(r=l,((e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let l of o(t))a.call(e,l)||l===n||i(e,l,{get:()=>t[l],enumerable:!(r=s(t,l))||r.enumerable});return e})(i({},"__esModule",{value:!0}),r));var c=n(4558);const u=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,d=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,h=/vimeo\.com\/(?!progressive_redirect).+/,f=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,p=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,m=/^https?:\/\/fb\.watch\/.+$/,g=/streamable\.com\/([a-z0-9]+)$/,y=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,v=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,b=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,w=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,_=/mixcloud\.com\/([^/]+\/[^/]+)/,x=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,S=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,k=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,E=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,T=/\.(m3u8)($|\?)/i,C=/\.(mpd)($|\?)/i,I=/\.(flv)($|\?)/i,N=e=>{if(e instanceof Array){for(const t of e){if("string"===typeof t&&N(t))return!0;if(N(t.src))return!0}return!1}return!(!(0,c.isMediaStream)(e)&&!(0,c.isBlobUrl)(e))||(k.test(e)||E.test(e)||T.test(e)||C.test(e)||I.test(e))},P={youtube:e=>e instanceof Array?e.every((e=>u.test(e))):u.test(e),soundcloud:e=>d.test(e)&&!k.test(e),vimeo:e=>h.test(e)&&!E.test(e)&&!T.test(e),mux:e=>f.test(e),facebook:e=>p.test(e)||m.test(e),streamable:e=>g.test(e),wistia:e=>y.test(e),twitch:e=>v.test(e)||b.test(e),dailymotion:e=>w.test(e),mixcloud:e=>_.test(e),vidyard:e=>x.test(e),kaltura:e=>S.test(e),file:N}},582:(e,t,n)=>{Object.create;var r,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=(Object.getPrototypeOf,Object.prototype.hasOwnProperty),l=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let l of o(t))a.call(e,l)||l===n||i(e,l,{get:()=>t[l],enumerable:!(r=s(t,l))||r.enumerable});return e},c={};((e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})})(c,{default:()=>h}),e.exports=(r=c,l(i({},"__esModule",{value:!0}),r));var u=n(4558),d=n(6160),h=[{key:"youtube",name:"YouTube",canPlay:d.canPlay.youtube,lazyPlayer:(0,u.lazy)((()=>n.e(446).then(n.t.bind(n,5187,23))))},{key:"soundcloud",name:"SoundCloud",canPlay:d.canPlay.soundcloud,lazyPlayer:(0,u.lazy)((()=>n.e(979).then(n.t.bind(n,8984,23))))},{key:"vimeo",name:"Vimeo",canPlay:d.canPlay.vimeo,lazyPlayer:(0,u.lazy)((()=>n.e(173).then(n.t.bind(n,618,23))))},{key:"mux",name:"Mux",canPlay:d.canPlay.mux,lazyPlayer:(0,u.lazy)((()=>n.e(723).then(n.t.bind(n,3520,23))))},{key:"facebook",name:"Facebook",canPlay:d.canPlay.facebook,lazyPlayer:(0,u.lazy)((()=>n.e(887).then(n.t.bind(n,6736,23))))},{key:"streamable",name:"Streamable",canPlay:d.canPlay.streamable,lazyPlayer:(0,u.lazy)((()=>n.e(627).then(n.t.bind(n,7208,23))))},{key:"wistia",name:"Wistia",canPlay:d.canPlay.wistia,lazyPlayer:(0,u.lazy)((()=>n.e(340).then(n.t.bind(n,4733,23))))},{key:"twitch",name:"Twitch",canPlay:d.canPlay.twitch,lazyPlayer:(0,u.lazy)((()=>n.e(42).then(n.t.bind(n,867,23))))},{key:"dailymotion",name:"DailyMotion",canPlay:d.canPlay.dailymotion,lazyPlayer:(0,u.lazy)((()=>n.e(328).then(n.t.bind(n,953,23))))},{key:"mixcloud",name:"Mixcloud",canPlay:d.canPlay.mixcloud,lazyPlayer:(0,u.lazy)((()=>n.e(570).then(n.t.bind(n,7851,23))))},{key:"vidyard",name:"Vidyard",canPlay:d.canPlay.vidyard,lazyPlayer:(0,u.lazy)((()=>n.e(392).then(n.t.bind(n,6901,23))))},{key:"kaltura",name:"Kaltura",canPlay:d.canPlay.kaltura,lazyPlayer:(0,u.lazy)((()=>n.e(463).then(n.t.bind(n,1836,23))))},{key:"file",name:"FilePlayer",canPlay:d.canPlay.file,canEnablePIP:e=>d.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,u.supportsWebKitPresentationMode)())&&!d.AUDIO_EXTENSIONS.test(e),lazyPlayer:(0,u.lazy)((()=>n.e(458).then(n.t.bind(n,139,23))))}]},305:(e,t,n)=>{var r,i=Object.create,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let i of a(t))c.call(e,i)||i===n||s(e,i,{get:()=>t[i],enumerable:!(r=o(t,i))||r.enumerable});return e},d={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(d,{defaultProps:()=>k,propTypes:()=>x}),e.exports=(r=d,u(s({},"__esModule",{value:!0}),r));var h=((e,t,n)=>(n=null!=e?i(l(e)):{},u(!t&&e&&e.__esModule?n:s(n,"default",{value:e,enumerable:!0}),e)))(n(6405));const{string:f,bool:p,number:m,array:g,oneOfType:y,shape:v,object:b,func:w,node:_}=h.default,x={url:y([f,g,b]),playing:p,loop:p,controls:p,volume:m,muted:p,playbackRate:m,width:y([f,m]),height:y([f,m]),style:b,progressInterval:m,playsinline:p,pip:p,stopOnUnmount:p,light:y([p,f,b]),playIcon:_,previewTabIndex:m,previewAriaLabel:f,fallback:_,oEmbedUrl:f,wrapper:y([f,w,v({render:w.isRequired})]),config:v({soundcloud:v({options:b}),youtube:v({playerVars:b,embedOptions:b,onUnstarted:w}),facebook:v({appId:f,version:f,playerId:f,attributes:b}),dailymotion:v({params:b}),vimeo:v({playerOptions:b,title:f}),mux:v({attributes:b,version:f}),file:v({attributes:b,tracks:g,forceVideo:p,forceAudio:p,forceHLS:p,forceSafariHLS:p,forceDisableHls:p,forceDASH:p,forceFLV:p,hlsOptions:b,hlsVersion:f,dashVersion:f,flvVersion:f}),wistia:v({options:b,playerId:f,customControls:g}),mixcloud:v({options:b}),twitch:v({options:b,playerId:f}),vidyard:v({options:b})}),onReady:w,onStart:w,onPlay:w,onPause:w,onBuffer:w,onBufferEnd:w,onEnded:w,onError:w,onDuration:w,onSeek:w,onPlaybackRateChange:w,onPlaybackQualityChange:w,onProgress:w,onClickPreview:w,onEnablePIP:w,onDisablePIP:w},S=()=>{},k={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:S},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:S,onStart:S,onPlay:S,onPause:S,onBuffer:S,onBufferEnd:S,onEnded:S,onError:S,onDuration:S,onSeek:S,onPlaybackRateChange:S,onPlaybackQualityChange:S,onProgress:S,onClickPreview:S,onEnablePIP:S,onDisablePIP:S}},4558:(e,t,n)=>{var r,i=Object.create,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let i of a(t))c.call(e,i)||i===n||s(e,i,{get:()=>t[i],enumerable:!(r=o(t,i))||r.enumerable});return e},d=(e,t,n)=>(n=null!=e?i(l(e)):{},u(!t&&e&&e.__esModule?n:s(n,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})})(h,{callPlayer:()=>A,getConfig:()=>N,getSDK:()=>I,isBlobUrl:()=>R,isMediaStream:()=>O,lazy:()=>g,omit:()=>P,parseEndTime:()=>S,parseStartTime:()=>x,queryString:()=>E,randomString:()=>k,supportsWebKitPresentationMode:()=>D}),e.exports=(r=h,u(s({},"__esModule",{value:!0}),r));var f=d(n(2483)),p=d(n(5068)),m=d(n(8109));const g=e=>f.default.lazy((async()=>{const t=await e();return"function"===typeof t.default?t:t.default})),y=/[?&#](?:start|t)=([0-9hms]+)/,v=/[?&#]end=([0-9hms]+)/,b=/(\d+)(h|m|s)/g,w=/^\d+$/;function _(e,t){if(e instanceof Array)return;const n=e.match(t);if(n){const e=n[1];if(e.match(b))return function(e){let t=0,n=b.exec(e);for(;null!==n;){const[,r,i]=n;"h"===i&&(t+=60*parseInt(r,10)*60),"m"===i&&(t+=60*parseInt(r,10)),"s"===i&&(t+=parseInt(r,10)),n=b.exec(e)}return t}(e);if(w.test(e))return parseInt(e)}}function x(e){return _(e,y)}function S(e){return _(e,v)}function k(){return Math.random().toString(36).substr(2,5)}function E(e){return Object.keys(e).map((t=>"".concat(t,"=").concat(e[t]))).join("&")}function T(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}const C={},I=function(e){0;return e}((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>!0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:p.default;const s=T(t);return s&&r(s)?Promise.resolve(s):new Promise(((r,s)=>{if(C[e])return void C[e].push({resolve:r,reject:s});C[e]=[{resolve:r,reject:s}];const o=t=>{C[e].forEach((e=>e.resolve(t)))};if(n){const e=window[n];window[n]=function(){e&&e(),o(T(t))}}i(e,(r=>{r?(C[e].forEach((e=>e.reject(r))),C[e]=null):n||o(T(t))}))}))}));function N(e,t){return(0,m.default)(t.config,e.config)}function P(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=[].concat(...n),s={},o=Object.keys(e);for(const a of o)-1===i.indexOf(a)&&(s[a]=e[a]);return s}function A(e){if(!this.player||!this.player[e]){let t="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(e,"%c \u2013 ");return this.player?this.player[e]||(t+="The method was not available"):t+="The player was not available",console.warn(t,"font-weight: bold",""),null}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.player[e](...n)}function O(e){return"undefined"!==typeof window&&"undefined"!==typeof window.MediaStream&&e instanceof window.MediaStream}function R(e){return/^blob:/.test(e)}function D(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("video");const t=!1===/iPhone|iPod/.test(navigator.userAgent);return e.webkitSupportsPresentationMode&&"function"===typeof e.webkitSetPresentationMode&&t}},550:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PrevArrow=t.NextArrow=void 0;var i=a(n(2483)),s=a(n(1097)),o=n(976);function a(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=v(e);if(t){var s=v(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var b=function(e){m(n,e);var t=y(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,s.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?i.default.cloneElement(this.props.prevArrow,u(u({},n),r)):i.default.createElement("button",l({key:"0",type:"button"},n)," ","Previous")}}]),n}(i.default.PureComponent);t.PrevArrow=b;var w=function(e){m(n,e);var t=y(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,o.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,s.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?i.default.cloneElement(this.props.nextArrow,u(u({},n),r)):i.default.createElement("button",l({key:"1",type:"button"},n)," ","Next")}}]),n}(i.default.PureComponent);t.NextArrow=w},4824:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(2483))&&r.__esModule?r:{default:r};var s={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return i.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return i.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};t.default=s},7584:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var i=a(n(2483)),s=a(n(1097)),o=n(976);function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=f(e);if(t){var s=f(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(f,e);var t,n,r,a=h(f);function f(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),a.apply(this,arguments)}return t=f,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,a=t.onMouseLeave,u=t.infinite,d=t.slidesToScroll,h=t.slidesToShow,f=t.slideCount,p=t.currentSlide,m=(e={slideCount:f,slidesToScroll:d,slidesToShow:h,infinite:u}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,g={onMouseEnter:n,onMouseOver:r,onMouseLeave:a},y=[],v=0;v<m;v++){var b=(v+1)*d-1,w=u?b:(0,o.clamp)(b,0,f-1),_=w-(d-1),x=u?_:(0,o.clamp)(_,0,f-1),S=(0,s.default)({"slick-active":u?p>=x&&p<=w:p===x}),k={message:"dots",index:v,slidesToScroll:d,currentSlide:p},E=this.clickHandler.bind(this,k);y=y.concat(i.default.createElement("li",{key:v,className:S},i.default.cloneElement(this.props.customPaging(v),{onClick:E})))}return i.default.cloneElement(this.props.appendDots(y),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:this.props.dotsClass},g))}}],n&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(i.default.PureComponent);t.Dots=p},9470:(e,t,n)=>{"use strict";var r;t.A=void 0;var i=((r=n(1665))&&r.__esModule?r:{default:r}).default;t.A=i},2446:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=n},850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=h(n(2483)),i=h(n(2446)),s=h(n(5022)),o=h(n(1097)),a=n(976),l=n(7089),c=n(7584),u=n(550),d=h(n(2428));function h(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}(this,n)}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(x,e);var t,n,h,g=w(x);function x(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,x),S(_(t=g.call(this,e)),"listRefHandler",(function(e){return t.list=e})),S(_(t),"trackRefHandler",(function(e){return t.track=e})),S(_(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,a.getHeight)(e)+"px"}})),S(_(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,a.getOnDemandLazySlides)(y(y({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=y({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new d.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),S(_(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),S(_(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,a.getOnDemandLazySlides)(y(y({},t.props),t.state));n.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}})),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var i=y(y({listRef:t.list,trackRef:t.track},t.props),t.state),s=t.didPropsChange(e);s&&t.updateState(i,s,(function(){t.state.currentSlide>=r.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:r.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),S(_(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,s.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),S(_(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(t.track&&t.track.node)){var n=y(y({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(n,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),S(_(t),"updateState",(function(e,n,i){var s=(0,a.initializedState)(e);e=y(y(y({},e),s),{},{slideIndex:s.currentSlide});var o=(0,a.getTrackLeft)(e);e=y(y({},e),{},{left:o});var l=(0,a.getTrackCSS)(e);(n||r.default.Children.count(t.props.children)!==r.default.Children.count(e.children))&&(s.trackStyle=l),t.setState(s,i)})),S(_(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,n=0,i=[],s=(0,a.getPreClones)(y(y(y({},t.props),t.state),{},{slideCount:t.props.children.length})),o=(0,a.getPostClones)(y(y(y({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){i.push(t.props.style.width),e+=t.props.style.width}));for(var l=0;l<s;l++)n+=i[i.length-1-l],e+=i[i.length-1-l];for(var c=0;c<o;c++)e+=i[c];for(var u=0;u<t.state.currentSlide;u++)n+=i[u];var d={width:e+"px",left:-n+"px"};if(t.props.centerMode){var h="".concat(i[t.state.currentSlide],"px");d.left="calc(".concat(d.left," + (100% - ").concat(h,") / 2 ) ")}return{trackStyle:d}}var f=r.default.Children.count(t.props.children),p=y(y(y({},t.props),t.state),{},{slideCount:f}),m=(0,a.getPreClones)(p)+(0,a.getPostClones)(p)+f,g=100/t.props.slidesToShow*m,v=100/m,b=-v*((0,a.getPreClones)(p)+t.state.currentSlide)*g/100;return t.props.centerMode&&(b+=(100-v*g/100)/2),{slideWidth:v+"%",trackStyle:{width:g+"%",left:b+"%"}}})),S(_(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var i=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var s=e.onclick;e.onclick=function(){s(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=i,e.onerror=function(){i(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),S(_(t),"progressiveLazyLoad",(function(){for(var e=[],n=y(y({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,a.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var i=t.state.currentSlide-1;i>=-(0,a.getPreClones)(n);i--)if(t.state.lazyLoadedList.indexOf(i)<0){e.push(i);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),S(_(t),"slideHandler",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,i=r.asNavFor,s=r.beforeChange,o=r.onLazyLoad,l=r.speed,c=r.afterChange,u=t.state.currentSlide,d=(0,a.slideHandler)(y(y(y({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),h=d.state,f=d.nextState;if(h){s&&s(u,h.currentSlide);var p=h.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));o&&p.length>0&&o(p),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),c&&c(u),delete t.animationEndCallback),t.setState(h,(function(){i&&t.asNavForIndex!==e&&(t.asNavForIndex=e,i.innerSlider.slideHandler(e)),f&&(t.animationEndCallback=setTimeout((function(){var e=f.animating,n=m(f,["animating"]);t.setState(n,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),c&&c(h.currentSlide),delete t.animationEndCallback}))}),l))}))}})),S(_(t),"changeSlide",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=y(y({},t.props),t.state),i=(0,a.changeSlide)(r,e);if((0===i||i)&&(!0===n?t.slideHandler(i,n):t.slideHandler(i),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var s=t.list.querySelectorAll(".slick-current");s[0]&&s[0].focus()}})),S(_(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),S(_(t),"keyHandler",(function(e){var n=(0,a.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})})),S(_(t),"selectHandler",(function(e){t.changeSlide(e)})),S(_(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),S(_(t),"enableBodyScroll",(function(){window.ontouchmove=null})),S(_(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,a.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)})),S(_(t),"swipeMove",(function(e){var n=(0,a.swipeMove)(e,y(y(y({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))})),S(_(t),"swipeEnd",(function(e){var n=(0,a.swipeEnd)(e,y(y(y({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}})),S(_(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),S(_(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),S(_(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),S(_(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)}),0))})),S(_(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,a.canGoNext)(y(y({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),S(_(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),S(_(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})})),S(_(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),S(_(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),S(_(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),S(_(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),S(_(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),S(_(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),S(_(t),"render",(function(){var e,n,i,s=(0,o.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),d=y(y({},t.props),t.state),h=(0,a.extractObject)(d,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),f=t.props.pauseOnHover;if(h=y(y({},h),{},{onMouseEnter:f?t.onTrackOver:null,onMouseLeave:f?t.onTrackLeave:null,onMouseOver:f?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var m=(0,a.extractObject)(d,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),g=t.props.pauseOnDotsHover;m=y(y({},m),{},{clickHandler:t.changeSlide,onMouseEnter:g?t.onDotsLeave:null,onMouseOver:g?t.onDotsOver:null,onMouseLeave:g?t.onDotsLeave:null}),e=r.default.createElement(c.Dots,m)}var v=(0,a.extractObject)(d,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);v.clickHandler=t.changeSlide,t.props.arrows&&(n=r.default.createElement(u.PrevArrow,v),i=r.default.createElement(u.NextArrow,v));var b=null;t.props.vertical&&(b={height:t.state.listHeight});var w=null;!1===t.props.vertical?!0===t.props.centerMode&&(w={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(w={padding:t.props.centerPadding+" 0px"});var _=y(y({},b),w),x=t.props.touchMove,S={className:"slick-list",style:_,onClick:t.clickHandler,onMouseDown:x?t.swipeStart:null,onMouseMove:t.state.dragging&&x?t.swipeMove:null,onMouseUp:x?t.swipeEnd:null,onMouseLeave:t.state.dragging&&x?t.swipeEnd:null,onTouchStart:x?t.swipeStart:null,onTouchMove:t.state.dragging&&x?t.swipeMove:null,onTouchEnd:x?t.touchEnd:null,onTouchCancel:t.state.dragging&&x?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},k={className:s,dir:"ltr",style:t.props.style};return t.props.unslick&&(S={className:"slick-list"},k={className:s}),r.default.createElement("div",k,t.props.unslick?"":n,r.default.createElement("div",p({ref:t.listRefHandler},S),r.default.createElement(l.Track,p({ref:t.trackRefHandler},h),t.props.children)),t.props.unslick?"":i,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=y(y({},i.default),{},{currentSlide:t.props.initialSlide,slideCount:r.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=y(y({},t.state),n),t}return t=x,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,i=Object.keys(this.props);n<i.length;n++){var s=i[n];if(!e.hasOwnProperty(s)){t=!0;break}if("object"!==f(e[s])&&"function"!==typeof e[s]&&e[s]!==this.props[s]){t=!0;break}}return t||r.default.Children.count(this.props.children)!==r.default.Children.count(e.children)}}])&&v(t.prototype,n),h&&v(t,h),Object.defineProperty(t,"prototype",{writable:!1}),x}(r.default.Component);t.InnerSlider=k},1665:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(n(2483)),s=n(850),o=c(n(5958)),a=c(n(4824)),l=n(976);function c(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=y(e);if(t){var s=y(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,l.canUseDOM)()&&n(5383),w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(d,e);var t,n,r,c=m(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),v(g(t=c.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),v(g(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),v(g(t),"slickNext",(function(){return t.innerSlider.slickNext()})),v(g(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)})),v(g(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),v(g(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=d,(n=[{key:"media",value:function(e,t){b.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var i;i=0===r?(0,o.default)({minWidth:0,maxWidth:n}):(0,o.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,l.canUseDOM)()&&e.media(i,(function(){e.setState({breakpoint:n})}))}));var n=(0,o.default)({minWidth:t.slice(-1)[0]});(0,l.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){b.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":h(h(h({},a.default),this.props),t[0].settings):h(h({},a.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var r=i.default.Children.toArray(this.props.children);r=r.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var o=[],l=null,c=0;c<r.length;c+=e.rows*e.slidesPerRow){for(var d=[],f=c;f<c+e.rows*e.slidesPerRow;f+=e.slidesPerRow){for(var p=[],m=f;m<f+e.slidesPerRow&&(e.variableWidth&&r[m].props.style&&(l=r[m].props.style.width),!(m>=r.length));m+=1)p.push(i.default.cloneElement(r[m],{key:100*c+10*f+m,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));d.push(i.default.createElement("div",{key:10*c+f},p))}e.variableWidth?o.push(i.default.createElement("div",{key:c,style:{width:l}},d)):o.push(i.default.createElement("div",{key:c},d))}if("unslick"===e){var g="regular slider "+(this.props.className||"");return i.default.createElement("div",{className:g},r)}return o.length<=e.slidesToShow&&(e.unslick=!0),i.default.createElement(s.InnerSlider,u({style:this.props.style,ref:this.innerSliderRefHandler},e),o)}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(i.default.Component);t.default=w},7089:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var i=a(n(2483)),s=a(n(1097)),o=n(976);function a(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=f(e);if(t){var s=f(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,n)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){var t,n,r,i,s;return r=(s=e.rtl?e.slideCount-1-e.index:e.index)<0||s>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(s-e.currentSlide)%e.slideCount===0,s>e.currentSlide-i-1&&s<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=s&&s<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":s===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},v=function(e,t){return e.key||t},b=function(e){var t,n=[],r=[],a=[],l=i.default.Children.count(e.children),c=(0,o.lazyStartIndex)(e),u=(0,o.lazyEndIndex)(e);return i.default.Children.forEach(e.children,(function(d,h){var f,p={message:"children",index:h,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};f=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(h)>=0?d:i.default.createElement("div",null);var g=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(m(m({},e),{},{index:h})),b=f.props.className||"",w=y(m(m({},e),{},{index:h}));if(n.push(i.default.cloneElement(f,{key:"original"+v(f,h),"data-index":h,className:(0,s.default)(w,b),tabIndex:"-1","aria-hidden":!w["slick-active"],style:m(m({outline:"none"},f.props.style||{}),g),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&!1===e.fade){var _=l-h;_<=(0,o.getPreClones)(e)&&l!==e.slidesToShow&&((t=-_)>=c&&(f=d),w=y(m(m({},e),{},{index:t})),r.push(i.default.cloneElement(f,{key:"precloned"+v(f,t),"data-index":t,tabIndex:"-1",className:(0,s.default)(w,b),"aria-hidden":!w["slick-active"],style:m(m({},f.props.style||{}),g),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))),l!==e.slidesToShow&&((t=l+h)<u&&(f=d),w=y(m(m({},e),{},{index:t})),a.push(i.default.cloneElement(f,{key:"postcloned"+v(f,t),"data-index":t,tabIndex:"-1",className:(0,s.default)(w,b),"aria-hidden":!w["slick-active"],style:m(m({},f.props.style||{}),g),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})))}})),e.rtl?r.concat(n,a).reverse():r.concat(n,a)},w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(o,e);var t,n,r,s=d(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(h(e=s.call.apply(s,[this].concat(n))),"node",null),g(h(e),"handleRef",(function(t){e.node=t})),e}return t=o,(n=[{key:"render",value:function(){var e=b(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return i.default.createElement("div",l({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.default.PureComponent);t.Track=w},976:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSpecKeys=t.checkNavigable=t.changeSlide=t.canUseDOM=t.canGoNext=void 0,t.clamp=l,t.swipeStart=t.swipeMove=t.swipeEnd=t.slidesOnRight=t.slidesOnLeft=t.slideHandler=t.siblingDirection=t.safePreventDefault=t.lazyStartIndex=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.keyHandler=t.initializedState=t.getWidth=t.getTrackLeft=t.getTrackCSS=t.getTrackAnimateCSS=t.getTotalSlides=t.getSwipeDirection=t.getSlideCount=t.getRequiredLazySlides=t.getPreClones=t.getPostClones=t.getOnDemandLazySlides=t.getNavigableIndexes=t.getHeight=t.extractObject=void 0;var r,i=(r=n(2483))&&r.__esModule?r:{default:r};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n){return Math.max(t,Math.min(e,n))}var c=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()};t.safePreventDefault=c;var u=function(e){for(var t=[],n=d(e),r=h(e),i=n;i<r;i++)e.lazyLoadedList.indexOf(i)<0&&t.push(i);return t};t.getOnDemandLazySlides=u;t.getRequiredLazySlides=function(e){for(var t=[],n=d(e),r=h(e),i=n;i<r;i++)t.push(i);return t};var d=function(e){return e.currentSlide-f(e)};t.lazyStartIndex=d;var h=function(e){return e.currentSlide+p(e)};t.lazyEndIndex=h;var f=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};t.lazySlidesOnLeft=f;var p=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};t.lazySlidesOnRight=p;var m=function(e){return e&&e.offsetWidth||0};t.getWidth=m;var g=function(e){return e&&e.offsetHeight||0};t.getHeight=g;var y=function(e){var t,n,r,i,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(i=Math.round(180*r/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":!0===s?i>=35&&i<=135?"up":"down":"vertical"};t.getSwipeDirection=y;var v=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};t.canGoNext=v;t.extractObject=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n};t.initializedState=function(e){var t,n=i.default.Children.count(e.children),r=e.listRef,s=Math.ceil(m(r)),a=e.trackRef&&e.trackRef.node,l=Math.ceil(m(a));if(e.vertical)t=s;else{var c=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(c*=s/100),t=Math.ceil((s-c)/e.slidesToShow)}var d=r&&g(r.querySelector('[data-index="0"]')),h=d*e.slidesToShow,f=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(f=n-1-e.initialSlide);var p=e.lazyLoadedList||[],y=u(o(o({},e),{},{currentSlide:f,lazyLoadedList:p})),v={slideCount:n,slideWidth:t,listWidth:s,trackWidth:l,currentSlide:f,slideHeight:d,listHeight:h,lazyLoadedList:p=p.concat(y)};return null===e.autoplaying&&e.autoplay&&(v.autoplaying="playing"),v};t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,i=e.infinite,s=e.index,a=e.slideCount,c=e.lazyLoad,d=e.currentSlide,h=e.centerMode,f=e.slidesToScroll,p=e.slidesToShow,m=e.useCSS,g=e.lazyLoadedList;if(t&&n)return{};var y,b,w,_=s,x={},T={},C=i?s:l(s,0,a-1);if(r){if(!i&&(s<0||s>=a))return{};s<0?_=s+a:s>=a&&(_=s-a),c&&g.indexOf(_)<0&&(g=g.concat(_)),x={animating:!0,currentSlide:_,lazyLoadedList:g,targetSlide:_},T={animating:!1,targetSlide:_}}else y=_,_<0?(y=_+a,i?a%f!==0&&(y=a-a%f):y=0):!v(e)&&_>d?_=y=d:h&&_>=a?(_=i?a:a-1,y=i?0:a-1):_>=a&&(y=_-a,i?a%f!==0&&(y=0):y=a-p),!i&&_+p>=a&&(y=a-p),b=E(o(o({},e),{},{slideIndex:_})),w=E(o(o({},e),{},{slideIndex:y})),i||(b===w&&(_=y),b=w),c&&(g=g.concat(u(o(o({},e),{},{currentSlide:_})))),m?(x={animating:!0,currentSlide:y,trackStyle:k(o(o({},e),{},{left:b})),lazyLoadedList:g,targetSlide:C},T={animating:!1,currentSlide:y,trackStyle:S(o(o({},e),{},{left:w})),swipeLeft:null,targetSlide:C}):x={currentSlide:y,trackStyle:S(o(o({},e),{},{left:w})),lazyLoadedList:g,targetSlide:C};return{state:x,nextState:T}};t.changeSlide=function(e,t){var n,r,i,s,a=e.slidesToScroll,l=e.slidesToShow,c=e.slideCount,u=e.currentSlide,d=e.targetSlide,h=e.lazyLoad,f=e.infinite;if(n=c%a!==0?0:(c-u)%a,"previous"===t.message)s=u-(i=0===n?a:l-n),h&&!f&&(s=-1===(r=u-i)?c-1:r),f||(s=d-a);else if("next"===t.message)s=u+(i=0===n?a:n),h&&!f&&(s=(u+a)%c+n),f||(s=d+a);else if("dots"===t.message)s=t.index*t.slidesToScroll;else if("children"===t.message){if(s=t.index,f){var p=N(o(o({},e),{},{targetSlide:s}));s>t.currentSlide&&"left"===p?s-=c:s<t.currentSlide&&"right"===p&&(s+=c)}}else"index"===t.message&&(s=Number(t.index));return s};t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""};t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&c(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,i=t.vertical,s=t.swipeToSlide,a=t.verticalSwiping,l=t.rtl,u=t.currentSlide,d=t.edgeFriction,h=t.edgeDragged,f=t.onEdge,p=t.swiped,m=t.swiping,g=t.slideCount,b=t.slidesToScroll,w=t.infinite,_=t.touchObject,x=t.swipeEvent,k=t.listHeight,T=t.listWidth;if(!n){if(r)return c(e);i&&s&&a&&c(e);var C,I={},N=E(t);_.curX=e.touches?e.touches[0].pageX:e.clientX,_.curY=e.touches?e.touches[0].pageY:e.clientY,_.swipeLength=Math.round(Math.sqrt(Math.pow(_.curX-_.startX,2)));var P=Math.round(Math.sqrt(Math.pow(_.curY-_.startY,2)));if(!a&&!m&&P>10)return{scrolling:!0};a&&(_.swipeLength=P);var A=(l?-1:1)*(_.curX>_.startX?1:-1);a&&(A=_.curY>_.startY?1:-1);var O=Math.ceil(g/b),R=y(t.touchObject,a),D=_.swipeLength;return w||(0===u&&("right"===R||"down"===R)||u+1>=O&&("left"===R||"up"===R)||!v(t)&&("left"===R||"up"===R))&&(D=_.swipeLength*d,!1===h&&f&&(f(R),I.edgeDragged=!0)),!p&&x&&(x(R),I.swiped=!0),C=i?N+D*(k/T)*A:l?N-D*A:N+D*A,a&&(C=N+D*A),I=o(o({},I),{},{touchObject:_,swipeLeft:C,trackStyle:S(o(o({},t),{},{left:C}))}),Math.abs(_.curX-_.startX)<.8*Math.abs(_.curY-_.startY)?I:(_.swipeLength>10&&(I.swiping=!0,c(e)),I)}};t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,i=t.touchObject,s=t.listWidth,a=t.touchThreshold,l=t.verticalSwiping,u=t.listHeight,d=t.swipeToSlide,h=t.scrolling,f=t.onSwipe,p=t.targetSlide,m=t.currentSlide,g=t.infinite;if(!n)return r&&c(e),{};var v=l?u/a:s/a,b=y(i,l),x={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h)return x;if(!i.swipeLength)return x;if(i.swipeLength>v){var S,T;c(e),f&&f(b);var C=g?m:p;switch(b){case"left":case"up":T=C+_(t),S=d?w(t,T):T,x.currentDirection=0;break;case"right":case"down":T=C-_(t),S=d?w(t,T):T,x.currentDirection=1;break;default:S=C}x.triggerSlideHandler=S}else{var I=E(t);x.trackStyle=k(o(o({},t),{},{left:I}))}return x};var b=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,i=[];n<t;)i.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return i};t.getNavigableIndexes=b;var w=function(e,t){var n=b(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var i in n){if(t<n[i]){t=r;break}r=n[i]}return t};t.checkNavigable=w;var _=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,i=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(i).every((function(r){if(e.vertical){if(r.offsetTop+g(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+m(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var s=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-s)||1}return e.slidesToScroll};t.getSlideCount=_;var x=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)};t.checkSpecKeys=x;var S=function(e){var t,n;x(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=I(e)*e.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";i=o(o({},i),{},{WebkitTransform:s,transform:a,msTransform:l})}else e.vertical?i.top=e.left:i.left=e.left;return e.fade&&(i={opacity:1}),t&&(i.width=t),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i};t.getTrackCSS=S;var k=function(e){x(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=S(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};t.getTrackAnimateCSS=k;var E=function(e){if(e.unslick)return 0;x(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,i=e.trackRef,s=e.infinite,o=e.centerMode,a=e.slideCount,l=e.slidesToShow,c=e.slidesToScroll,u=e.slideWidth,d=e.listWidth,h=e.variableWidth,f=e.slideHeight,p=e.fade,m=e.vertical;if(p||1===e.slideCount)return 0;var g=0;if(s?(g=-T(e),a%c!==0&&r+c>a&&(g=-(r>a?l-(r-a):a%c)),o&&(g+=parseInt(l/2))):(a%c!==0&&r+c>a&&(g=l-a%c),o&&(g=parseInt(l/2))),t=m?r*f*-1+g*f:r*u*-1+g*u,!0===h){var y,v=i&&i.node;if(y=r+T(e),t=(n=v&&v.childNodes[y])?-1*n.offsetLeft:0,!0===o){y=s?r+T(e):r,n=v&&v.children[y],t=0;for(var b=0;b<y;b++)t-=v&&v.children[b]&&v.children[b].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(d-n.offsetWidth)/2}}return t};t.getTrackLeft=E;var T=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};t.getPreClones=T;var C=function(e){return e.unslick||!e.infinite?0:e.slideCount};t.getPostClones=C;var I=function(e){return 1===e.slideCount?1:T(e)+e.slideCount+C(e)};t.getTotalSlides=I;var N=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+P(e)?"left":"right":e.targetSlide<e.currentSlide-A(e)?"right":"left"};t.siblingDirection=N;var P=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var s=(t-1)/2+1;return parseInt(i)>0&&(s+=1),r&&t%2===0&&(s+=1),s}return r?0:t-1};t.slidesOnRight=P;var A=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var s=(t-1)/2+1;return parseInt(i)>0&&(s+=1),r||t%2!==0||(s+=1),s}return r?t-1:0};t.slidesOnLeft=A;t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},3153:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var l=o(n(2483)),c=n(3472),u=(0,n(6144).createAnimation)("BeatLoader","50% {transform: scale(0.75);opacity: 0.2} 100% {transform: scale(1);opacity: 1}","beat");t.default=function(e){var t=e.loading,n=void 0===t||t,i=e.color,s=void 0===i?"#000000":i,o=e.speedMultiplier,d=void 0===o?1:o,h=e.cssOverride,f=void 0===h?{}:h,p=e.size,m=void 0===p?15:p,g=e.margin,y=void 0===g?2:g,v=a(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),b=r({display:"inherit"},f),w=function(e){return{display:"inline-block",backgroundColor:s,width:(0,c.cssValue)(m),height:(0,c.cssValue)(m),margin:(0,c.cssValue)(y),borderRadius:"100%",animation:"".concat(u," ").concat(.7/d,"s ").concat(e%2?"0s":"".concat(.35/d,"s")," infinite linear"),animationFillMode:"both"}};return n?l.createElement("span",r({style:b},v),l.createElement("span",{style:w(1)}),l.createElement("span",{style:w(2)}),l.createElement("span",{style:w(3)})):null}},6144:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAnimation=void 0;t.createAnimation=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o="\n    @keyframes ".concat(r," {\n      ").concat(t,"\n    }\n  ");return s&&s.insertRule(o,0),r}},3472:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cssValue=t.parseLengthAndUnit=void 0;var n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function r(e){if("number"===typeof e)return{value:e,unit:"px"};var t,r=(e.match(/^[0-9.]*/)||"").toString();t=r.includes(".")?parseFloat(r):parseInt(r,10);var i=(e.match(/[^0-9]*$/)||"").toString();return n[i]?{value:t,unit:i}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}t.parseLengthAndUnit=r,t.cssValue=function(e){var t=r(e);return"".concat(t.value).concat(t.unit)}},9009:(e,t,n)=>{"use strict";var r=n(2483),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},3146:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!k.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+I(l,0):s,_(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",_(e))for(var c=0;c<e.length;c++){var u=s+I(a=e[c],c);l+=N(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,u=s+I(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};function j(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=j,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=j,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},2483:(e,t,n)=>{"use strict";e.exports=n(3146)},6723:(e,t,n)=>{"use strict";e.exports=n(9009)},2428:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,s="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(s):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],l="undefined"!==typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function s(){n&&(n=!1,e()),r&&l()}function a(){o(s)}function l(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||s},h=v(0,0,0,0);function f(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}function m(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=d(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],s=e["padding-"+i];t[i]=f(s)}return t}(r),s=i.left+i.right,o=i.top+i.bottom,a=f(r.width),l=f(r.height);if("border-box"===r.boxSizing&&(Math.round(a+s)!==t&&(a-=p(r,"left","right")+s),Math.round(l+o)!==n&&(l-=p(r,"top","bottom")+o)),!function(e){return e===d(e).document.documentElement}(e)){var c=Math.round(a+s)-t,u=Math.round(l+o)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(u)&&(l-=u)}return v(i.left,i.top,a,l)}var g="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"===typeof e.getBBox};function y(e){return i?g(e)?function(e){var t=e.getBBox();return v(0,0,t.width,t.height)}(e):m(e):h}function v(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=y(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),w=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,s="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(s.prototype);return u(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);u(this,{target:e,contentRect:n})},_=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new w(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),x="undefined"!==typeof WeakMap?new WeakMap:new r,S=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new _(t,n,this);x.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){S.prototype[e]=function(){var t;return(t=x.get(this))[e].apply(t,arguments)}}));const k="undefined"!==typeof s.ResizeObserver?s.ResizeObserver:S},7122:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,R(x);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var a=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(_,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,E=null,T=-1,C=5,I=-1;function N(){return!(t.unstable_now()-I<C)}function P(){if(null!==E){var e=t.unstable_now();I=e;var n=!0;try{n=E(!0,e)}finally{n?S():(k=!1,E=null)}}else k=!1}if("function"===typeof b)S=function(){b(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=P,S=function(){O.postMessage(null)}}else S=function(){y(P,0)};function R(e){E=e,k||(k=!0,S())}function D(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(T),T=-1):g=!0,D(_,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,R(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},3557:(e,t,n)=>{"use strict";e.exports=n(7122)},2931:e=>{e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},6568:e=>{"use strict";var t=function(){};e.exports=t},1097:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,s(n)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+{42:"reactPlayerTwitch",173:"reactPlayerVimeo",328:"reactPlayerDailyMotion",340:"reactPlayerWistia",353:"reactPlayerPreview",392:"reactPlayerVidyard",446:"reactPlayerYouTube",458:"reactPlayerFilePlayer",463:"reactPlayerKaltura",570:"reactPlayerMixcloud",627:"reactPlayerStreamable",723:"reactPlayerMux",887:"reactPlayerFacebook",979:"reactPlayerSoundCloud"}[e]+"."+{42:"a65124d8",173:"381631c2",328:"c8d28554",340:"96bd7c2a",353:"62fdd5c3",392:"62df4147",446:"29ee4abe",458:"e606f2c7",463:"fa602b04",570:"7d864f6c",627:"5b9542ca",723:"f90f732a",887:"4bfd86b3",979:"1fe6194e"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="resep-masakan:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkresep_masakan=self.webpackChunkresep_masakan||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>Nt,SDK_VERSION:()=>xr,_DEFAULT_ENTRY_NAME:()=>or,_addComponent:()=>dr,_addOrOverwriteComponent:()=>hr,_apps:()=>lr,_clearComponents:()=>vr,_components:()=>ur,_getProvider:()=>pr,_isFirebaseApp:()=>gr,_isFirebaseServerApp:()=>yr,_registerComponent:()=>fr,_removeServiceInstance:()=>mr,_serverApps:()=>cr,deleteApp:()=>Cr,getApp:()=>Er,getApps:()=>Tr,initializeApp:()=>Sr,initializeServerApp:()=>kr,onLog:()=>Nr,registerVersion:()=>Ir,setLogLevel:()=>Pr});var t,r=n(2483),i=n.t(r,2),s=n(775),o=n(9998),a=n.t(o,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const c="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,d=t.Pop,m=null,g=y();function y(){return(a.state||{idx:null}).idx}function v(){d=t.Pop;let e=y(),n=null==e?null:e-g;g=e,m&&m({action:d,location:w.location,delta:n})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(l({},a.state,{idx:g}),""));let w={get action(){return d},get location(){return e(s,a)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(c,v),m=e,()=>{s.removeEventListener(c,v),m=null}},createHref:e=>n(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){d=t.Push;let i=f(w.location,e,n);r&&r(i,e),g=y()+1;let l=h(i,g),c=w.createHref(i);try{a.pushState(l,"",c)}catch($S){if($S instanceof DOMException&&"DataCloneError"===$S.name)throw $S;s.location.assign(c)}o&&m&&m({action:d,location:w.location,delta:1})},replace:function(e,n){d=t.Replace;let i=f(w.location,e,n);r&&r(i,e),g=y();let s=h(i,g),l=w.createHref(i);a.replaceState(s,"",l),o&&m&&m({action:d,location:w.location,delta:0})},go:e=>a.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,r){let i=R(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let s=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=O(i);o=P(s[a],e,r)}return o}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(u(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=F([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),w(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:N(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of _(e.path))i(e,t,r);else i(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=_(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const x=/^:[\w-]+$/,S=3,k=2,E=1,T=10,C=-2,I=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=C),t&&(r+=k),n.filter((e=>!I(e))).reduce(((e,t)=>e+(x.test(t)?S:""===t?E:T)),r)}function P(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:F([s,u.pathname]),pathnameBase:U(F([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=F([s,u.pathnameBase]))}return o}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function O(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch($S){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+$S+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function j(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e,t){let n=j(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function M(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=l({},e),u(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:V(r),hash:z(i)}}(i,s),d=a&&"/"!==a&&a.endsWith("/"),h=(o||"."===a)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!h||(c.pathname+="/"),c}const F=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],H=(new Set(q),["get",...q]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const G=r.createContext(null);const K=r.createContext(null);const Y=r.createContext(null);const Q=r.createContext(null);const X=r.createContext({outlet:null,matches:[],isDataRoute:!1});const $=r.createContext(null);function J(){return null!=r.useContext(Q)}function Z(){return J()||u(!1),r.useContext(Q).location}function ee(e){r.useContext(Y).static||r.useLayoutEffect(e)}function te(){let{isDataRoute:e}=r.useContext(X);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=pe(de.UseNavigateStable),n=r.useRef(!1);ee((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},i)))}),[e,t]);return i}():function(){J()||u(!1);let e=r.useContext(G),{basename:t,future:n,navigator:i}=r.useContext(Y),{matches:s}=r.useContext(X),{pathname:o}=Z(),a=JSON.stringify(L(s,n.v7_relativeSplatPath)),l=r.useRef(!1);return ee((()=>{l.current=!0})),r.useCallback((function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void i.go(n);let s=M(n,JSON.parse(a),o,"path"===r.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:F([t,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[t,i,a,o,e])}()}function ne(){let{matches:e}=r.useContext(X),t=e[e.length-1];return t?t.params:{}}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext(Y),{matches:s}=r.useContext(X),{pathname:o}=Z(),a=JSON.stringify(L(s,i.v7_relativeSplatPath));return r.useMemo((()=>M(e,JSON.parse(a),o,"path"===n)),[e,a,o,n])}function ie(e,n,i,s){J()||u(!1);let{navigator:o}=r.useContext(Y),{matches:a}=r.useContext(X),l=a[a.length-1],c=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=Z();if(n){var p;let e="string"===typeof n?m(n):n;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||u(!1),h=e}else h=f;let g=h.pathname||"/",y=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(e,{pathname:y});let w=ce(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:F([d,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:F([d,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,i,s);return n&&w?r.createElement(Q.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},w):w}function se(){let e=function(){var e;let t=r.useContext($),n=fe(de.UseRouteError),i=pe(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}const oe=r.createElement(se,null);class ae extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(X.Provider,{value:this.props.routeContext},r.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(G);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(X.Provider,{value:t},i)}function ce(e,t,n,i){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let a=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||u(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=d>=0?a.slice(0,d+1):[a[0]];break}}}return a.reduceRight(((e,i,s)=>{let o,u=!1,h=null,f=null;var p;n&&(o=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||oe,c&&(d<0&&0===s?(p="route-fallback",!1||me[p]||(me[p]=!0),u=!0,f=null):d===s&&(u=!0,f=i.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,s+1)),g=()=>{let t;return t=o?h:u?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(le,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(ae,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function he(e){let t=r.useContext(G);return t||u(!1),t}function fe(e){let t=r.useContext(K);return t||u(!1),t}function pe(e){let t=function(){let e=r.useContext(X);return e||u(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}const me={};i.startTransition;function ge(e){u(!1)}function ye(e){let{basename:n="/",children:i=null,location:s,navigationType:o=t.Pop,navigator:a,static:l=!1,future:c}=e;J()&&u(!1);let d=n.replace(/^\/*/,"/"),h=r.useMemo((()=>({basename:d,navigator:a,static:l,future:W({v7_relativeSplatPath:!1},c)})),[d,c,a,l]);"string"===typeof s&&(s=m(s));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:v="default"}=s,b=r.useMemo((()=>{let e=R(f,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:y,key:v},navigationType:o}}),[d,f,p,g,y,v,o]);return null==b?null:r.createElement(Y.Provider,{value:h},r.createElement(Q.Provider,{children:i,value:b}))}function ve(e){let{children:t,location:n}=e;return ie(be(t),n)}new Promise((()=>{}));r.Component;function be(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,be(e.props.children,s));e.type!==ge&&u(!1),e.props.index&&e.props.children&&u(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=be(e.props.children,s)),n.push(o)})),n}function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function _e(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const xe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(IH){}new Map;const Se=i.startTransition;a.flushSync,i.useId;function ke(e){let{basename:t,children:n,future:i,window:s}=e,o=r.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),g((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=m(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:p(t))}),(function(e,t){d("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),a)));let l=o.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},y=r.useCallback((e=>{h&&Se?Se((()=>u(e))):u(e)}),[u,h]);return r.useLayoutEffect((()=>l.listen(y)),[l,y]),r.createElement(ye,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}const Ee="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=r.forwardRef((function(e,t){let n,{onClick:i,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:d,preventScrollReset:h,unstable_viewTransition:f}=e,m=_e(e,xe),{basename:g}=r.useContext(Y),y=!1;if("string"===typeof d&&Te.test(d)&&(n=d,Ee))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=R(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:y=!0}catch(IH){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;J()||u(!1);let{basename:i,navigator:s}=r.useContext(Y),{hash:o,pathname:a,search:l}=re(e,{relative:n}),c=a;return"/"!==i&&(c="/"===a?i:F([i,a])),s.createHref({pathname:c,search:l,hash:o})}(d,{relative:s}),b=function(e,t){let{target:n,replace:i,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l}=void 0===t?{}:t,c=te(),u=Z(),d=re(e,{relative:a});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:p(u)===p(d);c(e,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l})}}),[u,c,d,i,s,n,e,o,a,l])}(d,{replace:a,state:l,target:c,preventScrollReset:h,relative:s,unstable_viewTransition:f});return r.createElement("a",we({},m,{href:n||v,onClick:y||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Ie,Ne;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ie||(Ie={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ne||(Ne={}));var Pe={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ae=r.createContext&&r.createContext(Pe),Oe=function(){return Oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Oe.apply(this,arguments)},Re=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function De(e){return e&&e.map((function(e,t){return r.createElement(e.tag,Oe({key:t},e.attr),De(e.child))}))}function je(e){return function(t){return r.createElement(Le,Oe({attr:Oe({},e.attr)},t),De(e.child))}}function Le(e){var t=function(t){var n,i=e.attr,s=e.size,o=e.title,a=Re(e,["attr","size","title"]),l=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",Oe({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,a,{className:n,style:Oe(Oe({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==Ae?r.createElement(Ae.Consumer,null,(function(e){return t(e)})):t(Pe)}function Me(e){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(e)}function Fe(e){return je({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M414.9 161.5C340.2 29 121.1 0 121.1 0S222.2 110.4 93 197.7C11.3 252.8-21 324.4 14 402.6c26.8 59.9 83.5 84.3 144.6 93.4-29.2-55.1-6.6-122.4-4.1-129.6 57.1 86.4 165 0 110.8-93.9 71 15.4 81.6 138.6 27.1 215.5 80.5-25.3 134.1-88.9 148.8-145.6 15.5-59.3 3.7-127.9-26.3-180.9z"}}]})(e)}function Ue(e){return je({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(e)}function Ve(e){return je({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"}}]})(e)}function ze(e){return je({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}}]})(e)}function Be(e){return je({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}}]})(e)}function qe(e){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"}}]})(e)}function He(e){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"}}]})(e)}function We(e){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(e)}function Ge(e){return je({tag:"svg",attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"}}]})(e)}function Ke(e){return je({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(e)}function Ye(e){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"}}]})(e)}function Qe(e){return je({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function Xe(e){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function $e(e){return je({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"}}]})(e)}function Je(e){return je({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function Ze(e){return je({tag:"svg",attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"}}]})(e)}const et=!1,tt=!1,nt="${JSCORE_VERSION}",rt=function(e,t){if(!e)throw it(t)},it=function(e){return new Error("Firebase Database ("+nt+") INTERNAL ASSERT FAILED: "+e)},st=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ot={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;a||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(st(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new at;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class at extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lt=function(e){const t=st(e);return ot.encodeByteArray(t,!0)},ct=function(e){return lt(e).replace(/\./g,"")},ut=function(e){try{return ot.decodeString(e,!0)}catch(IH){console.error("base64Decode failed: ",IH)}return null};function dt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=dt(e[n],t[n]));return e}function ht(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const ft=()=>{try{return ht().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyD5tp55i00gU3fRi3V1YxkO7W7CwtS9vqc",REACT_APP_FIREBASE_APP_ID:"1:874070302250:web:4c99074ef11f880a34ad53",REACT_APP_FIREBASE_AUTH_DOMAIN:"resep-masakan-cd019.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://resep-masakan-cd019-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-D6PE49J3C0",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"874070302250",REACT_APP_FIREBASE_PROJECT_ID:"resep-masakan-cd019",REACT_APP_FIREBASE_STORAGE_BUCKET:"resep-masakan-cd019.appspot.com",REACT_APP_RECAPTCHA_SITE_KEY:"A1699F1C-5079-45D5-83DF-85B097C6DD53"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(IH){return}const t=e&&ut(e[1]);return t&&JSON.parse(t)})()}catch(IH){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(IH))}},pt=e=>{const t=(e=>{var t,n;return null===(n=null===(t=ft())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},mt=()=>{var e;return null===(e=ft())||void 0===e?void 0:e.config};class gt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function yt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ct(JSON.stringify({alg:"none",type:"JWT"})),ct(JSON.stringify(s)),""].join(".")}function vt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function bt(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function wt(){var e;const t=null===(e=ft())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(IH){return!1}}function _t(){return"undefined"!==typeof window||xt()}function xt(){return"undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof WorkerGlobalScope}function St(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function kt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Et(){const e=vt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Tt(){return!0===et||!0===tt}function Ct(){return!wt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function It(){try{return"object"===typeof indexedDB}catch(IH){return!1}}class Nt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pt.prototype.create)}}class Pt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(At,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Nt(n,s,t)}}const At=/\{\$([^}]+)}/g;function Ot(e){return JSON.parse(e)}function Rt(e){return JSON.stringify(e)}const Dt=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Ot(ut(s[0])||""),n=Ot(ut(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(IH){}return{header:t,claims:n,data:r,signature:i}};function jt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Lt(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Mt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ft(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Ut(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Vt(n)&&Vt(s)){if(!Ut(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Vt(e){return null!==e&&"object"===typeof e}function zt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Bt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function qt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Ht{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^o&(a^l),i=1518500249):(r=o^a^l,i=1859775393):u<60?(r=o&a|l&(o|a),i=2400959708):(r=o^a^l,i=3395469782);const e=(s<<5|s>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function Wt(e,t){const n=new Gt(e,t);return n.subscribe.bind(n)}class Gt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Kt),void 0===r.error&&(r.error=Kt),void 0===r.complete&&(r.complete=Kt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(IH){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(IH){"undefined"!==typeof console&&console.error&&console.error(IH)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Kt(){}function Yt(e,t){return"".concat(e," failed: ").concat(t," argument ")}const Qt=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},Xt=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},$t=1e3,Jt=2,Zt=144e5,en=.5;function tn(e){return e&&e._delegate?e._delegate:e}class nn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const rn="[DEFAULT]";class sn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new gt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(IH){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(IH){if(r)return null;throw IH}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:rn})}catch(IH){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(IH){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===rn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn;return this.component?this.component.multipleInstances?e:rn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class on{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const an=[];var ln;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ln||(ln={}));const cn={debug:ln.DEBUG,verbose:ln.VERBOSE,info:ln.INFO,warn:ln.WARN,error:ln.ERROR,silent:ln.SILENT},un=ln.INFO,dn={[ln.DEBUG]:"log",[ln.VERBOSE]:"log",[ln.INFO]:"info",[ln.WARN]:"warn",[ln.ERROR]:"error"},hn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=dn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class fn{constructor(e){this.name=e,this._logLevel=un,this._logHandler=hn,this._userLogHandler=null,an.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ln))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?cn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.DEBUG,...t),this._logHandler(this,ln.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.VERBOSE,...t),this._logHandler(this,ln.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.INFO,...t),this._logHandler(this,ln.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.WARN,...t),this._logHandler(this,ln.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.ERROR,...t),this._logHandler(this,ln.ERROR,...t)}}const pn=(e,t)=>t.some((t=>e instanceof t));let mn,gn;const yn=new WeakMap,vn=new WeakMap,bn=new WeakMap,wn=new WeakMap,_n=new WeakMap;let xn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return vn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||bn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return En(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Sn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(gn||(gn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Tn(this),n),En(yn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return En(e.apply(Tn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Tn(this),t,...r);return bn.set(s,t.sort?t.sort():[t]),En(s)}}function kn(e){return"function"===typeof e?Sn(e):(e instanceof IDBTransaction&&function(e){if(vn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));vn.set(e,t)}(e),pn(e,mn||(mn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,xn):e)}function En(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(En(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&yn.set(t,e)})).catch((()=>{})),_n.set(t,e),t}(e);if(wn.has(e))return wn.get(e);const t=kn(e);return t!==e&&(wn.set(e,t),_n.set(t,e)),t}const Tn=e=>_n.get(e);const Cn=["get","getKey","getAll","getAllKeys","count"],In=["put","add","delete","clear"],Nn=new Map;function Pn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Nn.get(t))return Nn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=In.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Cn.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Nn.set(t,s),s}xn=(e=>({...e,get:(t,n,r)=>Pn(t,n)||e.get(t,n,r),has:(t,n)=>!!Pn(t,n)||e.has(t,n)}))(xn);class An{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const On="@firebase/app",Rn="0.10.8",Dn=new fn("@firebase/app"),jn="@firebase/app-compat",Ln="@firebase/analytics-compat",Mn="@firebase/analytics",Fn="@firebase/app-check-compat",Un="@firebase/app-check",Vn="@firebase/auth",zn="@firebase/auth-compat",Bn="@firebase/database",qn="@firebase/database-compat",Hn="@firebase/functions",Wn="@firebase/functions-compat",Gn="@firebase/installations",Kn="@firebase/installations-compat",Yn="@firebase/messaging",Qn="@firebase/messaging-compat",Xn="@firebase/performance",$n="@firebase/performance-compat",Jn="@firebase/remote-config",Zn="@firebase/remote-config-compat",er="@firebase/storage",tr="@firebase/storage-compat",nr="@firebase/firestore",rr="@firebase/vertexai-preview",ir="@firebase/firestore-compat",sr="firebase",or="[DEFAULT]",ar={[On]:"fire-core",[jn]:"fire-core-compat",[Mn]:"fire-analytics",[Ln]:"fire-analytics-compat",[Un]:"fire-app-check",[Fn]:"fire-app-check-compat",[Vn]:"fire-auth",[zn]:"fire-auth-compat",[Bn]:"fire-rtdb",[qn]:"fire-rtdb-compat",[Hn]:"fire-fn",[Wn]:"fire-fn-compat",[Gn]:"fire-iid",[Kn]:"fire-iid-compat",[Yn]:"fire-fcm",[Qn]:"fire-fcm-compat",[Xn]:"fire-perf",[$n]:"fire-perf-compat",[Jn]:"fire-rc",[Zn]:"fire-rc-compat",[er]:"fire-gcs",[tr]:"fire-gcs-compat",[nr]:"fire-fst",[ir]:"fire-fst-compat",[rr]:"fire-vertex","fire-js":"fire-js",[sr]:"fire-js-all"},lr=new Map,cr=new Map,ur=new Map;function dr(e,t){try{e.container.addComponent(t)}catch(IH){Dn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),IH)}}function hr(e,t){e.container.addOrOverwriteComponent(t)}function fr(e){const t=e.name;if(ur.has(t))return Dn.debug("There were multiple attempts to register component ".concat(t,".")),!1;ur.set(t,e);for(const n of lr.values())dr(n,e);for(const n of cr.values())dr(n,e);return!0}function pr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function mr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:or;pr(e,t).clearInstance(n)}function gr(e){return void 0!==e.options}function yr(e){return void 0!==e.settings}function vr(){ur.clear()}const br=new Pt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class wr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new nn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}class _r extends wr{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,s,r);else{super(e.options,s,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=null,"undefined"!==typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()}))),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Ir(On,Rn,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Cr(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw br.create("server-app-deleted")}}const xr="10.12.5";function Sr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:or,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw br.create("bad-app-name",{appName:String(i)});if(n||(n=mt()),!n)throw br.create("no-options");const s=lr.get(i);if(s){if(Ut(n,s.options)&&Ut(r,s.config))return s;throw br.create("duplicate-app",{appName:i})}const o=new on(i);for(const l of ur.values())o.addComponent(l);const a=new wr(n,r,o);return lr.set(i,a),a}function kr(e,t){if(_t()&&!xt())throw br.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=gr(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw br.create("finalization-registry-not-supported",{});const i=""+(e=>[...e].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0))(JSON.stringify(r)),s=cr.get(i);if(s)return s.incRefCount(t.releaseOnDeref),s;const o=new on(i);for(const l of ur.values())o.addComponent(l);const a=new _r(n,t,i,o);return cr.set(i,a),a}function Er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or;const t=lr.get(e);if(!t&&e===or&&mt())return Sr();if(!t)throw br.create("no-app",{appName:e});return t}function Tr(){return Array.from(lr.values())}async function Cr(e){let t=!1;const n=e.name;if(lr.has(n))t=!0,lr.delete(n);else if(cr.has(n)){e.decRefCount()<=0&&(cr.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Ir(e,t,n){var r;let i=null!==(r=ar[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Dn.warn(e.join(" "))}fr(new nn("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Nr(e,t){if(null!==e&&"function"!==typeof e)throw br.create("invalid-log-argument");!function(e,t){for(const n of an){let r=null;t&&t.level&&(r=cn[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:ln[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function Pr(e){var t;t=e,an.forEach((e=>{e.setLogLevel(t)}))}const Ar="firebase-heartbeat-database",Or=1,Rr="firebase-heartbeat-store";let Dr=null;function jr(){return Dr||(Dr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=En(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(En(o.result),e.oldVersion,e.newVersion,En(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Ar,Or,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Rr)}catch(IH){console.warn(IH)}}}).catch((e=>{throw br.create("idb-open",{originalErrorMessage:e.message})}))),Dr}async function Lr(e,t){try{const n=(await jr()).transaction(Rr,"readwrite"),r=n.objectStore(Rr);await r.put(t,Mr(e)),await n.done}catch(IH){if(IH instanceof Nt)Dn.warn(IH.message);else{const t=br.create("idb-set",{originalErrorMessage:null===IH||void 0===IH?void 0:IH.message});Dn.warn(t.message)}}}function Mr(e){return"".concat(e.name,"!").concat(e.options.appId)}class Fr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Vr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ur();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ur(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),zr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=ct(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ur(){return(new Date).toISOString().substring(0,10)}class Vr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!It()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch($S){t($S)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await jr()).transaction(Rr),n=await t.objectStore(Rr).get(Mr(e));return await t.done,n}catch(IH){if(IH instanceof Nt)Dn.warn(IH.message);else{const t=br.create("idb-get",{originalErrorMessage:null===IH||void 0===IH?void 0:IH.message});Dn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Lr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Lr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function zr(e){return ct(JSON.stringify({version:2,heartbeats:e})).length}var Br;Br="",fr(new nn("platform-logger",(e=>new An(e)),"PRIVATE")),fr(new nn("heartbeat",(e=>new Fr(e)),"PRIVATE")),Ir(On,Rn,Br),Ir(On,Rn,"esm2017"),Ir("fire-js","");class qr{constructor(e,t){this._delegate=e,this.firebase=t,dr(e,new nn("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Cr(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:or;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:or;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){dr(this._delegate,e)}_addOrOverwriteComponent(e){hr(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Hr=new Pt("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Wr=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Sr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(jt(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:Ir,setLogLevel:Pr,onLog:Nr,apps:null,SDK_VERSION:xr,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(fr(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw Hr.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&dt(o,e.serviceProps),r[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!jt(n,e=e||or))throw Hr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(qr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){dt(n,e)},createSubscribe:Wt,ErrorFactory:Pt,deepExtend:dt}),n}(),Gr=new fn("@firebase/app-compat");if(_t()&&void 0!==window.firebase){Gr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=window.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Gr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Kr=Wr;!function(e){Ir("@firebase/app-compat","0.2.38",e)}();Kr.registerVersion("firebase","10.12.5","app-compat");function Yr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Qr={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Xr="EMAIL_SIGNIN",$r="PASSWORD_RESET",Jr="RECOVER_EMAIL",Zr="REVERT_SECOND_FACTOR_ADDITION",ei="VERIFY_AND_CHANGE_EMAIL",ti="VERIFY_EMAIL";function ni(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ri=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ii=ni,si=new Pt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),oi=new fn("@firebase/auth");function ai(e){if(oi.logLevel<=ln.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];oi.error("Auth (".concat(xr,"): ").concat(e),...n)}}function li(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw fi(e,...n)}function ci(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return fi(e,...n)}function ui(e,t,n){const r=Object.assign(Object.assign({},ii()),{[t]:n});return new Pt("auth","Firebase",r).create(t,{appName:e.name})}function di(e){return ui(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hi(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&li(e,"argument-error"),ui(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function fi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return si.create(e,...n)}function pi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw fi(t,...r)}}function mi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ai(t),new Error(t)}function gi(e,t){e||mi(t)}function yi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function vi(){return"http:"===bi()||"https:"===bi()}function bi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class wi{constructor(e,t){this.shortDelay=e,this.longDelay=t,gi(t>e,"Short delay should be less than long delay!"),this.isMobile=bt()||kt()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(vi()||St()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function _i(e,t){gi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class xi{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Si={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ki=new wi(3e4,6e4);function Ei(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ti(e,t,n,r){return Ci(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=zt(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),xi.fetch()(Ni(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Ci(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Si),t);try{const t=new Ai(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Oi(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Oi(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Oi(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Oi(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw ui(e,a,o);li(e,a)}}catch(IH){if(IH instanceof Nt)throw IH;li(e,"network-request-failed",{message:String(IH)})}}async function Ii(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Ti(e,t,n,r,i);return"mfaPendingCredential"in s&&li(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Ni(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?_i(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Pi(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ai{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(ci(this.auth,"network-request-failed"))),ki.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ci(e,t,r);return i.customData._tokenResponse=n,i}function Ri(e){return void 0!==e&&void 0!==e.getResponse}function Di(e){return void 0!==e&&void 0!==e.enterprise}class ji{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Pi(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Li(e,t){return Ti(e,"GET","/v2/recaptchaConfig",Ei(e,t))}async function Mi(e,t){return Ti(e,"POST","/v1/accounts:lookup",t)}function Fi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(IH){}}function Ui(e){return 1e3*Number(e)}function Vi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ai("JWT malformed, contained fewer than 3 sections"),null;try{const e=ut(n);return e?JSON.parse(e):(ai("Failed to decode base64 JWT payload"),null)}catch(IH){return ai("Caught error parsing JWT payload as JSON",null===IH||void 0===IH?void 0:IH.toString()),null}}function zi(e){const t=Vi(e);return pi(t,"internal-error"),pi("undefined"!==typeof t.exp,"internal-error"),pi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Bi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(IH){throw IH instanceof Nt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(IH)&&e.auth.currentUser===e&&await e.auth.signOut(),IH}}class qi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(IH){return void((null===IH||void 0===IH?void 0:IH.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Hi{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fi(this.lastLoginAt),this.creationTime=Fi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Bi(e,Mi(n,{idToken:r}));pi(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Gi(s.providerUserInfo):[],a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Hi(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function Gi(e){return e.map((e=>{var{providerId:t}=e,n=Yr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Ki{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pi(e.idToken,"internal-error"),pi("undefined"!==typeof e.idToken,"internal-error"),pi("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):zi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pi(0!==e.length,"internal-error");const t=zi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(pi(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Ci(e,{},(async()=>{const n=zt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Ni(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",xi.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Ki;return n&&(pi("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(pi("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(pi("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ki,this.toJSON())}_performRefresh(){return mi("not implemented")}}function Yi(e,t){pi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Qi{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Yr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Hi(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Bi(this,this.stsTokenManager.getToken(this.auth,e));return pi(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=tn(e),r=await n.getIdToken(t),i=Vi(r);pi(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Fi(Ui(i.auth_time)),issuedAtTime:Fi(Ui(i.iat)),expirationTime:Fi(Ui(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=tn(e);await Wi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(pi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Wi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yr(this.auth.app))return Promise.reject(di(this.auth));const e=await this.getIdToken();return await Bi(this,async function(e,t){return Ti(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:x}=t;pi(v&&x,e,"internal-error");const S=Ki.fromJSON(this.name,x);pi("string"===typeof v,e,"internal-error"),Yi(u,e.name),Yi(d,e.name),pi("boolean"===typeof b,e,"internal-error"),pi("boolean"===typeof w,e,"internal-error"),Yi(h,e.name),Yi(f,e.name),Yi(p,e.name),Yi(m,e.name),Yi(g,e.name),Yi(y,e.name);const k=new Qi({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(k.providerData=_.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Ki;r.updateFromServerResponse(t);const i=new Qi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Wi(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];pi(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Gi(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new Ki;o.updateFromIdToken(n);const a=new Qi({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Hi(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const Xi=new Map;function $i(e){gi(e instanceof Function,"Expected a class definition");let t=Xi.get(e);return t?(gi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Xi.set(e,t),t)}class Ji{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ji.type="NONE";const Zi=Ji;function es(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ts{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=es(this.userKey,r.apiKey,i),this.fullPersistenceKey=es("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ts($i(Zi),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||$i(Zi);const s=es(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Qi._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new ts(i,e,n)):new ts(i,e,n)}}function ns(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(os(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(rs(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ls(t))return"Blackberry";if(cs(t))return"Webos";if(is(t))return"Safari";if((t.includes("chrome/")||ss(t))&&!t.includes("edge/"))return"Chrome";if(as(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function rs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt();return/firefox\//i.test(e)}function is(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ss(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt();return/crios\//i.test(e)}function os(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt();return/iemobile/i.test(e)}function as(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt();return/android/i.test(e)}function ls(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt();return/blackberry/i.test(e)}function cs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt();return/webos/i.test(e)}function us(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt();return us(e)||as(e)||cs(e)||ls(e)||/windows phone/i.test(e)||os(e)}function hs(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ns(vt());break;case"Worker":t="".concat(ns(vt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(xr,"/").concat(r)}class fs{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(IH){r(IH)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(IH){t.reverse();for(const n of t)try{n()}catch(BR){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===IH||void 0===IH?void 0:IH.message})}}}class ps{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class ms{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ys(this),this.idTokenSubscription=new ys(this),this.beforeStateQueue=new fs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=si,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$i(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ts.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(IH){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Mi(this,{idToken:e}),n=await Qi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(yr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(IH){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(IH)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pi(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(IH){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Wi(e)}catch(IH){if((null===IH||void 0===IH?void 0:IH.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yr(this.app))return Promise.reject(di(this));const t=e?tn(e):null;return t&&pi(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&pi(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return yr(this.app)?Promise.reject(di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yr(this.app)?Promise.reject(di(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence($i(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Ti(e,"GET","/v2/passwordPolicy",Ei(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ps(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Ti(e,"POST","/v2/accounts:revokeToken",Ei(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$i(e)||this._popupRedirectResolver;pi(t,this,"argument-error"),this.redirectPersistenceManager=await ts.create(this,[$i(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(pi(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pi(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(oi.logLevel<=ln.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];oi.warn("Auth (".concat(xr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function gs(e){return tn(e)}class ys{constructor(e){this.auth=e,this.observer=null,this.addObserver=Wt((e=>this.observer=e))}get next(){return pi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vs={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bs(e){return vs.loadJS(e)}function ws(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class _s{constructor(e){this.type="recaptcha-enterprise",this.auth=gs(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Di(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Li(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new ji(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Di(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=vs.recaptchaEnterpriseScript;0!==t.length&&(t+=i),bs(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function xs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new _s(e);let s;try{s=await i.verify(n)}catch($S){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ss(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await xs(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await xs(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function ks(e,t,n){const r=gs(e);pi(r._canInitEmulator,r,"emulator-config-failed"),pi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Es(t),{host:o,port:a}=function(e){const t=Es(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ts(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ts(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Es(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ts(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Cs{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,t){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}}async function Is(e,t){return Ti(e,"POST","/v1/accounts:resetPassword",Ei(e,t))}async function Ns(e,t){return Ti(e,"POST","/v1/accounts:signUp",t)}async function Ps(e,t){return Ii(e,"POST","/v1/accounts:signInWithPassword",Ei(e,t))}async function As(e,t){return Ti(e,"POST","/v1/accounts:sendOobCode",Ei(e,t))}async function Os(e,t){return As(e,t)}async function Rs(e,t){return As(e,t)}class Ds extends Cs{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ds(e,t,"password")}static _fromEmailAndCode(e,t){return new Ds(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ss(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ps);case"emailLink":return async function(e,t){return Ii(e,"POST","/v1/accounts:signInWithEmailLink",Ei(e,t))}(e,{email:this._email,oobCode:this._password});default:li(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ss(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ns);case"emailLink":return async function(e,t){return Ii(e,"POST","/v1/accounts:signInWithEmailLink",Ei(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function js(e,t){return Ii(e,"POST","/v1/accounts:signInWithIdp",Ei(e,t))}class Ls extends Cs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):li("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Yr(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Ls(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return js(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,js(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,js(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=zt(t)}return e}}const Ms={USER_NOT_FOUND:"user-not-found"};class Fs extends Cs{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Fs({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Fs({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ii(e,"POST","/v1/accounts:signInWithPhoneNumber",Ei(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ii(e,"POST","/v1/accounts:signInWithPhoneNumber",Ei(e,t));if(n.temporaryProof)throw Oi(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ii(e,"POST","/v1/accounts:signInWithPhoneNumber",Ei(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ms)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Fs({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Us{constructor(e){var t,n,r,i,s,o;const a=Bt(qt(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);pi(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Bt(qt(e)).link,n=t?Bt(qt(t)).deep_link_id:null,r=Bt(qt(e)).deep_link_id;return(r?Bt(qt(r)).link:null)||r||n||t||e}(e);try{return new Us(t)}catch(n){return null}}}class Vs{constructor(){this.providerId=Vs.PROVIDER_ID}static credential(e,t){return Ds._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Us.parseLink(t);return pi(n,"argument-error"),Ds._fromEmailAndCode(e,n.code,n.tenantId)}}Vs.PROVIDER_ID="password",Vs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Vs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class zs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bs extends zs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qs extends Bs{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return pi("providerId"in t&&"signInMethod"in t,"argument-error"),Ls._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return pi(e.idToken||e.accessToken,"argument-error"),Ls._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return qs.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return qs.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=t;if(!r&&!i&&!n&&!s)return null;if(!a)return null;try{return new qs(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch(IH){return null}}}class Hs extends Bs{constructor(){super("facebook.com")}static credential(e){return Ls._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch(n){return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com",Hs.PROVIDER_ID="facebook.com";class Ws extends Bs{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ls._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ws.credential(n,r)}catch(i){return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com",Ws.PROVIDER_ID="google.com";class Gs extends Bs{constructor(){super("github.com")}static credential(e){return Ls._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Gs.credential(t.oauthAccessToken)}catch(n){return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com",Gs.PROVIDER_ID="github.com";class Ks extends Cs{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return js(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,js(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,js(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Ks(n,i):null}static _create(e,t){return new Ks(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ys extends zs{constructor(e){pi(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Ys.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ys.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Ks.fromJSON(e);return pi(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Ks._create(r,n)}catch(IH){return null}}}class Qs extends Bs{constructor(){super("twitter.com")}static credential(e,t){return Ls._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Qs.credential(n,r)}catch(i){return null}}}async function Xs(e,t){return Ii(e,"POST","/v1/accounts:signUp",Ei(e,t))}Qs.TWITTER_SIGN_IN_METHOD="twitter.com",Qs.PROVIDER_ID="twitter.com";class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Qi._fromIdTokenResponse(e,n,r),s=Js(n);return new $s({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Js(n);return new $s({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Js(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Zs extends Nt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Zs.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Zs(e,t,n,r)}}function eo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Zs._fromErrorAndOperation(e,n,t,r);throw n}))}function to(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function no(e,t){const n=tn(e);await io(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Ti(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=to(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function ro(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Bi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return $s._forOperation(e,"link",r)}async function io(e,t,n){await Wi(t);const r=!1===e?"provider-already-linked":"no-such-provider";pi(to(t.providerData).has(n)===e,t.auth,r)}async function so(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(yr(r.app))return Promise.reject(di(r));const i="reauthenticate";try{const s=await Bi(e,eo(r,i,t,e),n);pi(s.idToken,r,"internal-error");const o=Vi(s.idToken);pi(o,r,"internal-error");const{sub:a}=o;return pi(e.uid===a,r,"user-mismatch"),$s._forOperation(e,i,s)}catch(IH){throw(null===IH||void 0===IH?void 0:IH.code)==="auth/".concat("user-not-found")&&li(r,"user-mismatch"),IH}}async function oo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(yr(e.app))return Promise.reject(di(e));const r="signIn",i=await eo(e,r,t),s=await $s._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function ao(e,t){return oo(gs(e),t)}async function lo(e,t){const n=tn(e);return await io(!1,n,t.providerId),ro(n,t)}async function co(e,t){return so(tn(e),t)}async function uo(e,t){if(yr(e.app))return Promise.reject(di(e));const n=gs(e),r=await async function(e,t){return Ii(e,"POST","/v1/accounts:signInWithCustomToken",Ei(e,t))}(n,{token:t,returnSecureToken:!0}),i=await $s._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class ho{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?fo._fromServerResponse(e,t):"totpInfo"in t?po._fromServerResponse(e,t):li(e,"internal-error")}}class fo extends ho{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new fo(t)}}class po extends ho{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new po(t)}}function mo(e,t,n){var r;pi((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),pi("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(pi(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(pi(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function go(e){const t=gs(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function yo(e,t){await async function(e,t){return Ti(e,"POST","/v1/accounts:update",Ei(e,t))}(tn(e),{oobCode:t})}async function vo(e,t){const n=tn(e),r=await Is(n,{oobCode:t}),i=r.requestType;switch(pi(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pi(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pi(r.mfaInfo,n,"internal-error");default:pi(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=ho._fromServerResponse(gs(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function bo(e,t){const n={identifier:t,continueUri:vi()?yi():"http://localhost"},{signinMethods:r}=await async function(e,t){return Ti(e,"POST","/v1/accounts:createAuthUri",Ei(e,t))}(tn(e),n);return r||[]}async function wo(e,t){const n=tn(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&mo(n.auth,r,t);const{email:i}=await async function(e,t){return As(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function _o(e,t,n){const r=tn(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&mo(r.auth,i,n);const{email:s}=await async function(e,t){return As(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function xo(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=tn(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await Bi(i,async function(e,t){return Ti(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function So(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await Bi(e,async function(e,t){return Ti(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class ko{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Eo extends ko{constructor(e,t,n,r){super(e,t,n),this.username=r}}class To extends ko{constructor(e,t){super(e,"facebook.com",t)}}class Co extends Eo{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Io extends ko{constructor(e,t){super(e,"google.com",t)}}class No extends Eo{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Po(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Vi(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new ko(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new To(s,i);case"github.com":return new Co(s,i);case"google.com":return new Io(s,i);case"twitter.com":return new No(s,i,e.screenName||null);case"custom":case"anonymous":return new ko(s,null);default:return new ko(s,r,i)}}(n)}class Ao{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Ao("enroll",e,t)}static _fromMfaPendingCredential(e){return new Ao("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Ao._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Ao._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Oo{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=gs(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>ho._fromServerResponse(n,e)));pi(r.mfaPendingCredential,n,"internal-error");const s=Ao._fromMfaPendingCredential(r.mfaPendingCredential);return new Oo(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await $s._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return pi(t.user,n,"internal-error"),$s._forOperation(t.user,t.operationType,o);default:li(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Ro{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>ho._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Ro(e)}async getSession(){return Ao._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Bi(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Bi(this.user,function(e,t){return Ti(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ei(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(IH){throw IH}}}const Do=new WeakMap;const jo="__sak";class Lo{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jo,"1"),this.storage.removeItem(jo),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Mo extends Lo{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=vt();return is(e)||us(e)}()&&function(){try{return!(!window||window===window.top)}catch(IH){return!1}}(),this.fallbackToPolling=ds(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Et()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Mo.type="LOCAL";const Fo=Mo;class Uo extends Lo{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Uo.type="SESSION";const Vo=Uo;class zo{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new zo(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Bo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}zo.receivers=[];class qo{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=Bo("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Ho(){return window}function Wo(){return"undefined"!==typeof Ho().WorkerGlobalScope&&"function"===typeof Ho().importScripts}const Go="firebaseLocalStorageDb",Ko="firebaseLocalStorage",Yo="fbase_key";class Qo{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Xo(e,t){return e.transaction([Ko],t?"readwrite":"readonly").objectStore(Ko)}function $o(){const e=indexedDB.open(Go,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Ko,{keyPath:Yo})}catch(IH){n(IH)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Ko)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Go);return new Qo(e).toPromise()}(),t(await $o()))}))}))}async function Jo(e,t,n){const r=Xo(e,!0).put({[Yo]:t,value:n});return new Qo(r).toPromise()}function Zo(e,t){const n=Xo(e,!0).delete(t);return new Qo(n).toPromise()}class ea{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await $o()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(IH){if(t++>3)throw IH;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wo()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zo._getInstance(Wo()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new qo(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $o();return await Jo(e,jo,"1"),await Zo(e,jo),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Jo(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Xo(e,!1).get(t),r=await new Qo(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Zo(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Xo(e,!1).getAll();return new Qo(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ea.type="LOCAL";const ta=ea;const na=1e12;class ra{constructor(e){this.auth=e,this.counter=na,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new ia(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||na;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||na;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||na;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class ia{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;pi(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(IH){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(IH){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const sa=ws("rcb"),oa=new wi(3e4,6e4);class aa{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Ho().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return pi(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Ri(Ho().grecaptcha)?Promise.resolve(Ho().grecaptcha):new Promise(((n,r)=>{const i=Ho().setTimeout((()=>{r(ci(e,"network-request-failed"))}),oa.get());Ho()[sa]=()=>{Ho().clearTimeout(i),delete Ho()[sa];const s=Ho().grecaptcha;if(!s||!Ri(s))return void r(ci(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};bs("".concat(vs.recaptchaV2Script,"?").concat(zt({onload:sa,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(ci(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Ho().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class la{async load(e){return new ra(e)}clearedOneInstance(){}}const ca="recaptcha",ua={theme:"light",type:"image"};class da{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},ua);this.parameters=n,this.type=ca,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gs(e),this.isInvisible="invisible"===this.parameters.size,pi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;pi(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new la:new aa,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(IH){return Promise.reject(IH)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){pi(!this.parameters.sitekey,this.auth,"argument-error"),pi(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Ho()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){pi(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){pi(vi()&&!Wo(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Ti(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);pi(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return pi(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ha{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Fs._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function fa(e,t,n){var r;const i=await n.verify();try{let s;if(pi("string"===typeof i,e,"argument-error"),pi(n.type===ca,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){pi("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ti(e,"POST","/v2/accounts/mfaEnrollment:start",Ei(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{pi("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;pi(n,e,"missing-multi-factor-info");const o=await function(e,t){return Ti(e,"POST","/v2/accounts/mfaSignIn:start",Ei(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ti(e,"POST","/v1/accounts:sendVerificationCode",Ei(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class pa{constructor(e){this.providerId=pa.PROVIDER_ID,this.auth=gs(e)}verifyPhoneNumber(e,t){return fa(this.auth,e,tn(t))}static credential(e,t){return Fs._fromVerification(e,t)}static credentialFromResult(e){const t=e;return pa.credentialFromTaggedObject(t)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Fs._fromTokenResponse(n,r):null}}function ma(e,t){return t?$i(t):(pi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}pa.PROVIDER_ID="phone",pa.PHONE_SIGN_IN_METHOD="phone";class ga extends Cs{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return js(e,this._buildIdpRequest())}_linkToIdToken(e,t){return js(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return js(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ya(e){return oo(e.auth,new ga(e),e.bypassAuthState)}function va(e){const{auth:t,user:n}=e;return pi(n,t,"internal-error"),so(n,new ga(e),e.bypassAuthState)}async function ba(e){const{auth:t,user:n}=e;return pi(n,t,"internal-error"),ro(n,new ga(e),e.bypassAuthState)}class wa{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(IH){this.reject(IH)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(IH){this.reject(IH)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ya;case"linkViaPopup":case"linkViaRedirect":return ba;case"reauthViaPopup":case"reauthViaRedirect":return va;default:li(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _a=new wi(2e3,1e4);class xa extends wa{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pi(e,this.auth,"internal-error"),e}async onExecution(){gi(1===this.filter.length,"Popup operations only handle one event");const e=Bo();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(ci(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,_a.get())};e()}}xa.currentPopupAction=null;const Sa="pendingRedirect",ka=new Map;class Ea extends wa{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ka.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Na(t),r=Ia(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(IH){e=()=>Promise.reject(IH)}ka.set(this.auth._key(),e)}return this.bypassAuthState||ka.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Ta(e,t){return Ia(e)._set(Na(t),"true")}function Ca(e,t){ka.set(e._key(),t)}function Ia(e){return $i(e._redirectPersistence)}function Na(e){return es(Sa,e.config.apiKey,e.name)}function Pa(e,t,n){return async function(e,t,n){if(yr(e.app))return Promise.reject(di(e));const r=gs(e);hi(e,t,zs),await r._initializationPromise;const i=ma(r,n);return await Ta(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Aa(e,t,n){return async function(e,t,n){const r=tn(e);if(hi(r.auth,t,zs),yr(r.auth.app))return Promise.reject(di(r.auth));await r.auth._initializationPromise;const i=ma(r.auth,n);await Ta(i,r.auth);const s=await Da(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function Oa(e,t,n){return async function(e,t,n){const r=tn(e);hi(r.auth,t,zs),await r.auth._initializationPromise;const i=ma(r.auth,n);await io(!1,r,t.providerId),await Ta(i,r.auth);const s=await Da(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function Ra(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(yr(e.app))return Promise.reject(di(e));const r=gs(e),i=ma(r,t),s=new Ea(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function Da(e){const t=Bo("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class ja{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ma(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ma(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ci(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(La(e))}saveEventToCache(e){this.cachedEventUids.add(La(e)),this.lastProcessedEventTime=Date.now()}}function La(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ma(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function Fa(e){return Ti(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Ua=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Va=/^https?/;function za(e){const t=yi(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Va.test(n))return!1;if(Ua.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ba=new wi(3e4,6e4);function qa(){const e=Ho().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ha(e){return new Promise(((t,n)=>{var r,i,s;function o(){qa(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qa(),n(ci(e,"network-request-failed"))},timeout:Ba.get()})}if(null===(i=null===(r=Ho().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Ho().gapi)||void 0===s?void 0:s.load)){const t=ws("iframefcb");return Ho()[t]=()=>{gapi.load?o():n(ci(e,"network-request-failed"))},bs("".concat(vs.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw Wa=null,e}))}let Wa=null;const Ga=new wi(5e3,15e3),Ka="__/auth/iframe",Ya="emulator/auth/iframe",Qa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $a(e){const t=e.config;pi(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?_i(t,Ya):"https://".concat(e.config.authDomain,"/").concat(Ka),r={apiKey:t.apiKey,appName:e.name,v:xr},i=Xa.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(zt(r).slice(1))}async function Ja(e){const t=await function(e){return Wa=Wa||Ha(e),Wa}(e),n=Ho().gapi;return pi(n,e,"internal-error"),t.open({where:document.body,url:$a(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qa,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=ci(e,"network-request-failed"),s=Ho().setTimeout((()=>{r(i)}),Ga.get());function o(){Ho().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const Za={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class el{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(IH){}}}function tl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Za),{width:r.toString(),height:i.toString(),top:s,left:o}),c=vt().toLowerCase();n&&(a=ss(c)?"_blank":n),rs(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return us(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new el(null);const d=window.open(t||"",a,u);pi(d,e,"popup-blocked");try{d.focus()}catch(IH){}return new el(d)}const nl="__/auth/handler",rl="emulator/auth/handler",il=encodeURIComponent("fac");async function sl(e,t,n,r,i,s){pi(e.config.authDomain,e,"auth-domain-config-required"),pi(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:xr,eventId:i};if(t instanceof zs){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Mt(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Bs){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(il,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(nl);return _i(t,rl)}(e),"?").concat(zt(a).slice(1)).concat(c)}const ol="webStorageSupport";const al=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vo,this._completeRedirectFn=Ra,this._overrideRedirectResult=Ca}async _openPopup(e,t,n,r){var i;gi(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return tl(e,await sl(e,t,n,yi(),r),Bo())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ho().location.href=e}(await sl(e,t,n,yi(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(gi(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Ja(e),n=new ja(e);return t.register("authEvent",(t=>{pi(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ol,{type:ol},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ol];void 0!==i&&t(!!i),li(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Fa(e);for(const r of t)try{if(za(r))return}catch(n){}li(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ds()||is()||us()}};class ll{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return mi("unexpected MultiFactorSessionType")}}}class cl extends ll{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new cl(e)}_finalizeEnroll(e,t,n){return function(e,t){return Ti(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ei(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Ti(e,"POST","/v2/accounts/mfaSignIn:finalize",Ei(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ul{constructor(){}static assertion(e){return cl._fromCredential(e)}}ul.FACTOR_ID="phone";var dl="@firebase/auth",hl="1.7.6";class fl{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=ft())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var pl;function ml(){return window}!function(e){vs=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=ci("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),pl="Browser",fr(new nn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;pi(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:pl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hs(pl)},c=new ms(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map($i);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),fr(new nn("auth-internal",(e=>(e=>new fl(e))(gs(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(dl,hl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(pl)),Ir(dl,hl,"esm2017");async function gl(e,t,n){var r;const{BuildInfo:i}=ml();gi(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(gi(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return us()?o.ibi=i.packageName:as()?o.apn=i.packageName:li(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,sl(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}function yl(e){const{cordova:t}=ml();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const vl=20;class bl extends ja{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInitialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function wl(e){const t=await Sl()._get(kl(e));return t&&await Sl()._remove(kl(e)),t}function _l(e,t){var n,r;const i=function(e){const t=El(e),n=t.link?decodeURIComponent(t.link):void 0,r=El(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return El(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=El(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(IH){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?ci(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function xl(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<vl;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Sl(){return $i(Fo)}function kl(e){return es("authEvent",e.config.apiKey,e.name)}function El(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Bt(n.join("?"))}const Tl=class{constructor(){this._redirectPersistence=Vo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ra,this._overrideRedirectResult=Ca}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new bl(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){li(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,l,c,u;const d=ml();pi("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),pi("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),pi("function"===typeof(null===(s=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pi("function"===typeof(null===(l=null===(a=null===(o=null===d||void 0===d?void 0:d.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pi("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),ka.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:xl(),postBody:null,tenantId:e.tenantId,error:ci(e,"no-auth-event")}}(e,n,r);await function(e,t){return Sl()._set(kl(e),t)}(e,s);const o=await gl(e,s,t);return async function(e,t,n){const{cordova:r}=ml();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{o(ci(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),as()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await yl(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=ml(),n={};us()?n.iosBundleId=t.packageName:as()?n.androidPackageName=t.packageName:li(e,"operation-not-supported-in-this-environment"),await Fa(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=ml(),s=setTimeout((async()=>{await wl(e),t.onEvent(Cl())}),500),o=async n=>{clearTimeout(s);const r=await wl(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=_l(r,n.url)),t.onEvent(i||Cl())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=r,l="".concat(i.packageName.toLowerCase(),"://");ml().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&o({url:e}),"function"===typeof a)try{a(e)}catch(IH){console.error(IH)}}}};function Cl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ci("no-auth-event")}}function Il(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Nl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt();return!("file:"!==Il()&&"ionic:"!==Il()&&"capacitor:"!==Il()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Pl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt();return Et()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt();return/Edge\/\d+/.test(e)}(e)}function Al(){try{const e=self.localStorage,t=Bo();if(e)return e.setItem(t,"1"),e.removeItem(t),!Pl()||It()}catch(IH){return Ol()&&It()}return!1}function Ol(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Rl(){return("http:"===Il()||"https:"===Il()||St()||Nl())&&!(kt()||wt())&&Al()&&!Ol()}function Dl(){return Nl()&&"undefined"!==typeof document}const jl={LOCAL:"local",NONE:"none",SESSION:"session"},Ll=pi,Ml="persistence";async function Fl(e){await e._initializationPromise;const t=Ul(),n=es(Ml,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Ul(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(IH){return null}}const Vl=pi;class zl{constructor(){this.browserResolver=$i(al),this.cordovaResolver=$i(Tl),this.underlyingResolver=null,this._redirectPersistence=Vo,this._completeRedirectFn=Ra,this._overrideRedirectResult=Ca}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Dl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vl(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Dl()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Bl(e){return e.unwrap()}function ql(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new Kl(e,function(e,t){var n;const r=tn(e),i=t;return pi(t.customData.operationType,r,"argument-error"),pi(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Oo._fromError(r,i)}(e,t))}else if(r){const e=Hl(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Hl(e){const{_tokenResponse:t}=e instanceof Nt?e.customData:e;if(!t)return null;if(!(e instanceof Nt)&&"temporaryProof"in t&&"phoneNumber"in t)return pa.credentialFromResult(e);const n=t.providerId;if(!n||n===Qr.PASSWORD)return null;let r;switch(n){case Qr.GOOGLE:r=Ws;break;case Qr.FACEBOOK:r=Hs;break;case Qr.GITHUB:r=Gs;break;case Qr.TWITTER:r=Qs;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?Ks._create(n,o):Ls._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new qs(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof Nt?r.credentialFromError(e):r.credentialFromResult(e)}function Wl(e,t){return t.catch((t=>{throw t instanceof Nt&&ql(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Hl(r)),additionalUserInfo:Po(e),user:Yl.getOrCreate(n)};var r}))}async function Gl(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Wl(e,n.confirm(t))}}class Kl{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Wl(Bl(this.auth),this.resolver.resolveSignIn(e))}}class Yl{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=tn(e);return Do.has(t)||Do.set(t,Ro._fromUser(t)),Do.get(t)}(e)}static getOrCreate(e){return Yl.USER_MAP.has(e)||Yl.USER_MAP.set(e,new Yl(e)),Yl.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Wl(this.auth,lo(this._delegate,e))}async linkWithPhoneNumber(e,t){return Gl(this.auth,async function(e,t,n){const r=tn(e);await io(!1,r,"phone");const i=await fa(r.auth,t,tn(n));return new ha(i,(e=>lo(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Wl(this.auth,async function(e,t,n){const r=tn(e);hi(r.auth,t,zs);const i=ma(r.auth,n);return new xa(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,zl))}async linkWithRedirect(e){return await Fl(gs(this.auth)),Oa(this._delegate,e,zl)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Wl(this.auth,co(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Gl(this.auth,async function(e,t,n){const r=tn(e);if(yr(r.auth.app))return Promise.reject(di(r.auth));const i=await fa(r.auth,t,tn(n));return new ha(i,(e=>co(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Wl(this.auth,async function(e,t,n){const r=tn(e);if(yr(r.auth.app))return Promise.reject(ci(r.auth,"operation-not-supported-in-this-environment"));hi(r.auth,t,zs);const i=ma(r.auth,n);return new xa(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,zl))}async reauthenticateWithRedirect(e){return await Fl(gs(this.auth)),Aa(this._delegate,e,zl)}sendEmailVerification(e){return wo(this._delegate,e)}async unlink(e){return await no(this._delegate,e),this}updateEmail(e){return function(e,t){const n=tn(e);return yr(n.auth.app)?Promise.reject(di(n.auth)):So(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return So(tn(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=tn(e);if(yr(n.auth.app))return Promise.reject(di(n.auth));await ro(n,t)}(this._delegate,e)}updateProfile(e){return xo(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return _o(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Yl.USER_MAP=new WeakMap;const Ql=pi;class Xl{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Ql(n,"invalid-api-key",{appName:e.name}),Ql(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?zl:void 0;this._delegate=t.initialize({options:{persistence:Jl(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(ri),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Yl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){ks(this._delegate,e,t)}applyActionCode(e){return yo(this._delegate,e)}checkActionCode(e){return vo(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Is(tn(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&go(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Wl(this._delegate,async function(e,t,n){if(yr(e.app))return Promise.reject(di(e));const r=gs(e),i=Ss(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xs),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&go(e),t})),o=await $s._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return bo(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Us.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Ql(Rl(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await gs(e)._initializationPromise,Ra(e,t,!1)}(this._delegate,zl);return e?Wl(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){gs(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=$l(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=$l(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=gs(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){pi(t.handleCodeInApp,r,"argument-error"),t&&mo(r,e,t)}(i,n),await Ss(r,i,"getOobCode",Rs)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=gs(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&mo(r,i,n),await Ss(r,i,"getOobCode",Os)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Ll(Object.values(jl).includes(t),e,"invalid-persistence-type"),kt()?Ll(t!==jl.SESSION,e,"unsupported-persistence-type"):wt()?Ll(t===jl.NONE,e,"unsupported-persistence-type"):Ol()?Ll(t===jl.NONE||t===jl.LOCAL&&It(),e,"unsupported-persistence-type"):Ll(t===jl.NONE||Al(),e,"unsupported-persistence-type")}(this._delegate,e),e){case jl.SESSION:t=Vo;break;case jl.LOCAL:t=await $i(ta)._isAvailable()?ta:Fo;break;case jl.NONE:t=Zi;break;default:return li("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Wl(this._delegate,async function(e){var t;if(yr(e.app))return Promise.reject(di(e));const n=gs(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new $s({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Xs(n,{returnSecureToken:!0}),i=await $s._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Wl(this._delegate,ao(this._delegate,e))}signInWithCustomToken(e){return Wl(this._delegate,uo(this._delegate,e))}signInWithEmailAndPassword(e,t){return Wl(this._delegate,function(e,t,n){return yr(e.app)?Promise.reject(di(e)):ao(tn(e),Vs.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&go(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Wl(this._delegate,async function(e,t,n){if(yr(e.app))return Promise.reject(di(e));const r=tn(e),i=Vs.credentialWithLink(t,n||yi());return pi(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),ao(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Gl(this._delegate,async function(e,t,n){if(yr(e.app))return Promise.reject(di(e));const r=gs(e),i=await fa(r,t,tn(n));return new ha(i,(e=>ao(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Ql(Rl(),this._delegate,"operation-not-supported-in-this-environment"),Wl(this._delegate,async function(e,t,n){if(yr(e.app))return Promise.reject(ci(e,"operation-not-supported-in-this-environment"));const r=gs(e);hi(e,t,zs);const i=ma(r,n);return new xa(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,zl))}async signInWithRedirect(e){return Ql(Rl(),this._delegate,"operation-not-supported-in-this-environment"),await Fl(this._delegate),Pa(this._delegate,e,zl)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await vo(tn(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function $l(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Yl.getOrCreate(e)),error:t,complete:n}}function Jl(e,t){const n=function(e,t){const n=Ul();if(!n)return[];const r=es(Ml,e,t);switch(n.getItem(r)){case jl.NONE:return[Zi];case jl.LOCAL:return[ta,Vo];case jl.SESSION:return[Vo];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(ta)||n.push(ta),"undefined"!==typeof window)for(const r of[Fo,Vo])n.includes(r)||n.push(r);return n.includes(Zi)||n.push(Zi),n}Xl.Persistence=jl;class Zl{constructor(){this.providerId="phone",this._delegate=new pa(Bl(Kr.auth()))}static credential(e,t){return pa.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Zl.PHONE_SIGN_IN_METHOD=pa.PHONE_SIGN_IN_METHOD,Zl.PROVIDER_ID=pa.PROVIDER_ID;const ec=pi;class tc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kr.app();var r;ec(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new da(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var nc;(nc=Kr).INTERNAL.registerComponent(new nn("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Xl(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Xr,PASSWORD_RESET:$r,RECOVER_EMAIL:Jr,REVERT_SECOND_FACTOR_ADDITION:Zr,VERIFY_AND_CHANGE_EMAIL:ei,VERIFY_EMAIL:ti}},EmailAuthProvider:Vs,FacebookAuthProvider:Hs,GithubAuthProvider:Gs,GoogleAuthProvider:Ws,OAuthProvider:qs,SAMLAuthProvider:Ys,PhoneAuthProvider:Zl,PhoneMultiFactorGenerator:ul,RecaptchaVerifier:tc,TwitterAuthProvider:Qs,Auth:Xl,AuthCredential:Cs,Error:Nt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),nc.registerVersion("@firebase/auth-compat","0.5.11");var rc,ic,sc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},oc={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=o(n)).j(t);d(c)||0<c.l(e);)c=(s=o(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ic=oc.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},rc=oc.Integer=r}).apply("undefined"!==typeof sc?sc:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ac,lc,cc,uc,dc,hc,fc,pc,mc,gc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},yc={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof gc&&gc];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function x(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout((()=>{throw e}),0)}function k(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,I=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(A)}};var A=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){S(n)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function O(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function j(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(MR){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&j.aa.h.call(this)}}d(j,R);var L={2:"touch",3:"pen",4:"mouse"};j.prototype.h=function(){j.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=q(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function G(e,t,n,r,i){if(r&&r.once)return Y(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,o(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new z(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Y(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,o(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[H]=null)):V(e)}}}function $(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new j(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){O.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;_(t=new R(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&B(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,O),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){O.call(this),this.h=e,this.g={}}d(le,O);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){R.call(this,"d")}function be(){R.call(this,"c")}d(ve,R),d(be,R);var we={},_e=null;function xe(){return _e=_e||new ne}function Se(e){R.call(this,we.La,e)}function ke(e){const t=xe();re(t,new Se(t))}function Ee(e,t){R.call(this,we.STAT_EVENT,e),this.stat=t}function Te(e){const t=xe();re(t,new Ee(t,e))}function Ce(e,t){R.call(this,we.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ne(){this.g=!0}function Pe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return de(n)}catch(FR){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(Se,R),we.STAT_EVENT="statevent",d(Ee,R),we.Ma="timingevent",d(Ce,R),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var Ae,Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function je(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ae=new De;var Me={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),qe(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var o=G(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||an(e.j,e)}function Ke(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ye(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Qt(n)}nn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(We(a),qe(a)),r.g=o}else tn(r);0<n.i.length&&$t(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(u){}}je.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},je.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||ke(),We(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Wt(this.g);e="";var s=r.length,o=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),Ge(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ke(this),Ge(this);break e}Pe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ye(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Be(this,a),e==Fe){4==h&&(this.s=4,Te(14),n=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Te(15),Pe(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Pe(this.i,this.l,e,null),Ye(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),rn(d),d.M=!0,Te(11))}}else Pe(this.i,this.l,a,"[Invalid Chunked Response]"),Ke(this),Ge(this)}else Pe(this.i,this.l,a,null),Ye(this,a);4==h&&Ke(this),this.o&&!this.J&&(4==h?an(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=x(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ke(this),Ge(this)}}}catch(VR){}},je.prototype.cancel=function(){this.J=!0,Ke(this)},je.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Te(17)),Ke(this),this.s=2,Ge(this)):He(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(_t(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(xt(this,t),kt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _t(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function xt(e,t){_t(e),t=Et(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return _t(e),t=Et(e,t),e.g.has(t)}function kt(e,t,n){xt(e,t),0<n.length&&(e.i=null,e.g.set(Et(e,t),h(n)),e.h+=n.length)}function Et(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(MR){}}function Ct(){this.g=new fe}function It(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(IH){throw t.push(r+"type="+encodeURIComponent("_badmap")),IH}}function Nt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ot(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function jt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Lt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){_t(this),this.i=null,e=Et(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){_t(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){_t(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){_t(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(Et(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return _t(this),this.i=null,St(this,e=Et(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},d(Nt,pe),Nt.prototype.g=function(){return new Pt(this.l,this.j)},Nt.prototype.i=function(e){return function(){return e}}({}),d(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ot(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ot(this):Rt(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ot(this))},e.Qa=function(e){this.g&&(this.response=e,Ot(this))},e.ga=function(){this.g&&Ot(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Lt,ne);var Mt=/^https?$/i,Ft=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),Bt(e)}function Vt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Mt.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Ht(e)?e.g.statusText:""}catch(FR){a=""}e.l=a+" ["+e.Z()+"]",Vt(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(IH){}}}function qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(wc){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Xt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new je(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(RR){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}un(e)}function Qt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Xt(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function $t(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||P(),I||(C(),I=!0),N.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&jt(r,e.m,e.o),n=new je(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function Zt(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{It(a,e,"req"+n+"_")}catch(VR){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||P(),I||(C(),I=!0),N.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new je(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&jt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function an(e,t){var n=null;if(e.g==t){on(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=xe(),new Ce(r,n)),$t(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Ne;if(i.Image){const r=new Image;r.onload=u(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Tt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout((()=>{n.abort(),Tt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Tt(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),un(e),Xt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&at(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Lt(new Nt({eb:n})):new Lt(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function mn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function gn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function vn(e){this.g=e}(e=Lt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(MR){return void Ut(this,MR)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(MR){Ut(this,MR)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Lt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(e){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),$t(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new je(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),_(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Dt(s)))+"&"+t:this.m&&jt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||$e(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Qt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),nn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Yt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&$t(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,mn.aa.N.call(this)},d(gn,ve),d(yn,be),d(vn,fn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new gn(e))},vn.prototype.sa=function(e){re(this.g,new yn)},vn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,mc=yc.createWebChannelTransport=function(){return new pn},pc=yc.getStatEventTarget=function(){return xe()},fc=yc.Event=we,hc=yc.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,dc=yc.ErrorCode=Oe,Re.COMPLETE="complete",uc=yc.EventType=Re,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,cc=yc.WebChannel=ge,lc=yc.FetchXmlHttpFactory=Nt,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,ac=yc.XhrIo=Lt}).apply("undefined"!==typeof gc?gc:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const vc="@firebase/firestore";class bc{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bc.UNAUTHENTICATED=new bc(null),bc.GOOGLE_CREDENTIALS=new bc("google-credentials-uid"),bc.FIRST_PARTY=new bc("first-party-uid"),bc.MOCK_USER=new bc("mock-user");let wc="10.12.5";const _c=new fn("@firebase/firestore");function xc(){return _c.logLevel}function Sc(e){if(_c.logLevel<=ln.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Tc);_c.debug("Firestore (".concat(wc,"): ").concat(e),...i)}}function kc(e){if(_c.logLevel<=ln.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Tc);_c.error("Firestore (".concat(wc,"): ").concat(e),...i)}}function Ec(e){if(_c.logLevel<=ln.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Tc);_c.warn("Firestore (".concat(wc,"): ").concat(e),...i)}}function Tc(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Cc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(wc,") INTERNAL ASSERTION FAILED: ")+e;throw kc(t),new Error(t)}function Ic(e,t){e||Cc()}function Nc(e,t){return e}const Pc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ac extends Nt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Oc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Rc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Dc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(bc.UNAUTHENTICATED)))}shutdown(){}}class jc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Lc{constructor(e){this.t=e,this.currentUser=bc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Oc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Oc,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Sc("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Sc("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Oc)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Sc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ic("string"==typeof t.accessToken),new Rc(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ic(null===e||"string"==typeof e),new bc(e)}}class Mc{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=bc.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Fc{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Mc(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(bc.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Uc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vc{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Sc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Sc("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Sc("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Sc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ic("string"==typeof e.token),this.R=e.token,new Uc(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function zc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Bc{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=zc(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function qc(e,t){return e<t?-1:e>t?1:0}function Hc(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Wc(e){return e+"\0"}class Gc{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ac(Pc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ac(Pc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ac(Pc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ac(Pc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gc.fromMillis(Date.now())}static fromDate(e){return Gc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Gc(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qc(this.nanoseconds,e.nanoseconds):qc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Kc{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Kc(e)}static min(){return new Kc(new Gc(0,0))}static max(){return new Kc(new Gc(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Yc{constructor(e,t,n){void 0===t?t=0:t>e.length&&Cc(),void 0===n?n=e.length-t:n>e.length-t&&Cc(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Yc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yc?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qc extends Yc{construct(e,t,n){return new Qc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Ac(Pc.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Qc(e)}static emptyPath(){return new Qc([])}}const Xc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $c extends Yc{construct(e,t,n){return new $c(e,t,n)}static isValidIdentifier(e){return Xc.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$c.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $c(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ac(Pc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ac(Pc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ac(Pc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Ac(Pc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $c(t)}static emptyPath(){return new $c([])}}class Jc{constructor(e){this.path=e}static fromPath(e){return new Jc(Qc.fromString(e))}static fromName(e){return new Jc(Qc.fromString(e).popFirst(5))}static empty(){return new Jc(Qc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Jc(new Qc(e.slice()))}}class Zc{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function eu(e){return e.fields.find((e=>2===e.kind))}function tu(e){return e.fields.filter((e=>2!==e.kind))}Zc.UNKNOWN_ID=-1;class nu{constructor(e,t){this.fieldPath=e,this.kind=t}}class ru{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ru(0,ou.min())}}function iu(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Kc.fromTimestamp(1e9===r?new Gc(n+1,0):new Gc(n,r));return new ou(i,Jc.empty(),t)}function su(e){return new ou(e.readTime,e.key,-1)}class ou{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ou(Kc.min(),Jc.empty(),-1)}static max(){return new ou(Kc.max(),Jc.empty(),-1)}}function au(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Jc.comparator(e.documentKey,t.documentKey),0!==n?n:qc(e.largestBatchId,t.largestBatchId))}const lu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function uu(e){if(e.code!==Pc.FAILED_PRECONDITION||e.message!==lu)throw e;Sc("LocalStore","Unexpectedly lost primary lease")}class du{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Cc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new du(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof du?t:du.resolve(t)}catch(e){return du.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):du.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):du.reject(t)}static resolve(e){return new du(((t,n)=>{t(e)}))}static reject(e){return new du(((t,n)=>{n(e)}))}static waitFor(e){return new du(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=du.resolve(!1);for(const n of e)t=t.next((e=>e?du.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new du(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new du(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class hu{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Oc,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new gu(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=_u(t.target.error);this.V.reject(new gu(e,n))}}static open(e,t,n,r){try{return new hu(t,e.transaction(r,n))}catch(e){throw new gu(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Sc("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new vu(t)}}class fu{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===fu.S(vt())&&kc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Sc("SimpleDb","Removing database:",e),bu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!It())return!1;if(fu.C())return!0;const e=vt(),t=fu.S(e),n=0<t&&t<10,r=pu(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(Sc("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new gu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Ac(Pc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Ac(Pc.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new gu(e,r))},r.onupgradeneeded=e=>{Sc("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.O(t,r.transaction,e.oldVersion,this.version).next((()=>{Sc("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.M(e);const t=hu.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),du.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Sc("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function pu(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class mu{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return bu(this.B.delete())}}class gu extends Ac{constructor(e,t){super(Pc.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function yu(e){return"IndexedDbTransactionError"===e.name}class vu{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Sc("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Sc("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),bu(n)}add(e){return Sc("SimpleDb","ADD",this.store.name,e,e),bu(this.store.add(e))}get(e){return bu(this.store.get(e)).next((t=>(void 0===t&&(t=null),Sc("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Sc("SimpleDb","DELETE",this.store.name,e),bu(this.store.delete(e))}count(){return Sc("SimpleDb","COUNT",this.store.name),bu(this.store.count())}U(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new du(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new du(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){Sc("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Y(e){const t=this.cursor({});return new du(((n,r)=>{t.onerror=e=>{const t=_u(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new du(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new mu(i),o=t(i.primaryKey,i.value,s);if(o instanceof du){const e=o.catch((e=>(s.done(),du.reject(e))));n.push(e)}s.isDone?r():null===s.K?i.continue():i.continue(s.K)}})).next((()=>du.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function bu(e){return new du(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=_u(e.target.error);n(t)}}))}let wu=!1;function _u(e){const t=fu.S(vt());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Ac("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return wu||(wu=!0,setTimeout((()=>{throw e}),0)),e}}return e}class xu{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){Sc("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Sc("IndexBackfiller","Documents written: ".concat(await this.Z.ee()))}catch(e){yu(e)?Sc("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await uu(e)}await this.X(6e4)}))}}class Su{constructor(e,t){this.localStore=e,this.persistence=t}async ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let r=t,i=!0;return du.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Sc("IndexBackfiller","Processing collection: ".concat(t)),this.ne(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.re(r,n))).next((n=>(Sc("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=su(t);au(r,n)>0&&(n=r)})),new ou(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ku{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Eu(e){return null==e}function Tu(e){return 0===e&&1/e==-1/0}function Cu(e){return"number"==typeof e&&Number.isInteger(e)&&!Tu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Iu(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Pu(t)),t=Nu(e.get(n),t);return Pu(t)}function Nu(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Pu(e){return e+"\x01\x01"}function Au(e){const t=e.length;if(Ic(t>=2),2===t)return Ic("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Qc.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Cc(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Cc()}s=t+2}return new Qc(r)}ku.oe=-1;const Ou=["userId","batchId"];function Ru(e,t){return[e,Iu(t)]}function Du(e,t,n){return[e,Iu(t),n]}const ju={},Lu=["prefixPath","collectionGroup","readTime","documentId"],Mu=["prefixPath","collectionGroup","documentId"],Fu=["collectionGroup","readTime","prefixPath","documentId"],Uu=["canonicalId","targetId"],Vu=["targetId","path"],zu=["path","targetId"],Bu=["collectionId","parent"],qu=["indexId","uid"],Hu=["uid","sequenceNumber"],Wu=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Gu=["indexId","uid","orderedDocumentKey"],Ku=["userId","collectionPath","documentId"],Yu=["userId","collectionPath","largestBatchId"],Qu=["userId","collectionGroup","largestBatchId"],Xu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$u=[...Xu,"documentOverlays"],Ju=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Zu=Ju,ed=[...Zu,"indexConfiguration","indexState","indexEntries"],td=ed,nd=[...ed,"globals"];class rd extends cu{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function id(e,t){const n=Nc(e);return fu.F(n._e,t)}function sd(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function od(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ad(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ld{constructor(e,t){this.comparator=e,this.root=t||ud.EMPTY}insert(e,t){return new ld(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ud.BLACK,null,null))}remove(e){return new ld(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ud.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cd(this.root,e,this.comparator,!0)}}class cd{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ud{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ud.RED,this.left=null!=r?r:ud.EMPTY,this.right=null!=i?i:ud.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ud(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ud.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ud.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ud.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ud.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Cc();if(this.right.isRed())throw Cc();const e=this.left.check();if(e!==this.right.check())throw Cc();return e+(this.isRed()?0:1)}}ud.EMPTY=null,ud.RED=!0,ud.BLACK=!1,ud.EMPTY=new class{constructor(){this.size=0}get key(){throw Cc()}get value(){throw Cc()}get color(){throw Cc()}get left(){throw Cc()}get right(){throw Cc()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ud(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dd{constructor(e){this.comparator=e,this.data=new ld(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hd(this.data.getIterator())}getIteratorFrom(e){return new hd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof dd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new dd(this.comparator);return t.data=e,t}}class hd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function fd(e){return e.hasNext()?e.getNext():void 0}class pd{constructor(e){this.fields=e,e.sort($c.comparator)}static empty(){return new pd([])}unionWith(e){let t=new dd($c.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new pd(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hc(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class md extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gd{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new md("Invalid base64 string: "+e):e}}(e);return new gd(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new gd(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gd.EMPTY_BYTE_STRING=new gd("");const yd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vd(e){if(Ic(!!e),"string"==typeof e){let t=0;const n=yd.exec(e);if(Ic(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:bd(e.seconds),nanos:bd(e.nanos)}}function bd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function wd(e){return"string"==typeof e?gd.fromBase64String(e):gd.fromUint8Array(e)}function _d(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xd(e){const t=e.mapValue.fields.__previous_value__;return _d(t)?xd(t):t}function Sd(e){const t=vd(e.mapValue.fields.__local_write_time__.timestampValue);return new Gc(t.seconds,t.nanos)}class kd{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Ed{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ed("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ed&&e.projectId===this.projectId&&e.database===this.database}}const Td={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Cd={nullValue:"NULL_VALUE"};function Id(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_d(e)?4:Bd(e)?9007199254740991:10:Cc()}function Nd(e,t){if(e===t)return!0;const n=Id(e);if(n!==Id(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Sd(e).isEqual(Sd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=vd(e.timestampValue),r=vd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return wd(e.bytesValue).isEqual(wd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return bd(e.geoPointValue.latitude)===bd(t.geoPointValue.latitude)&&bd(e.geoPointValue.longitude)===bd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return bd(e.integerValue)===bd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=bd(e.doubleValue),r=bd(t.doubleValue);return n===r?Tu(n)===Tu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Hc(e.arrayValue.values||[],t.arrayValue.values||[],Nd);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(sd(n)!==sd(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Nd(n[i],r[i])))return!1;return!0}(e,t);default:return Cc()}}function Pd(e,t){return void 0!==(e.values||[]).find((e=>Nd(e,t)))}function Ad(e,t){if(e===t)return 0;const n=Id(e),r=Id(t);if(n!==r)return qc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=bd(e.integerValue||e.doubleValue),r=bd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Od(e.timestampValue,t.timestampValue);case 4:return Od(Sd(e),Sd(t));case 5:return qc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=wd(e),r=wd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=qc(n[i],r[i]);if(0!==e)return e}return qc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=qc(bd(e.latitude),bd(t.latitude));return 0!==n?n:qc(bd(e.longitude),bd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ad(n[i],r[i]);if(e)return e}return qc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Td.mapValue&&t===Td.mapValue)return 0;if(e===Td.mapValue)return 1;if(t===Td.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=qc(r[o],s[o]);if(0!==e)return e;const t=Ad(n[r[o]],i[s[o]]);if(0!==t)return t}return qc(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Cc()}}function Od(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return qc(e,t);const n=vd(e),r=vd(t),i=qc(n.seconds,r.seconds);return 0!==i?i:qc(n.nanos,r.nanos)}function Rd(e){return Dd(e)}function Dd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=vd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return wd(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Jc.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Dd(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Dd(e.fields[i]));return n+"}"}(e.mapValue):Cc()}function jd(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ld(e){return!!e&&"integerValue"in e}function Md(e){return!!e&&"arrayValue"in e}function Fd(e){return!!e&&"nullValue"in e}function Ud(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Vd(e){return!!e&&"mapValue"in e}function zd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return od(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=zd(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zd(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Bd(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function qd(e){return"nullValue"in e?Cd:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?jd(Ed.empty(),Jc.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Cc()}function Hd(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?jd(Ed.empty(),Jc.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Td:Cc()}function Wd(e,t){const n=Ad(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Gd(e,t){const n=Ad(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Kd{constructor(e){this.value=e}static empty(){return new Kd({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Vd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zd(t)}setAll(e){let t=$c.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=zd(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Vd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Vd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){od(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Kd(zd(this.value))}}function Yd(e){const t=[];return od(e.fields,((e,n)=>{const r=new $c([e]);if(Vd(n)){const e=Yd(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new pd(t)}class Qd{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Qd(e,0,Kc.min(),Kc.min(),Kc.min(),Kd.empty(),0)}static newFoundDocument(e,t,n,r){return new Qd(e,1,t,Kc.min(),n,r,0)}static newNoDocument(e,t){return new Qd(e,2,t,Kc.min(),Kc.min(),Kd.empty(),0)}static newUnknownDocument(e,t){return new Qd(e,3,t,Kc.min(),Kc.min(),Kd.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Kc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kd.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kd.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kc.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qd&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qd(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Xd{constructor(e,t){this.position=e,this.inclusive=t}}function $d(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Jc.comparator(Jc.fromName(o.referenceValue),n.key):Ad(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Jd(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Nd(e.position[n],t.position[n]))return!1;return!0}class Zd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function eh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class th{}class nh extends th{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new hh(e,t,n):"array-contains"===t?new gh(e,n):"in"===t?new yh(e,n):"not-in"===t?new vh(e,n):"array-contains-any"===t?new bh(e,n):new nh(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new fh(e,n):new ph(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ad(t,this.value)):null!==t&&Id(this.value)===Id(t)&&this.matchesComparison(Ad(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Cc()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rh extends th{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new rh(e,t)}matches(e){return ih(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ih(e){return"and"===e.op}function sh(e){return"or"===e.op}function oh(e){return ah(e)&&ih(e)}function ah(e){for(const t of e.filters)if(t instanceof rh)return!1;return!0}function lh(e){if(e instanceof nh)return e.field.canonicalString()+e.op.toString()+Rd(e.value);if(oh(e))return e.filters.map((e=>lh(e))).join(",");{const t=e.filters.map((e=>lh(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function ch(e,t){return e instanceof nh?function(e,t){return t instanceof nh&&e.op===t.op&&e.field.isEqual(t.field)&&Nd(e.value,t.value)}(e,t):e instanceof rh?function(e,t){return t instanceof rh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&ch(n,t.filters[r])),!0)}(e,t):void Cc()}function uh(e,t){const n=e.filters.concat(t);return rh.create(n,e.op)}function dh(e){return e instanceof nh?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Rd(e.value))}(e):e instanceof rh?function(e){return e.op.toString()+" {"+e.getFilters().map(dh).join(" ,")+"}"}(e):"Filter"}class hh extends nh{constructor(e,t,n){super(e,t,n),this.key=Jc.fromName(n.referenceValue)}matches(e){const t=Jc.comparator(e.key,this.key);return this.matchesComparison(t)}}class fh extends nh{constructor(e,t){super(e,"in",t),this.keys=mh("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ph extends nh{constructor(e,t){super(e,"not-in",t),this.keys=mh("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function mh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Jc.fromName(e.referenceValue)))}class gh extends nh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Md(t)&&Pd(t.arrayValue,this.value)}}class yh extends nh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Pd(this.value.arrayValue,t)}}class vh extends nh{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Pd(this.value.arrayValue,t)}}class bh extends nh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Md(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Pd(this.value.arrayValue,e)))}}class wh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function _h(e){return new wh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function xh(e){const t=Nc(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>lh(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Eu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Rd(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Rd(e))).join(",")),t.ue=e}return t.ue}function Sh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!eh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ch(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Jd(e.startAt,t.startAt)&&Jd(e.endAt,t.endAt)}function kh(e){return Jc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Eh(e,t){return e.filters.filter((e=>e instanceof nh&&e.field.isEqual(t)))}function Th(e,t,n){let r=Cd,i=!0;for(const s of Eh(e,t)){let e=Cd,t=!0;switch(s.op){case"<":case"<=":e=qd(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Cd}Wd({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Wd({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Ch(e,t,n){let r=Td,i=!0;for(const s of Eh(e,t)){let e=Td,t=!0;switch(s.op){case">=":case">":e=Hd(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Td}Gd({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Gd({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Ih{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Nh(e,t,n,r,i,s,o,a){return new Ih(e,t,n,r,i,s,o,a)}function Ph(e){return new Ih(e)}function Ah(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Oh(e){return null!==e.collectionGroup}function Rh(e){const t=Nc(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new dd($c.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Zd(r,n))})),e.has($c.keyField().canonicalString())||t.ce.push(new Zd($c.keyField(),n))}return t.ce}function Dh(e){const t=Nc(e);return t.le||(t.le=jh(t,Rh(e))),t.le}function jh(e,t){if("F"===e.limitType)return _h(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Zd(e.field,t)}));const n=e.endAt?new Xd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Xd(e.startAt.position,e.startAt.inclusive):null;return _h(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Lh(e,t){const n=e.filters.concat([t]);return new Ih(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Mh(e,t,n){return new Ih(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fh(e,t){return Sh(Dh(e),Dh(t))&&e.limitType===t.limitType}function Uh(e){return"".concat(xh(Dh(e)),"|lt:").concat(e.limitType)}function Vh(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>dh(e))).join(", "),"]")),Eu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Rd(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Rd(e))).join(",")),"Target(".concat(t,")")}(Dh(e)),"; limitType=").concat(e.limitType,")")}function zh(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Jc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Rh(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=$d(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Rh(e),t))&&!(e.endAt&&!function(e,t,n){const r=$d(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Rh(e),t))}(e,t)}function Bh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function qh(e){return(t,n)=>{let r=!1;for(const i of Rh(e)){const e=Hh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Hh(e,t,n){const r=e.field.isKeyField()?Jc.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ad(r,i):Cc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Cc()}}class Wh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){od(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return ad(this.inner)}size(){return this.innerSize}}const Gh=new ld(Jc.comparator);function Kh(){return Gh}const Yh=new ld(Jc.comparator);function Qh(){let e=Yh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Xh(e){let t=Yh;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function $h(){return Zh()}function Jh(){return Zh()}function Zh(){return new Wh((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ef=new ld(Jc.comparator),tf=new dd(Jc.comparator);function nf(){let e=tf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const rf=new dd(qc);function sf(){return rf}function of(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tu(t)?"-0":t}}function af(e){return{integerValue:""+e}}function lf(e,t){return Cu(t)?af(t):of(e,t)}class cf{constructor(){this._=void 0}}function uf(e,t,n){return e instanceof ff?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&_d(t)&&(t=xd(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof pf?mf(e,t):e instanceof gf?yf(e,t):function(e,t){const n=hf(e,t),r=bf(n)+bf(e.Pe);return Ld(n)&&Ld(e.Pe)?af(r):of(e.serializer,r)}(e,t)}function df(e,t,n){return e instanceof pf?mf(e,t):e instanceof gf?yf(e,t):n}function hf(e,t){return e instanceof vf?function(e){return Ld(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ff extends cf{}class pf extends cf{constructor(e){super(),this.elements=e}}function mf(e,t){const n=wf(t);for(const r of e.elements)n.some((e=>Nd(e,r)))||n.push(r);return{arrayValue:{values:n}}}class gf extends cf{constructor(e){super(),this.elements=e}}function yf(e,t){let n=wf(t);for(const r of e.elements)n=n.filter((e=>!Nd(e,r)));return{arrayValue:{values:n}}}class vf extends cf{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function bf(e){return bd(e.integerValue||e.doubleValue)}function wf(e){return Md(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class _f{constructor(e,t){this.field=e,this.transform=t}}class xf{constructor(e,t){this.version=e,this.transformResults=t}}class Sf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sf}static exists(e){return new Sf(void 0,e)}static updateTime(e){return new Sf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ef{}function Tf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Lf(e.key,Sf.none()):new Af(e.key,e.data,Sf.none());{const n=e.data,r=Kd.empty();let i=new dd($c.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Of(e.key,r,new pd(i.toArray()),Sf.none())}}function Cf(e,t,n){e instanceof Af?function(e,t,n){const r=e.value.clone(),i=Df(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Of?function(e,t,n){if(!kf(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Df(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Rf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function If(e,t,n,r){return e instanceof Af?function(e,t,n,r){if(!kf(e.precondition,t))return n;const i=e.value.clone(),s=jf(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Of?function(e,t,n,r){if(!kf(e.precondition,t))return n;const i=jf(e.fieldTransforms,r,t),s=t.data;return s.setAll(Rf(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return kf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Nf(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=hf(r.transform,e||null);null!=i&&(null===n&&(n=Kd.empty()),n.set(r.field,i))}return n||null}function Pf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Hc(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof pf&&t instanceof pf||e instanceof gf&&t instanceof gf?Hc(e.elements,t.elements,Nd):e instanceof vf&&t instanceof vf?Nd(e.Pe,t.Pe):e instanceof ff&&t instanceof ff}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Af extends Ef{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Of extends Ef{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Rf(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Df(e,t,n){const r=new Map;Ic(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,df(o,a,n[i]))}return r}function jf(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,uf(e,s,t))}return r}class Lf extends Ef{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mf extends Ef{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ff{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Cf(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=If(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=If(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Jh();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Tf(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Kc.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),nf())}isEqual(e){return this.batchId===e.batchId&&Hc(this.mutations,e.mutations,((e,t)=>Pf(e,t)))&&Hc(this.baseMutations,e.baseMutations,((e,t)=>Pf(e,t)))}}class Uf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ic(e.mutations.length===n.length);let r=ef;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Uf(e,t,n,r)}}class Vf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class zf{constructor(e,t){this.count=e,this.unchangedNames=t}}var Bf,qf;function Hf(e){switch(e){default:return Cc();case Pc.CANCELLED:case Pc.UNKNOWN:case Pc.DEADLINE_EXCEEDED:case Pc.RESOURCE_EXHAUSTED:case Pc.INTERNAL:case Pc.UNAVAILABLE:case Pc.UNAUTHENTICATED:return!1;case Pc.INVALID_ARGUMENT:case Pc.NOT_FOUND:case Pc.ALREADY_EXISTS:case Pc.PERMISSION_DENIED:case Pc.FAILED_PRECONDITION:case Pc.ABORTED:case Pc.OUT_OF_RANGE:case Pc.UNIMPLEMENTED:case Pc.DATA_LOSS:return!0}}function Wf(e){if(void 0===e)return kc("GRPC error has no .code"),Pc.UNKNOWN;switch(e){case Bf.OK:return Pc.OK;case Bf.CANCELLED:return Pc.CANCELLED;case Bf.UNKNOWN:return Pc.UNKNOWN;case Bf.DEADLINE_EXCEEDED:return Pc.DEADLINE_EXCEEDED;case Bf.RESOURCE_EXHAUSTED:return Pc.RESOURCE_EXHAUSTED;case Bf.INTERNAL:return Pc.INTERNAL;case Bf.UNAVAILABLE:return Pc.UNAVAILABLE;case Bf.UNAUTHENTICATED:return Pc.UNAUTHENTICATED;case Bf.INVALID_ARGUMENT:return Pc.INVALID_ARGUMENT;case Bf.NOT_FOUND:return Pc.NOT_FOUND;case Bf.ALREADY_EXISTS:return Pc.ALREADY_EXISTS;case Bf.PERMISSION_DENIED:return Pc.PERMISSION_DENIED;case Bf.FAILED_PRECONDITION:return Pc.FAILED_PRECONDITION;case Bf.ABORTED:return Pc.ABORTED;case Bf.OUT_OF_RANGE:return Pc.OUT_OF_RANGE;case Bf.UNIMPLEMENTED:return Pc.UNIMPLEMENTED;case Bf.DATA_LOSS:return Pc.DATA_LOSS;default:return Cc()}}(qf=Bf||(Bf={}))[qf.OK=0]="OK",qf[qf.CANCELLED=1]="CANCELLED",qf[qf.UNKNOWN=2]="UNKNOWN",qf[qf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qf[qf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qf[qf.NOT_FOUND=5]="NOT_FOUND",qf[qf.ALREADY_EXISTS=6]="ALREADY_EXISTS",qf[qf.PERMISSION_DENIED=7]="PERMISSION_DENIED",qf[qf.UNAUTHENTICATED=16]="UNAUTHENTICATED",qf[qf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qf[qf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qf[qf.ABORTED=10]="ABORTED",qf[qf.OUT_OF_RANGE=11]="OUT_OF_RANGE",qf[qf.UNIMPLEMENTED=12]="UNIMPLEMENTED",qf[qf.INTERNAL=13]="INTERNAL",qf[qf.UNAVAILABLE=14]="UNAVAILABLE",qf[qf.DATA_LOSS=15]="DATA_LOSS";let Gf=null;function Kf(){return new TextEncoder}const Yf=new rc([4294967295,4294967295],0);function Qf(e){const t=Kf().encode(e),n=new ic;return n.update(t),new Uint8Array(n.digest())}function Xf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new rc([n,r],0),new rc([i,s],0)]}class $f{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Jf("Invalid padding: ".concat(t));if(n<0)throw new Jf("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Jf("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Jf("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=rc.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(rc.fromNumber(n)));return 1===r.compare(Yf)&&(r=new rc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Qf(e),[n,r]=Xf(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new $f(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=Qf(e),[n,r]=Xf(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Jf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zf{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ep.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Zf(Kc.min(),r,new ld(qc),Kh(),nf())}}class ep{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ep(n,t,nf(),nf(),nf())}}class tp{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class np{constructor(e,t){this.targetId=e,this.me=t}}class rp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gd.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ip{constructor(){this.fe=0,this.ge=ap(),this.pe=gd.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=nf(),t=nf(),n=nf();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Cc()}})),new ep(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=ap()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ic(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class sp{constructor(e){this.Le=e,this.Be=new Map,this.ke=Kh(),this.qe=op(),this.Qe=new ld(qc)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Cc()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(kh(i))if(0===n){const e=new Jc(i.path);this.Ue(t,e,Qd.newNoDocument(e,Kc.min()))}else Ic(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Gf||Gf.et(function(e,t,n,r,i){var s,o,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=wd(n).toUint8Array()}catch(e){if(e instanceof md)return Ec("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new $f(s,r,i)}catch(e){return Ec(e instanceof Jf?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&kh(i.target)){const t=new Jc(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,Qd.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=nf();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new Zf(e,t,this.Qe,this.ke,n);return this.ke=Kh(),this.qe=op(),this.Qe=new ld(qc),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new ip,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new dd(qc),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Sc("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ip),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function op(){return new ld(Jc.comparator)}function ap(){return new ld(Jc.comparator)}const lp={asc:"ASCENDING",desc:"DESCENDING"},cp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},up={and:"AND",or:"OR"};class dp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hp(e,t){return e.useProto3Json||Eu(t)?t:{value:t}}function fp(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function pp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function mp(e,t){return fp(e,t.toTimestamp())}function gp(e){return Ic(!!e),Kc.fromTimestamp(function(e){const t=vd(e);return new Gc(t.seconds,t.nanos)}(e))}function yp(e,t){return vp(e,t).canonicalString()}function vp(e,t){const n=function(e){return new Qc(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function bp(e){const t=Qc.fromString(e);return Ic(zp(t)),t}function wp(e,t){return yp(e.databaseId,t.path)}function _p(e,t){const n=bp(t);if(n.get(1)!==e.databaseId.projectId)throw new Ac(Pc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ac(Pc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Jc(Ep(n))}function xp(e,t){return yp(e.databaseId,t)}function Sp(e){const t=bp(e);return 4===t.length?Qc.emptyPath():Ep(t)}function kp(e){return new Qc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ep(e){return Ic(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Tp(e,t,n){return{name:wp(e,t),fields:n.value.mapValue.fields}}function Cp(e,t,n){const r=_p(e,t.name),i=gp(t.updateTime),s=t.createTime?gp(t.createTime):Kc.min(),o=new Kd({mapValue:{fields:t.fields}}),a=Qd.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ip(e,t){let n;if(t instanceof Af)n={update:Tp(e,t.key,t.value)};else if(t instanceof Lf)n={delete:wp(e,t.key)};else if(t instanceof Of)n={update:Tp(e,t.key,t.data),updateMask:Vp(t.fieldMask)};else{if(!(t instanceof Mf))return Cc();n={verify:wp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ff)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof pf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof gf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof vf)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Cc()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:mp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Cc()}(e,t.precondition)),n}function Np(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Sf.updateTime(gp(e.updateTime)):void 0!==e.exists?Sf.exists(e.exists):Sf.none()}(t.currentDocument):Sf.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Ic("REQUEST_TIME"===t.setToServerValue),n=new ff;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new pf(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new gf(e)}else"increment"in t?n=new vf(e,t.increment):Cc();const r=$c.fromServerFormat(t.fieldPath);return new _f(r,n)}(e,t))):[];if(t.update){t.update.name;const i=_p(e,t.update.name),s=new Kd({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new pd(t.map((e=>$c.fromServerFormat(e))))}(t.updateMask);return new Of(i,s,e,n,r)}return new Af(i,s,n,r)}if(t.delete){const r=_p(e,t.delete);return new Lf(r,n)}if(t.verify){const r=_p(e,t.verify);return new Mf(r,n)}return Cc()}function Pp(e,t){return{documents:[xp(e,t.path)]}}function Ap(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xp(e,i);const s=function(e){if(0!==e.length)return Up(rh.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Mp(e.field),direction:Dp(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=hp(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Op(e){let t=Sp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ic(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Rp(e);return t instanceof rh&&oh(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Zd(Fp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Eu(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Xd(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Xd(n,t)}(n.endAt)),Nh(t,i,o,s,a,"F",l,c)}function Rp(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Fp(e.unaryFilter.field);return nh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Fp(e.unaryFilter.field);return nh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Fp(e.unaryFilter.field);return nh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Fp(e.unaryFilter.field);return nh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Cc()}}(e):void 0!==e.fieldFilter?function(e){return nh.create(Fp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Cc()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return rh.create(e.compositeFilter.filters.map((e=>Rp(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Cc()}}(e.compositeFilter.op))}(e):Cc()}function Dp(e){return lp[e]}function jp(e){return cp[e]}function Lp(e){return up[e]}function Mp(e){return{fieldPath:e.canonicalString()}}function Fp(e){return $c.fromServerFormat(e.fieldPath)}function Up(e){return e instanceof nh?function(e){if("=="===e.op){if(Ud(e.value))return{unaryFilter:{field:Mp(e.field),op:"IS_NAN"}};if(Fd(e.value))return{unaryFilter:{field:Mp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ud(e.value))return{unaryFilter:{field:Mp(e.field),op:"IS_NOT_NAN"}};if(Fd(e.value))return{unaryFilter:{field:Mp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mp(e.field),op:jp(e.op),value:e.value}}}(e):e instanceof rh?function(e){const t=e.getFilters().map((e=>Up(e)));return 1===t.length?t[0]:{compositeFilter:{op:Lp(e.op),filters:t}}}(e):Cc()}function Vp(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function zp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Bp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Kc.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Kc.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:gd.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Bp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qp{constructor(e){this.ct=e}}function Hp(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Wp(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:wp(e,t.key),fields:t.data.value.mapValue.fields,updateTime:fp(e,t.version.toTimestamp()),createTime:fp(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Gp(t.version)};else{if(!t.isUnknownDocument())return Cc();r.unknownDocument={path:n.path.toArray(),version:Gp(t.version)}}return r}function Wp(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Gp(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Kp(e){const t=new Gc(e.seconds,e.nanoseconds);return Kc.fromTimestamp(t)}function Yp(e,t){const n=(t.baseMutations||[]).map((t=>Np(e.ct,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>Np(e.ct,t))),i=Gc.fromMillis(t.localWriteTimeMs);return new Ff(t.batchId,i,n,r)}function Qp(e){const t=Kp(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Kp(e.lastLimboFreeSnapshotVersion):Kc.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Ic(1===e.documents.length),Dh(Ph(Sp(e.documents[0])))}(e.query):function(e){return Dh(Op(e))}(e.query),new Bp(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,gd.fromBase64String(e.resumeToken))}function Xp(e,t){const n=Gp(t.snapshotVersion),r=Gp(t.lastLimboFreeSnapshotVersion);let i;i=kh(t.target)?Pp(e.ct,t.target):Ap(e.ct,t.target)._t;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:xh(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function $p(e){const t=Op({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Mh(t,t.limit,"L"):t}function Jp(e,t){return new Vf(t.largestBatchId,Np(e.ct,t.overlayMutation))}function Zp(e,t){const n=t.path.lastSegment();return[e,Iu(t.path.popLast()),n]}function em(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Gp(r.readTime),documentKey:Iu(r.documentKey.path),largestBatchId:r.largestBatchId}}class tm{getBundleMetadata(e,t){return nm(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Kp(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return nm(e).put(function(e){return{bundleId:e.id,createTime:Gp(gp(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return rm(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:$p(e.bundledQuery),readTime:Kp(e.readTime)}}(e)}))}saveNamedQuery(e,t){return rm(e).put(function(e){return{name:e.name,readTime:Gp(gp(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function nm(e){return id(e,"bundles")}function rm(e){return id(e,"namedQueries")}class im{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new im(e,n)}getOverlay(e,t){return sm(e).get(Zp(this.userId,t)).next((e=>e?Jp(this.serializer,e):null))}getOverlays(e,t){const n=$h();return du.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Vf(t,i);r.push(this.ht(e,s))})),du.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Iu(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(sm(e).j("collectionPathOverlayIndex",r))})),du.waitFor(i)}getOverlaysForCollection(e,t,n){const r=$h(),i=Iu(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return sm(e).U("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=Jp(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=$h();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return sm(e).J({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=Jp(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return sm(e).put(function(e,t,n){const[r,i,s]=Zp(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ip(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function sm(e){return id(e,"documentOverlays")}class om{Pt(e){return id(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next((e=>{const t=null==e?void 0:e.value;return t?gd.fromUint8Array(t):gd.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class am{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(bd(e.integerValue));else if("doubleValue"in e){const n=bd(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Tu(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=vd(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(wd(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Bd(e)?this.dt(t,Number.MAX_SAFE_INTEGER):(this.wt(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.St(e.arrayValue,t),this.ft(t)):Cc()}Vt(e,t){this.dt(t,25),this.bt(e,t)}bt(e,t){t.Rt(e)}wt(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}St(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),Jc.fromName(e).path.forEach((e=>{this.dt(t,60),this.bt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}function lm(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function cm(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=lm(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}am.Dt=new am;class um{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.vt(n.value),n=t.next();this.Ft()}Mt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.xt(n.value),n=t.next();this.Ot()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.vt(e);else if(e<2048)this.vt(960|e>>>6),this.vt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.vt(480|e>>>12),this.vt(128|63&e>>>6),this.vt(128|63&e);else{const e=t.codePointAt(0);this.vt(240|e>>>18),this.vt(128|63&e>>>12),this.vt(128|63&e>>>6),this.vt(128|63&e)}}this.Ft()}Lt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.xt(e);else if(e<2048)this.xt(960|e>>>6),this.xt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.xt(480|e>>>12),this.xt(128|63&e>>>6),this.xt(128|63&e);else{const e=t.codePointAt(0);this.xt(240|e>>>18),this.xt(128|63&e>>>12),this.xt(128|63&e>>>6),this.xt(128|63&e)}}this.Ot()}Bt(e){const t=this.kt(e),n=cm(t);this.qt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Qt(e){const t=this.kt(e),n=cm(t);this.qt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Kt(){this.$t(255),this.$t(255)}Ut(){this.Wt(255),this.Wt(255)}reset(){this.position=0}seed(e){this.qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Gt(){return this.buffer.slice(0,this.position)}kt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}vt(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(t)}xt(e){const t=255&e;0===t?(this.Wt(0),this.Wt(255)):255===t?(this.Wt(255),this.Wt(0)):this.Wt(e)}Ft(){this.$t(0),this.$t(1)}Ot(){this.Wt(0),this.Wt(1)}$t(e){this.qt(1),this.buffer[this.position++]=e}Wt(e){this.qt(1),this.buffer[this.position++]=~e}qt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class dm{constructor(e){this.zt=e}gt(e){this.zt.Ct(e)}Rt(e){this.zt.Nt(e)}At(e){this.zt.Bt(e)}Et(){this.zt.Kt()}}class hm{constructor(e){this.zt=e}gt(e){this.zt.Mt(e)}Rt(e){this.zt.Lt(e)}At(e){this.zt.Qt(e)}Et(){this.zt.Ut()}}class fm{constructor(){this.zt=new um,this.jt=new dm(this.zt),this.Ht=new hm(this.zt)}seed(e){this.zt.seed(e)}Jt(e){return 0===e?this.jt:this.Ht}Gt(){return this.zt.Gt()}reset(){this.zt.reset()}}class pm{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Yt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new pm(this.indexId,this.documentKey,this.arrayValue,n)}}function mm(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=gm(e.arrayValue,t.arrayValue),0!==n?n:(n=gm(e.directionalValue,t.directionalValue),0!==n?n:Jc.comparator(e.documentKey,t.documentKey)))}function gm(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class ym{constructor(e){this.Zt=new dd(((e,t)=>$c.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Xt=e.orderBy,this.en=[];for(const t of e.filters){const e=t;e.isInequality()?this.Zt=this.Zt.add(e):this.en.push(e)}}get tn(){return this.Zt.size>1}nn(e){if(Ic(e.collectionGroup===this.collectionId),this.tn)return!1;const t=eu(e);if(void 0!==t&&!this.rn(t))return!1;const n=tu(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.rn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Zt.size>0){const e=this.Zt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.sn(e,t)||!this.on(this.Xt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Xt.length||!this.on(this.Xt[s++],e))return!1}return!0}_n(){if(this.tn)return null;let e=new dd($c.comparator);const t=[];for(const n of this.en)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new nu(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new nu(n.field,0))}for(const n of this.Xt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new nu(n.field,"asc"===n.dir?0:1)));return new Zc(Zc.UNKNOWN_ID,this.collectionId,t,ru.empty())}rn(e){for(const t of this.en)if(this.sn(t,e))return!0;return!1}sn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}on(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function vm(e){var t,n;if(Ic(e instanceof nh||e instanceof rh),e instanceof nh){if(e instanceof yh){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>nh.create(e.field,"==",t))))||[];return rh.create(r,"or")}return e}const r=e.filters.map((e=>vm(e)));return rh.create(r,e.op)}function bm(e){if(0===e.getFilters().length)return[];const t=Sm(vm(e));return Ic(xm(t)),wm(t)||_m(t)?[t]:t.getFilters()}function wm(e){return e instanceof nh}function _m(e){return e instanceof rh&&oh(e)}function xm(e){return wm(e)||_m(e)||function(e){if(e instanceof rh&&sh(e)){for(const t of e.getFilters())if(!wm(t)&&!_m(t))return!1;return!0}return!1}(e)}function Sm(e){if(Ic(e instanceof nh||e instanceof rh),e instanceof nh)return e;if(1===e.filters.length)return Sm(e.filters[0]);const t=e.filters.map((e=>Sm(e)));let n=rh.create(t,e.op);return n=Tm(n),xm(n)?n:(Ic(n instanceof rh),Ic(ih(n)),Ic(n.filters.length>1),n.filters.reduce(((e,t)=>km(e,t))))}function km(e,t){let n;return Ic(e instanceof nh||e instanceof rh),Ic(t instanceof nh||t instanceof rh),n=e instanceof nh?t instanceof nh?function(e,t){return rh.create([e,t],"and")}(e,t):Em(e,t):t instanceof nh?Em(t,e):function(e,t){if(Ic(e.filters.length>0&&t.filters.length>0),ih(e)&&ih(t))return uh(e,t.getFilters());const n=sh(e)?e:t,r=sh(e)?t:e,i=n.filters.map((e=>km(e,r)));return rh.create(i,"or")}(e,t),Tm(n)}function Em(e,t){if(ih(t))return uh(t,e.getFilters());{const n=t.filters.map((t=>km(e,t)));return rh.create(n,"or")}}function Tm(e){if(Ic(e instanceof nh||e instanceof rh),e instanceof nh)return e;const t=e.getFilters();if(1===t.length)return Tm(t[0]);if(ah(e))return e;const n=t.map((e=>Tm(e))),r=[];return n.forEach((t=>{t instanceof nh?r.push(t):t instanceof rh&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:rh.create(r,e.op)}class Cm{constructor(){this.an=new Im}addToCollectionParentIndex(e,t){return this.an.add(t),du.resolve()}getCollectionParents(e,t){return du.resolve(this.an.getEntries(t))}addFieldIndex(e,t){return du.resolve()}deleteFieldIndex(e,t){return du.resolve()}deleteAllFieldIndexes(e){return du.resolve()}createTargetIndexes(e,t){return du.resolve()}getDocumentsMatchingTarget(e,t){return du.resolve(null)}getIndexType(e,t){return du.resolve(0)}getFieldIndexes(e,t){return du.resolve([])}getNextCollectionGroupToUpdate(e){return du.resolve(null)}getMinOffset(e,t){return du.resolve(ou.min())}getMinOffsetFromCollectionGroup(e,t){return du.resolve(ou.min())}updateCollectionGroup(e,t,n){return du.resolve()}updateIndexEntries(e,t){return du.resolve()}}class Im{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new dd(Qc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new dd(Qc.comparator)).toArray()}}const Nm=new Uint8Array(0);class Pm{constructor(e,t){this.databaseId=t,this.un=new Im,this.cn=new Wh((e=>xh(e)),((e,t)=>Sh(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.un.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.un.add(t)}));const i={collectionId:n,parent:Iu(r)};return Am(e).put(i)}return du.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Wc(t),""],!1,!0);return Am(e).U(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Au(r.parent))}return n}))}addFieldIndex(e,t){const n=Rm(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Dm(e);return i.next((e=>{n.put(em(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Rm(e),r=Dm(e),i=Om(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Rm(e),n=Om(e),r=Dm(e);return t.j().next((()=>n.j())).next((()=>r.j()))}createTargetIndexes(e,t){return du.forEach(this.ln(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new ym(t)._n();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Om(e);let r=!0;const i=new Map;return du.forEach(this.ln(t),(t=>this.hn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=nf();const r=[];return du.forEach(i,((i,s)=>{Sc("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(xh(t)));const o=function(e,t){const n=eu(t);if(void 0===n)return null;for(const r of Eh(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of tu(t))for(const t of Eh(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of tu(t)){const t=0===i.kind?Th(e,i.fieldPath,e.startAt):Ch(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Xd(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of tu(t)){const t=0===i.kind?Ch(e,i.fieldPath,e.endAt):Th(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Xd(n,r)}(s,i),u=this.Pn(i,s,l),d=this.Pn(i,s,c),h=this.In(i,s,a),f=this.Tn(i.indexId,o,u,l.inclusive,d,c.inclusive,h);return du.forEach(f,(i=>n.G(i,t.limit).next((t=>{t.forEach((t=>{const n=Jc.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return du.resolve(null)}))}ln(e){let t=this.cn.get(e);return t||(t=0===e.filters.length?[e]:bm(rh.create(e.filters,"and")).map((t=>_h(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.cn.set(e,t),t)}Tn(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.En(t[u/l]):Nm,d=this.dn(e,a,n[u%l],r),h=this.An(e,a,i[u%l],s),f=o.map((t=>this.dn(e,a,t,!0)));c.push(...this.createRange(d,h,f))}return c}dn(e,t,n,r){const i=new pm(e,Jc.empty(),t,n);return r?i:i.Yt()}An(e,t,n,r){const i=new pm(e,Jc.empty(),t,n);return r?i.Yt():i}hn(e,t){const n=new ym(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.nn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.ln(t);return du.forEach(r,(t=>this.hn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new dd($c.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}Rn(e,t){const n=new fm;for(const r of tu(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Jt(r.kind);am.Dt.It(e,i)}return n.Gt()}En(e){const t=new fm;return am.Dt.It(e,t.Jt(0)),t.Gt()}Vn(e,t){const n=new fm;return am.Dt.It(jd(this.databaseId,t),n.Jt(function(e){const t=tu(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Gt()}In(e,t,n){if(null===n)return[];let r=[];r.push(new fm);let i=0;for(const s of tu(e)){const e=n[i++];for(const n of r)if(this.mn(t,s.fieldPath)&&Md(e))r=this.fn(r,s,e);else{const t=n.Jt(s.kind);am.Dt.It(e,t)}}return this.gn(r)}Pn(e,t,n){return this.In(e,t,n.position)}gn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Gt();return t}fn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new fm;n.seed(e.Gt()),am.Dt.It(s,n.Jt(t.kind)),i.push(n)}return i}mn(e,t){return!!e.filters.find((e=>e instanceof nh&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Rm(e),r=Dm(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return du.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new ru(t.sequenceNumber,new ou(Kp(t.readTime),new Jc(Au(t.documentKey)),t.largestBatchId)):ru.empty(),r=e.fields.map((e=>{let[t,n]=e;return new nu($c.fromServerFormat(t),n)}));return new Zc(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:qc(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Rm(e),i=Dm(e);return this.pn(e).next((e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>du.forEach(t,(t=>i.put(em(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return du.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?du.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),du.forEach(i,(n=>this.yn(e,t,n).next((t=>{const i=this.wn(r,n);return t.isEqual(i)?du.resolve():this.Sn(e,r,n,t,i)})))))))}))}bn(e,t,n,r){return Om(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Vn(n,t.key),documentKey:t.key.path.toArray()})}Dn(e,t,n,r){return Om(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Vn(n,t.key),t.key.path.toArray()])}yn(e,t,n){const r=Om(e);let i=new dd(mm);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Vn(n,t)])},((e,r)=>{i=i.add(new pm(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}wn(e,t){let n=new dd(mm);const r=this.Rn(t,e);if(null==r)return n;const i=eu(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Md(s))for(const i of s.arrayValue.values||[])n=n.add(new pm(t.indexId,e.key,this.En(i),r))}else n=n.add(new pm(t.indexId,e.key,Nm,r));return n}Sn(e,t,n,r,i){Sc("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=fd(s),l=fd(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=fd(o)):t?(i(a),a=fd(s)):(a=fd(s),l=fd(o))}}(r,i,mm,(r=>{s.push(this.bn(e,t,n,r))}),(r=>{s.push(this.Dn(e,t,n,r))})),du.waitFor(s)}pn(e){let t=1;return Dm(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>mm(e,t))).filter(((e,t,n)=>!t||0!==mm(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=mm(s,e),i=mm(s,t);if(0===n)r[0]=e.Yt();else if(n>0&&i<0)r.push(s),r.push(s.Yt());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Cn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Nm,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Nm,[]];i.push(IDBKeyRange.bound(e,t))}return i}Cn(e,t){return mm(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(jm)}getMinOffset(e,t){return du.mapArray(this.ln(t),(t=>this.hn(e,t).next((e=>e||Cc())))).next(jm)}}function Am(e){return id(e,"collectionParents")}function Om(e){return id(e,"indexEntries")}function Rm(e){return id(e,"indexConfiguration")}function Dm(e){return id(e,"indexState")}function jm(e){Ic(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;au(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ou(t.readTime,t.documentKey,n)}const Lm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Mm{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Mm(e,Mm.DEFAULT_COLLECTION_PERCENTILE,Mm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Fm(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{Ic(1===a)})));const c=[];for(const u of n.mutations){const e=Du(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return du.waitFor(s).next((()=>c))}function Um(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Cc();t=e.noDocument}return JSON.stringify(t).length}Mm.DEFAULT_COLLECTION_PERCENTILE=10,Mm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mm.DEFAULT=new Mm(41943040,Mm.DEFAULT_COLLECTION_PERCENTILE,Mm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mm.DISABLED=new Mm(-1,0,0);class Vm{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.vn={}}static lt(e,t,n,r){Ic(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Vm(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bm(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=qm(e),s=Bm(e);return s.add({}).next((o=>{Ic("number"==typeof o);const a=new Ff(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Ip(e.ct,t))),i=n.mutations.map((t=>Ip(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new dd(((e,t)=>qc(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Du(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,ju))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.vn[o]=a.keys()})),du.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return Bm(e).get(t).next((e=>e?(Ic(e.userId===this.userId),Yp(this.serializer,e)):null))}Fn(e,t){return this.vn[t]?du.resolve(this.vn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.vn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Bm(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Ic(t.batchId>=n),i=Yp(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Bm(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bm(e).U("userMutationsIndex",t).next((e=>e.map((e=>Yp(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Ru(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return qm(e).J({range:r},((n,r,s)=>{const[o,a,l]=n,c=Au(a);if(o===this.userId&&t.path.isEqual(c))return Bm(e).get(l).next((e=>{if(!e)throw Cc();Ic(e.userId===this.userId),i.push(Yp(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new dd(qc);const r=[];return t.forEach((t=>{const i=Ru(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=qm(e).J({range:s},((e,r,i)=>{const[s,o,a]=e,l=Au(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),du.waitFor(r).next((()=>this.Mn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Ru(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new dd(qc);return qm(e).J({range:s},((e,t,i)=>{const[s,a,l]=e,c=Au(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(l)):i.done()})).next((()=>this.Mn(e,o)))}Mn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Bm(e).get(t).next((e=>{if(null===e)throw Cc();Ic(e.userId===this.userId),n.push(Yp(this.serializer,e))})))})),du.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Fm(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.xn(t.batchId)})),du.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}xn(e){delete this.vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return du.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return qm(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Au(e[1]);r.push(t)}else n.done()})).next((()=>{Ic(0===r.length)}))}))}containsKey(e,t){return zm(e,this.userId,t)}On(e){return Hm(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function zm(e,t,n){const r=Ru(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return qm(e).J({range:s,H:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function Bm(e){return id(e,"mutations")}function qm(e){return id(e,"documentMutations")}function Hm(e){return id(e,"mutationQueues")}class Wm{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new Wm(0)}static Bn(){return new Wm(-1)}}class Gm{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.kn(e).next((t=>{const n=new Wm(t.highestTargetId);return t.highestTargetId=n.next(),this.qn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.kn(e).next((e=>Kc.fromTimestamp(new Gc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.kn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.kn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.qn(e,r))))}addTargetData(e,t){return this.Qn(e,t).next((()=>this.kn(e).next((n=>(n.targetCount+=1,this.Kn(t,n),this.qn(e,n))))))}updateTargetData(e,t){return this.Qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Km(e).delete(t.targetId))).next((()=>this.kn(e))).next((t=>(Ic(t.targetCount>0),t.targetCount-=1,this.qn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Km(e).J(((s,o)=>{const a=Qp(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>du.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Km(e).J(((e,n)=>{const r=Qp(n);t(r)}))}kn(e){return Ym(e).get("targetGlobalKey").next((e=>(Ic(null!==e),e)))}qn(e,t){return Ym(e).put("targetGlobalKey",t)}Qn(e,t){return Km(e).put(Xp(this.serializer,t))}Kn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.kn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=xh(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Km(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=Qp(n);Sh(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Qm(e);return t.forEach((t=>{const s=Iu(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),du.waitFor(r)}removeMatchingKeys(e,t,n){const r=Qm(e);return du.forEach(t,(t=>{const i=Iu(t.path);return du.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Qm(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Qm(e);let i=nf();return r.J({range:n,H:!0},((e,t,n)=>{const r=Au(e[1]),s=new Jc(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=Iu(t.path),r=IDBKeyRange.bound([n],[Wc(n)],!1,!0);let i=0;return Qm(e).J({index:"documentTargetsIndex",H:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}ot(e,t){return Km(e).get(t).next((e=>e?Qp(e):null))}}function Km(e){return id(e,"targets")}function Ym(e){return id(e,"targetGlobal")}function Qm(e){return id(e,"targetDocuments")}function Xm(e,t){let[n,r]=e,[i,s]=t;const o=qc(n,i);return 0===o?qc(r,s):o}class $m{constructor(e){this.$n=e,this.buffer=new dd(Xm),this.Un=0}Wn(){return++this.Un}Gn(e){const t=[e,this.Wn()];if(this.buffer.size<this.$n)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Xm(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Jm{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.zn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.jn(6e4)}stop(){this.zn&&(this.zn.cancel(),this.zn=null)}get started(){return null!==this.zn}jn(e){Sc("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.zn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.zn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){yu(e)?Sc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await uu(e)}await this.jn(3e5)}))}}class Zm{constructor(e,t){this.Hn=e,this.params=t}calculateTargetCount(e,t){return this.Hn.Jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return du.resolve(ku.oe);const n=new $m(t);return this.Hn.forEachTarget(e,(e=>n.Gn(e.sequenceNumber))).next((()=>this.Hn.Yn(e,(e=>n.Gn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Hn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Hn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Sc("LruGarbageCollector","Garbage collection skipped; disabled"),du.resolve(Lm)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Sc("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Lm):this.Zn(e,t)))}getCacheSize(e){return this.Hn.getCacheSize(e)}Zn(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Sc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),xc()<=ln.DEBUG&&Sc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),du.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function eg(e,t){return new Zm(e,t)}class tg{constructor(e,t){this.db=e,this.garbageCollector=eg(this,t)}Jn(e){const t=this.Xn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Xn(e){let t=0;return this.Yn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Yn(e,t){return this.er(e,((e,n)=>t(n)))}addReference(e,t,n){return ng(e,n)}removeReference(e,t,n){return ng(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return ng(e,t)}tr(e,t){return function(e,t){let n=!1;return Hm(e).Y((r=>zm(e,r,t).next((e=>(e&&(n=!0),du.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.er(e,((s,o)=>{if(o<=t){const t=this.tr(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,Kc.min()),Qm(e).delete(function(e){return[0,Iu(e.path)]}(s)))))}));r.push(t)}})).next((()=>du.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return ng(e,t)}er(e,t){const n=Qm(e);let r,i=ku.oe;return n.J({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(i!==ku.oe&&t(new Jc(Au(r)),i),i=l,r=a):i=ku.oe})).next((()=>{i!==ku.oe&&t(new Jc(Au(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ng(e,t){return Qm(e).put(function(e,t){return{targetId:0,path:Iu(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class rg{constructor(){this.changes=new Wh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qd.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?du.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ig{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return lg(e).put(n)}removeEntry(e,t,n){return lg(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Wp(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.nr(e,n))))}getEntry(e,t){let n=Qd.newInvalidDocument(t);return lg(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(cg(t))},((e,r)=>{n=this.rr(t,r)})).next((()=>n))}ir(e,t){let n={size:0,document:Qd.newInvalidDocument(t)};return lg(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(cg(t))},((e,r)=>{n={document:this.rr(t,r),size:Um(r)}})).next((()=>n))}getEntries(e,t){let n=Kh();return this.sr(e,t,((e,t)=>{const r=this.rr(e,t);n=n.insert(e,r)})).next((()=>n))}_r(e,t){let n=Kh(),r=new ld(Jc.comparator);return this.sr(e,t,((e,t)=>{const i=this.rr(e,t);n=n.insert(e,i),r=r.insert(e,Um(t))})).next((()=>({documents:n,ar:r})))}sr(e,t,n){if(t.isEmpty())return du.resolve();let r=new dd(dg);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(cg(r.first()),cg(r.last())),s=r.getIterator();let o=s.getNext();return lg(e).J({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Jc.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&dg(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.$(cg(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),Wp(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return lg(e).U(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Kh();for(const i of e){const e=this.rr(Jc.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(zh(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Kh();const s=ug(t,n),o=ug(t,ou.max());return lg(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.rr(Jc.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new og(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return ag(e).get("remoteDocumentGlobalKey").next((e=>(Ic(!!e),e)))}nr(e,t){return ag(e).put("remoteDocumentGlobalKey",t)}rr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Cp(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Jc.fromSegments(t.noDocument.path),r=Kp(t.noDocument.readTime);n=Qd.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Cc();{const e=Jc.fromSegments(t.unknownDocument.path),r=Kp(t.unknownDocument.version);n=Qd.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Gc(e[0],e[1]);return Kc.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Kc.min()))return e}return Qd.newInvalidDocument(e)}}function sg(e){return new ig(e)}class og extends rg{constructor(e,t){super(),this.ur=e,this.trackRemovals=t,this.cr=new Wh((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new dd(((e,t)=>qc(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.cr.get(i);if(t.push(this.ur.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=Hp(this.ur.serializer,s);r=r.add(i.path.popLast());const l=Um(a);n+=l-o.size,t.push(this.ur.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=Hp(this.ur.serializer,s.convertToNoDocument(Kc.min()));t.push(this.ur.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ur.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ur.updateMetadata(e,n)),du.waitFor(t)}getFromCache(e,t){return this.ur.ir(e,t).next((e=>(this.cr.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ur._r(e,t).next((e=>{let{documents:t,ar:n}=e;return n.forEach(((e,n)=>{this.cr.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function ag(e){return id(e,"remoteDocumentGlobal")}function lg(e){return id(e,"remoteDocumentsV14")}function cg(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ug(e,t){const n=t.documentKey.path.toArray();return[e,Wp(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function dg(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=qc(n[s],r[s]),i)return i;return i=qc(n.length,r.length),i||(i=qc(n[n.length-2],r[r.length-2]),i||qc(n[n.length-1],r[r.length-1]))}class hg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class fg{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&If(n.mutation,e,pd.empty(),Gc.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,nf()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nf();const r=$h();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Qh();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=$h();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,nf())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Kh();const s=Zh(),o=Zh();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Of)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),If(o.mutation,t,o.mutation.getFieldMask(),Gc.now())):s.set(t.key,pd.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new hg(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Zh();let r=new ld(((e,t)=>e-t)),i=nf();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||pd.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||nf()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=Jh();l.forEach((e=>{if(!i.has(e)){const r=Tf(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return du.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Jc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Oh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):du.resolve($h());let o=-1,a=i;return s.next((t=>du.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?du.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,nf()))).next((e=>({batchId:o,changes:Xh(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Jc(t)).next((e=>{let t=Qh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Qh();return this.indexManager.getCollectionParents(e,i).next((o=>du.forEach(o,(o=>{const a=function(e,t){return new Ih(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Qd.newInvalidDocument(r)))}));let n=Qh();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&If(s.mutation,r,pd.empty(),Gc.now()),zh(t,r)&&(n=n.insert(e,r))})),n}))}}class pg{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,t){return du.resolve(this.lr.get(t))}saveBundleMetadata(e,t){return this.lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:gp(e.createTime)}}(t)),du.resolve()}getNamedQuery(e,t){return du.resolve(this.hr.get(t))}saveNamedQuery(e,t){return this.hr.set(t.name,function(e){return{name:e.name,query:$p(e.bundledQuery),readTime:gp(e.readTime)}}(t)),du.resolve()}}class mg{constructor(){this.overlays=new ld(Jc.comparator),this.Pr=new Map}getOverlay(e,t){return du.resolve(this.overlays.get(t))}getOverlays(e,t){const n=$h();return du.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),du.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Pr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Pr.delete(n)),du.resolve()}getOverlaysForCollection(e,t,n){const r=$h(),i=t.length+1,s=new Jc(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return du.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ld(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=$h(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=$h(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return du.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Pr.get(r.largestBatchId).delete(n.key);this.Pr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Vf(t,n));let i=this.Pr.get(t);void 0===i&&(i=nf(),this.Pr.set(t,i)),this.Pr.set(t,i.add(n.key))}}class gg{constructor(){this.sessionToken=gd.EMPTY_BYTE_STRING}getSessionToken(e){return du.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,du.resolve()}}class yg{constructor(){this.Ir=new dd(vg.Tr),this.Er=new dd(vg.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,t){const n=new vg(e,t);this.Ir=this.Ir.add(n),this.Er=this.Er.add(n)}Ar(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Rr(new vg(e,t))}Vr(e,t){e.forEach((e=>this.removeReference(e,t)))}mr(e){const t=new Jc(new Qc([])),n=new vg(t,e),r=new vg(t,e+1),i=[];return this.Er.forEachInRange([n,r],(e=>{this.Rr(e),i.push(e.key)})),i}gr(){this.Ir.forEach((e=>this.Rr(e)))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){const t=new Jc(new Qc([])),n=new vg(t,e),r=new vg(t,e+1);let i=nf();return this.Er.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new vg(e,0),n=this.Ir.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class vg{constructor(e,t){this.key=e,this.yr=t}static Tr(e,t){return Jc.comparator(e.key,t.key)||qc(e.yr,t.yr)}static dr(e,t){return qc(e.yr,t.yr)||Jc.comparator(e.key,t.key)}}class bg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.wr=1,this.Sr=new dd(vg.Tr)}checkEmpty(e){return du.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ff(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Sr=this.Sr.add(new vg(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return du.resolve(s)}lookupMutationBatch(e,t){return du.resolve(this.br(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Dr(n),i=r<0?0:r;return du.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return du.resolve(0===this.mutationQueue.length?-1:this.wr-1)}getAllMutationBatches(e){return du.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new vg(t,0),r=new vg(t,Number.POSITIVE_INFINITY),i=[];return this.Sr.forEachInRange([n,r],(e=>{const t=this.br(e.yr);i.push(t)})),du.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new dd(qc);return t.forEach((e=>{const t=new vg(e,0),r=new vg(e,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([t,r],(e=>{n=n.add(e.yr)}))})),du.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Jc.isDocumentKey(i)||(i=i.child(""));const s=new vg(new Jc(i),0);let o=new dd(qc);return this.Sr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.yr)),!0)}),s),du.resolve(this.Cr(o))}Cr(e){const t=[];return e.forEach((e=>{const n=this.br(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Ic(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Sr;return du.forEach(t.mutations,(r=>{const i=new vg(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Sr=n}))}xn(e){}containsKey(e,t){const n=new vg(t,0),r=this.Sr.firstAfterOrEqual(n);return du.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,du.resolve()}vr(e,t){return this.Dr(e)}Dr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}br(e){const t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wg{constructor(e){this.Fr=e,this.docs=new ld(Jc.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Fr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return du.resolve(n?n.document.mutableCopy():Qd.newInvalidDocument(t))}getEntries(e,t){let n=Kh();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Qd.newInvalidDocument(e))})),du.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Kh();const s=t.path,o=new Jc(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||au(su(o),n)<=0||(r.has(o.key)||zh(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return du.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Cc()}Mr(e,t){return du.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new _g(this)}getSize(e){return du.resolve(this.size)}}class _g extends rg{constructor(e){super(),this.ur=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ur.addEntry(e,r)):this.ur.removeEntry(n)})),du.waitFor(t)}getFromCache(e,t){return this.ur.getEntry(e,t)}getAllFromCache(e,t){return this.ur.getEntries(e,t)}}class xg{constructor(e){this.persistence=e,this.Or=new Wh((e=>xh(e)),Sh),this.lastRemoteSnapshotVersion=Kc.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new yg,this.targetCount=0,this.Br=Wm.Ln()}forEachTarget(e,t){return this.Or.forEach(((e,n)=>t(n))),du.resolve()}getLastRemoteSnapshotVersion(e){return du.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return du.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),du.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Nr&&(this.Nr=t),du.resolve()}Qn(e){this.Or.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new Wm(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,t){return this.Qn(t),this.targetCount+=1,du.resolve()}updateTargetData(e,t){return this.Qn(t),du.resolve()}removeTargetData(e,t){return this.Or.delete(t.target),this.Lr.mr(t.targetId),this.targetCount-=1,du.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Or.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Or.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),du.waitFor(i).next((()=>r))}getTargetCount(e){return du.resolve(this.targetCount)}getTargetData(e,t){const n=this.Or.get(t)||null;return du.resolve(n)}addMatchingKeys(e,t,n){return this.Lr.Ar(t,n),du.resolve()}removeMatchingKeys(e,t,n){this.Lr.Vr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),du.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Lr.mr(t),du.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Lr.pr(t);return du.resolve(n)}containsKey(e,t){return du.resolve(this.Lr.containsKey(t))}}class Sg{constructor(e,t){this.kr={},this.overlays={},this.qr=new ku(0),this.Qr=!1,this.Qr=!0,this.Kr=new gg,this.referenceDelegate=e(this),this.$r=new xg(this),this.indexManager=new Cm,this.remoteDocumentCache=function(e){return new wg(e)}((e=>this.referenceDelegate.Ur(e))),this.serializer=new qp(t),this.Wr=new pg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.kr[e.toKey()];return n||(n=new bg(t,this.referenceDelegate),this.kr[e.toKey()]=n),n}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,t,n){Sc("MemoryPersistence","Starting transaction:",e);const r=new kg(this.qr.next());return this.referenceDelegate.Gr(),n(r).next((e=>this.referenceDelegate.zr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}jr(e,t){return du.or(Object.values(this.kr).map((n=>()=>n.containsKey(e,t))))}}class kg extends cu{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.Hr=new yg,this.Jr=null}static Yr(e){return new Eg(e)}get Zr(){if(this.Jr)return this.Jr;throw Cc()}addReference(e,t,n){return this.Hr.addReference(n,t),this.Zr.delete(n.toString()),du.resolve()}removeReference(e,t,n){return this.Hr.removeReference(n,t),this.Zr.add(n.toString()),du.resolve()}markPotentiallyOrphaned(e,t){return this.Zr.add(t.toString()),du.resolve()}removeTarget(e,t){this.Hr.mr(t.targetId).forEach((e=>this.Zr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Zr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Gr(){this.Jr=new Set}zr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return du.forEach(this.Zr,(n=>{const r=Jc.fromPath(n);return this.Xr(e,r).next((e=>{e||t.removeEntry(r,Kc.min())}))})).next((()=>(this.Jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Xr(e,t).next((e=>{e?this.Zr.delete(t.toString()):this.Zr.add(t.toString())}))}Ur(e){return 0}Xr(e,t){return du.or([()=>du.resolve(this.Hr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.jr(e,t)])}}class Tg{constructor(e){this.serializer=e}O(e,t,n,r){const i=new hu("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ou,{unique:!0}),e.createObjectStore("documentMutations")}(e),Cg(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=du.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Cg(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Kc.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ou,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return du.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.ti(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ni(i))))),n<7&&r>=7&&(s=s.next((()=>this.ri(i)))),n<8&&r>=8&&(s=s.next((()=>this.ii(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.si(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Ku});t.createIndex("collectionPathOverlayIndex",Yu,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Qu,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Lu});t.createIndex("documentKeyIndex",Mu),t.createIndex("collectionGroupIndex",Fu)}(e))).next((()=>this.oi(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this._i(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:qu}).createIndex("sequenceNumberIndex",Hu,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Wu}).createIndex("documentKeyIndex",Gu,{unique:!1})}(e)))),n<16&&r>=16&&(s=s.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),n<17&&r>=17&&(s=s.next((()=>{!function(e){e.createObjectStore("globals",{keyPath:"name"})}(e)}))),s}ni(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=Um(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}ti(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>du.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next((n=>du.forEach(n,(n=>{Ic(n.userId===t.userId);const r=Yp(this.serializer,n);return Fm(e,t.userId,r).next((()=>{}))}))))}))))}ri(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,i)=>{const s=new Qc(n),o=function(e){return[0,Iu(e)]}(s);r.push(t.get(o).next((n=>n?du.resolve():(n=>t.put({targetId:0,path:Iu(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>du.waitFor(r)))}))}ii(e,t){e.createObjectStore("collectionParents",{keyPath:Bu});const n=t.store("collectionParents"),r=new Im,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Iu(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new Qc(e);return i(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},((e,t)=>{let[n,r,s]=e;const o=Au(r);return i(o.popLast())}))))}si(e){const t=e.store("targets");return t.J(((e,n)=>{const r=Qp(n),i=Xp(this.serializer,r);return t.put(i)}))}oi(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new Jc(Qc.fromString(e.document.name).popFirst(5)):e.noDocument?Jc.fromSegments(e.noDocument.path):e.unknownDocument?Jc.fromSegments(e.unknownDocument.path):Cc()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>du.waitFor(r)))}_i(e,t){const n=t.store("mutations"),r=sg(this.serializer),i=new Sg(Eg.Yr,this.serializer.ct);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:nf();Yp(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),du.forEach(n,((e,n)=>{const s=new bc(n),o=im.lt(this.serializer,s),a=i.getIndexManager(s),l=Vm.lt(s,this.serializer,a,i.referenceDelegate);return new fg(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new rd(t,ku.oe),e).next()}))}))}}function Cg(e){e.createObjectStore("targetDocuments",{keyPath:Vu}).createIndex("documentTargetsIndex",zu,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Uu,{unique:!0}),e.createObjectStore("targetGlobal")}const Ig="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ng{constructor(e,t,n,r,i,s,o,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:17;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ai=i,this.window=s,this.document=o,this.ui=l,this.ci=c,this.li=u,this.qr=null,this.Qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.hi=null,this.inForeground=!1,this.Pi=null,this.Ii=null,this.Ti=Number.NEGATIVE_INFINITY,this.Ei=e=>Promise.resolve(),!Ng.D())throw new Ac(Pc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tg(this,r),this.di=t+"main",this.serializer=new qp(a),this.Ai=new fu(this.di,this.li,new Tg(this.serializer)),this.Kr=new om,this.$r=new Gm(this.referenceDelegate,this.serializer),this.remoteDocumentCache=sg(this.serializer),this.Wr=new tm,this.window&&this.window.localStorage?this.Ri=this.window.localStorage:(this.Ri=null,!1===c&&kc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Vi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ac(Pc.FAILED_PRECONDITION,Ig);return this.mi(),this.fi(),this.gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.$r.getHighestSequenceNumber(e)))})).then((e=>{this.qr=new ku(e,this.ui)})).then((()=>{this.Qr=!0})).catch((e=>(this.Ai&&this.Ai.close(),Promise.reject(e))))}pi(e){return this.Ei=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ai.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ai.enqueueAndForget((async()=>{this.started&&await this.Vi()})))}Vi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Ag(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.yi(e).next((e=>{e||(this.isPrimary=!1,this.ai.enqueueRetryable((()=>this.Ei(!1))))}))})).next((()=>this.wi(e))).next((t=>this.isPrimary&&!t?this.Si(e).next((()=>!1)):!!t&&this.bi(e).next((()=>!0)))))).catch((e=>{if(yu(e))return Sc("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Sc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ai.enqueueRetryable((()=>this.Ei(e))),this.isPrimary=e}))}yi(e){return Pg(e).get("owner").next((e=>du.resolve(this.Di(e))))}Ci(e){return Ag(e).delete(this.clientId)}async vi(){if(this.isPrimary&&!this.Fi(this.Ti,18e5)){this.Ti=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=id(e,"clientMetadata");return t.U().next((e=>{const n=this.Mi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return du.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ri)for(const t of e)this.Ri.removeItem(this.xi(t.clientId))}}gi(){this.Ii=this.ai.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Vi().then((()=>this.vi())).then((()=>this.gi()))))}Di(e){return!!e&&e.ownerId===this.clientId}wi(e){return this.ci?du.resolve(!0):Pg(e).get("owner").next((t=>{if(null!==t&&this.Fi(t.leaseTimestampMs,5e3)&&!this.Oi(t.ownerId)){if(this.Di(t)&&this.networkEnabled)return!0;if(!this.Di(t)){if(!t.allowTabSynchronization)throw new Ac(Pc.FAILED_PRECONDITION,Ig);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ag(e).U().next((e=>void 0===this.Mi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Sc("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.Qr=!1,this.Ni(),this.Ii&&(this.Ii.cancel(),this.Ii=null),this.Li(),this.Bi(),await this.Ai.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new rd(e,ku.oe);return this.Si(t).next((()=>this.Ci(t)))})),this.Ai.close(),this.ki()}Mi(e,t){return e.filter((e=>this.Fi(e.updateTimeMs,t)&&!this.Oi(e.clientId)))}qi(){return this.runTransaction("getActiveClients","readonly",(e=>Ag(e).U().next((e=>this.Mi(e,18e5).map((e=>e.clientId))))))}get started(){return this.Qr}getGlobalsCache(){return this.Kr}getMutationQueue(e,t){return Vm.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Pm(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return im.lt(this.serializer,e)}getBundleCache(){return this.Wr}runTransaction(e,t,n){Sc("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 17===e?nd:16===e?td:15===e?ed:14===e?Zu:13===e?Ju:12===e?$u:11===e?Xu:void Cc()}(this.li);let s;return this.Ai.runTransaction(e,r,i,(r=>(s=new rd(r,this.qr?this.qr.next():ku.oe),"readwrite-primary"===t?this.yi(s).next((e=>!!e||this.wi(s))).next((t=>{if(!t)throw kc("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.ai.enqueueRetryable((()=>this.Ei(!1))),new Ac(Pc.FAILED_PRECONDITION,lu);return n(s)})).next((e=>this.bi(s).next((()=>e)))):this.Qi(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}Qi(e){return Pg(e).get("owner").next((e=>{if(null!==e&&this.Fi(e.leaseTimestampMs,5e3)&&!this.Oi(e.ownerId)&&!this.Di(e)&&!(this.ci||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ac(Pc.FAILED_PRECONDITION,Ig)}))}bi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Pg(e).put("owner",t)}static D(){return fu.D()}Si(e){const t=Pg(e);return t.get("owner").next((e=>this.Di(e)?(Sc("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):du.resolve()))}Fi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(kc("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Pi=()=>{this.ai.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Vi())))},this.document.addEventListener("visibilitychange",this.Pi),this.inForeground="visible"===this.document.visibilityState)}Li(){this.Pi&&(this.document.removeEventListener("visibilitychange",this.Pi),this.Pi=null)}fi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.hi=()=>{this.Ni();const e=/(?:Version|Mobile)\/1[456]/;Ct()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ai.enterRestrictedMode(!0),this.ai.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.hi))}Bi(){this.hi&&(this.window.removeEventListener("pagehide",this.hi),this.hi=null)}Oi(e){var t;try{const n=null!==(null===(t=this.Ri)||void 0===t?void 0:t.getItem(this.xi(e)));return Sc("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return kc("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Ni(){if(this.Ri)try{this.Ri.setItem(this.xi(this.clientId),String(Date.now()))}catch(IH){kc("Failed to set zombie client id.",IH)}}ki(){if(this.Ri)try{this.Ri.removeItem(this.xi(this.clientId))}catch(IH){}}xi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Pg(e){return id(e,"owner")}function Ag(e){return id(e,"clientMetadata")}function Og(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Rg{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Ki=n,this.$i=r}static Ui(e,t){let n=nf(),r=nf();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Rg(e,t.fromCache,n,r)}}class Dg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class jg{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=Ct()?8:pu(vt())>0?6:4}initialize(e,t){this.Hi=e,this.indexManager=t,this.Wi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Yi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Dg;return this.Zi(e,t,n).next((r=>{if(i.result=r,this.Gi)return this.Xi(e,t,n,r.size)}))})).next((()=>i.result))}Xi(e,t,n,r){return n.documentReadCount<this.zi?(xc()<=ln.DEBUG&&Sc("QueryEngine","SDK will not create cache indexes for query:",Vh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),du.resolve()):(xc()<=ln.DEBUG&&Sc("QueryEngine","Query:",Vh(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ji*r?(xc()<=ln.DEBUG&&Sc("QueryEngine","The SDK decides to create cache indexes for query:",Vh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dh(t))):du.resolve())}Ji(e,t){if(Ah(t))return du.resolve(null);let n=Dh(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Mh(t,null,"F"),n=Dh(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=nf(...r);return this.Hi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.es(t,r);return this.ts(t,s,i,n.readTime)?this.Ji(e,Mh(t,null,"F")):this.ns(e,s,t,n)}))))})))))}Yi(e,t,n,r){return Ah(t)||r.isEqual(Kc.min())?du.resolve(null):this.Hi.getDocuments(e,n).next((i=>{const s=this.es(t,i);return this.ts(t,s,n,r)?du.resolve(null):(xc()<=ln.DEBUG&&Sc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vh(t)),this.ns(e,s,t,iu(r,-1)).next((e=>e)))}))}es(e,t){let n=new dd(qh(e));return t.forEach(((t,r)=>{zh(e,r)&&(n=n.add(r))})),n}ts(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Zi(e,t,n){return xc()<=ln.DEBUG&&Sc("QueryEngine","Using full collection scan to execute query:",Vh(t)),this.Hi.getDocumentsMatchingQuery(e,t,ou.min(),n)}ns(e,t,n,r){return this.Hi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Lg{constructor(e,t,n,r){this.persistence=e,this.rs=t,this.serializer=r,this.ss=new ld(qc),this.os=new Wh((e=>xh(e)),Sh),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(n)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fg(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ss)))}}function Mg(e,t,n,r){return new Lg(e,t,n,r)}async function Fg(e,t){const n=Nc(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.cs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=nf();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({ls:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Ug(e){const t=Nc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.$r.getLastRemoteSnapshotVersion(e)))}function Vg(e,t,n){let r=nf(),i=nf();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Kh();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Kc.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Sc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{hs:r,Ps:i}}))}function zg(e,t){const n=Nc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Bg(e,t){const n=Nc(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.$r.getTargetData(e,t).next((i=>i?(r=i,du.resolve(r)):n.$r.allocateTargetId(e).next((i=>(r=new Bp(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.$r.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ss.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ss=n.ss.insert(e.targetId,e),n.os.set(t,e.targetId)),e}))}async function qg(e,t,n){const r=Nc(e),i=r.ss.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!yu(e))throw e;Sc("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ss=r.ss.remove(t),r.os.delete(i.target)}function Hg(e,t,n){const r=Nc(e);let i=Kc.min(),s=nf();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Nc(e),i=r.os.get(n);return void 0!==i?du.resolve(r.ss.get(i)):r.$r.getTargetData(t,n)}(r,e,Dh(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.$r.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.rs.getDocumentsMatchingQuery(e,t,n?i:Kc.min(),n?s:nf()))).next((e=>(Kg(r,Bh(t),e),{documents:e,Is:s})))))}function Wg(e,t){const n=Nc(e),r=Nc(n.$r),i=n.ss.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ot(e,t).next((e=>e?e.target:null))))}function Gg(e,t){const n=Nc(e),r=n._s.get(t)||Kc.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.us.getAllFromCollectionGroup(e,t,iu(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Kg(n,t,e),e)))}function Kg(e,t,n){let r=e._s.get(t)||Kc.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e._s.set(t,r)}async function Yg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nf();const r=await Bg(e,Dh($p(t.bundledQuery))),i=Nc(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=gp(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Wr.saveNamedQuery(e,t);const o=r.withResumeToken(gd.EMPTY_BYTE_STRING,s);return i.ss=i.ss.insert(o.targetId,o),i.$r.updateTargetData(e,o).next((()=>i.$r.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.$r.addMatchingKeys(e,n,r.targetId))).next((()=>i.Wr.saveNamedQuery(e,t)))}))}function Qg(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Xg(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function $g(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Jg{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static As(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Ac(r.error.code,r.error.message))),s?new Jg(e,t,r.state,i):(kc("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Rs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zg{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static As(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Ac(n.error.code,n.error.message))),i?new Zg(e,n.state,r):(kc("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Rs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ey{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static As(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=sf();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Cu(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new ey(e,i):(kc("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class ty{constructor(e,t){this.clientId=e,this.onlineState=t}static As(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ty(t.clientId,t.onlineState):(kc("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class ny{constructor(){this.activeTargetIds=sf()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ry{constructor(e,t,n,r,i){this.window=e,this.ai=t,this.persistenceKey=n,this.gs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ps=this.ys.bind(this),this.ws=new ld(qc),this.started=!1,this.Ss=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.bs=Qg(this.persistenceKey,this.gs),this.Ds=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ws=this.ws.insert(this.gs,new ny),this.Cs=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.vs=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Fs=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.Ms=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.xs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ps)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.qi();for(const n of e){if(n===this.gs)continue;const e=this.getItem(Qg(this.persistenceKey,n));if(e){const t=ey.As(n,e);t&&(this.ws=this.ws.insert(t.clientId,t))}}this.Os();const t=this.storage.getItem(this.Ms);if(t){const e=this.Ns(t);e&&this.Ls(e)}for(const n of this.Ss)this.ys(n);this.Ss=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ds,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Bs(this.ws)}isActiveQueryTarget(e){let t=!1;return this.ws.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ks(e,"pending")}updateMutationState(e,t,n){this.ks(e,t,n),this.qs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem($g(this.persistenceKey,e));if(n){const r=Zg.As(e,n);r&&(t=r.state)}}return this.Qs.Vs(e),this.Os(),t}removeLocalQueryTarget(e){this.Qs.fs(e),this.Os()}isLocalQueryTarget(e){return this.Qs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem($g(this.persistenceKey,e))}updateQueryState(e,t,n){this.Ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.qs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.$s(e)}notifyBundleLoaded(e){this.Us(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ps),this.removeItem(this.bs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Sc("SharedClientState","READ",e,t),t}setItem(e,t){Sc("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Sc("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ys(e){const t=e;if(t.storageArea===this.storage){if(Sc("SharedClientState","EVENT",t.key,t.newValue),t.key===this.bs)return void kc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ai.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Cs.test(t.key)){if(null==t.newValue){const e=this.Ws(t.key);return this.Gs(e,null)}{const e=this.zs(t.key,t.newValue);if(e)return this.Gs(e.clientId,e)}}else if(this.vs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(this.Fs.test(t.key)){if(null!==t.newValue){const e=this.Js(t.key,t.newValue);if(e)return this.Ys(e)}}else if(t.key===this.Ms){if(null!==t.newValue){const e=this.Ns(t.newValue);if(e)return this.Ls(e)}}else if(t.key===this.Ds){const e=function(e){let t=ku.oe;if(null!=e)try{const n=JSON.parse(e);Ic("number"==typeof n),t=n}catch(e){kc("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==ku.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.xs){const e=this.Zs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Xs(e))))}}else this.Ss.push(t)}))}}get Qs(){return this.ws.get(this.gs)}Os(){this.setItem(this.bs,this.Qs.Rs())}ks(e,t,n){const r=new Jg(this.currentUser,e,t,n),i=Xg(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Rs())}qs(e){const t=Xg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}$s(e){const t={clientId:this.gs,onlineState:e};this.storage.setItem(this.Ms,JSON.stringify(t))}Ks(e,t,n){const r=$g(this.persistenceKey,e),i=new Zg(e,t,n);this.setItem(r,i.Rs())}Us(e){const t=JSON.stringify(Array.from(e));this.setItem(this.xs,t)}Ws(e){const t=this.Cs.exec(e);return t?t[1]:null}zs(e,t){const n=this.Ws(e);return ey.As(n,t)}js(e,t){const n=this.vs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Jg.As(new bc(i),r,t)}Js(e,t){const n=this.Fs.exec(e),r=Number(n[1]);return Zg.As(r,t)}Ns(e){return ty.As(e)}Zs(e){return JSON.parse(e)}async Hs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.eo(e.batchId,e.state,e.error);Sc("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Ys(e){return this.syncEngine.no(e.targetId,e.state,e.error)}Gs(e,t){const n=t?this.ws.insert(e,t):this.ws.remove(e),r=this.Bs(this.ws),i=this.Bs(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.ro(s,o).then((()=>{this.ws=n}))}Ls(e){this.ws.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Bs(e){let t=sf();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class iy{constructor(){this.io=new ny,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,t,n){this.so[e]=t}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new ny,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sy{oo(e){}shutdown(){}}class oy{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){Sc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.lo)e(0)}co(){Sc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.lo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ay=null;function ly(){return null===ay?ay=268435456+Math.round(2147483648*Math.random()):ay++,"0x"+ay.toString(16)}const cy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uy{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}}const dy="WebChannelConnection";class hy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.bo=t+"://"+e.host,this.Do="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get vo(){return!1}Fo(e,t,n,r,i){const s=ly(),o=this.Mo(e,t.toUriEncodedString());Sc("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(a,r,i),this.Oo(e,o,a,n).then((t=>(Sc("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Ec("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}No(e,t,n,r,i,s){return this.Fo(e,t,n,r,i)}xo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+wc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Mo(e,t){const n=cy[e];return"".concat(this.bo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,t,n,r){const i=ly();return new Promise(((s,o)=>{const a=new ac;a.setWithCredentials(!0),a.listenOnce(uc.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case dc.NO_ERROR:const t=a.getResponseJson();Sc(dy,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case dc.TIMEOUT:Sc(dy,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Ac(Pc.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const n=a.getStatus();if(Sc(dy,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Pc).indexOf(t)>=0?t:Pc.UNKNOWN}(t.status);o(new Ac(e,t.message))}else o(new Ac(Pc.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ac(Pc.UNAVAILABLE,"Connection failed."));break;default:Cc()}}finally{Sc(dy,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Sc(dy,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Lo(e,t,n){const r=ly(),i=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=mc(),o=pc(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new lc({})),this.xo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Sc(dy,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let d=!1,h=!1;const f=new uy({Po:t=>{h?Sc(dy,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Sc(dy,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Sc(dy,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Io:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,cc.EventType.OPEN,(()=>{h||(Sc(dy,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.po())})),p(u,cc.EventType.CLOSE,(()=>{h||(h=!0,Sc(dy,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())})),p(u,cc.EventType.ERROR,(t=>{h||(h=!0,Ec(dy,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new Ac(Pc.UNAVAILABLE,"The operation could not be completed")))})),p(u,cc.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Ic(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Sc(dy,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Bf[e];if(void 0!==t)return Wf(t)}(t),i=o.message;void 0===n&&(n=Pc.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.wo(new Ac(n,i)),u.close()}else Sc(dy,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.So(i)}})),p(o,fc.STAT_EVENT,(t=>{t.stat===hc.PROXY?Sc(dy,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===hc.NOPROXY&&Sc(dy,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.yo()}),0),f}}function fy(){return"undefined"!=typeof window?window:null}function py(){return"undefined"!=typeof document?document:null}function my(e){return new dp(e,!0)}class gy{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ai=e,this.timerId=t,this.Bo=n,this.ko=r,this.qo=i,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();const t=Math.floor(this.Qo+this.Go()),n=Math.max(0,Date.now()-this.$o),r=Math.max(0,t-n);r>0&&Sc("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Qo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Ko=this.ai.enqueueAfterDelay(this.timerId,r,(()=>(this.$o=Date.now(),e()))),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){null!==this.Ko&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){null!==this.Ko&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}}class yy{constructor(e,t,n,r,i,s,o,a){this.ai=e,this.jo=n,this.Ho=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new gy(e,t)}t_(){return 1===this.state||5===this.state||this.n_()}n_(){return 2===this.state||3===this.state}start(){this.Xo=0,4!==this.state?this.auth():this.r_()}async stop(){this.t_()&&await this.close(0)}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&null===this.Yo&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,(()=>this.o_())))}__(e){this.a_(),this.stream.send(e)}async o_(){if(this.n_())return this.close(0)}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}async close(e,t){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,4!==e?this.e_.reset():t&&t.code===Pc.RESOURCE_EXHAUSTED?(kc(t.toString()),kc("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):t&&t.code===Pc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Vo(t)}c_(){}auth(){this.state=1;const e=this.l_(this.Jo),t=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Jo===t&&this.h_(n,r)}),(t=>{e((()=>{const e=new Ac(Pc.UNKNOWN,"Fetching auth token failed: "+t.message);return this.P_(e)}))}))}h_(e,t){const n=this.l_(this.Jo);this.stream=this.I_(e,t),this.stream.To((()=>{n((()=>this.listener.To()))})),this.stream.Ao((()=>{n((()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,(()=>(this.n_()&&(this.state=3),Promise.resolve()))),this.listener.Ao())))})),this.stream.Vo((e=>{n((()=>this.P_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.Xo?this.T_(e):this.onNext(e)))}))}r_(){this.state=5,this.e_.Wo((async()=>{this.state=0,this.start()}))}P_(e){return Sc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}l_(e){return t=>{this.ai.enqueueAndForget((()=>this.Jo===e?t():(Sc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vy extends yy{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}I_(e,t){return this.connection.Lo("Listen",e,t)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Cc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Ic(void 0===t||"string"==typeof t),gd.fromBase64String(t||"")):(Ic(void 0===t||t instanceof Buffer||t instanceof Uint8Array),gd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Pc.UNKNOWN:Wf(e.code);return new Ac(t,e.message||"")}(o);n=new rp(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=_p(e,r.document.name),s=gp(r.document.updateTime),o=r.document.createTime?gp(r.document.createTime):Kc.min(),a=new Kd({mapValue:{fields:r.document.fields}}),l=Qd.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new tp(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=_p(e,r.document),s=r.readTime?gp(r.readTime):Kc.min(),o=Qd.newNoDocument(i,s),a=r.removedTargetIds||[];n=new tp([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=_p(e,r.document),s=r.removedTargetIds||[];n=new tp([],s,i,null)}else{if(!("filter"in t))return Cc();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new zf(r,i),o=e.targetId;n=new np(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Kc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Kc.min():t.readTime?gp(t.readTime):Kc.min()}(e);return this.listener.E_(t,n)}d_(e){const t={};t.database=kp(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=kh(r)?{documents:Pp(e,r)}:{query:Ap(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=pp(e,t.resumeToken);const r=hp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Kc.min())>0){n.readTime=fp(e,t.snapshotVersion.toTimestamp());const r=hp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Cc()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.__(t)}A_(e){const t={};t.database=kp(this.serializer),t.removeTarget=e,this.__(t)}}class by extends yy{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,t){return this.connection.Lo("Write",e,t)}T_(e){return Ic(!!e.streamToken),this.lastStreamToken=e.streamToken,Ic(!e.writeResults||0===e.writeResults.length),this.listener.m_()}onNext(e){Ic(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();const t=function(e,t){return e&&e.length>0?(Ic(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?gp(e.updateTime):gp(t);return n.isEqual(Kc.min())&&(n=gp(t)),new xf(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=gp(e.commitTime);return this.listener.f_(n,t)}g_(){const e={};e.database=kp(this.serializer),this.__(e)}V_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Ip(this.serializer,e)))};this.__(t)}}class wy extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.p_=!1}y_(){if(this.p_)throw new Ac(Pc.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,t,n,r){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Fo(e,vp(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Pc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ac(Pc.UNKNOWN,e.toString())}))}No(e,t,n,r,i){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.No(e,vp(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Pc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ac(Pc.UNKNOWN,e.toString())}))}terminate(){this.p_=!0,this.connection.terminate()}}class _y{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){0===this.w_&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}F_(e){"Online"===this.state?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.M_(),this.w_=0,"Online"===e&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.b_?(kc(t),this.b_=!1):Sc("OnlineStateTracker",t)}M_(){null!==this.S_&&(this.S_.cancel(),this.S_=null)}}class xy{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=i,this.B_.oo((e=>{n.enqueueAndForget((async()=>{Ay(this)&&(Sc("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Nc(e);t.N_.add(4),await ky(t),t.k_.set("Unknown"),t.N_.delete(4),await Sy(t)}(this))}))})),this.k_=new _y(n,r)}}async function Sy(e){if(Ay(e))for(const t of e.L_)await t(!0)}async function ky(e){for(const t of e.L_)await t(!1)}function Ey(e,t){const n=Nc(e);n.O_.has(t.targetId)||(n.O_.set(t.targetId,t),Py(n)?Ny(n):Xy(n).n_()&&Cy(n,t))}function Ty(e,t){const n=Nc(e),r=Xy(n);n.O_.delete(t),r.n_()&&Iy(n,t),0===n.O_.size&&(r.n_()?r.s_():Ay(n)&&n.k_.set("Unknown"))}function Cy(e,t){if(e.q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Kc.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Xy(e).d_(t)}function Iy(e,t){e.q_.xe(t),Xy(e).A_(t)}function Ny(e){e.q_=new sp({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.O_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Xy(e).start(),e.k_.D_()}function Py(e){return Ay(e)&&!Xy(e).t_()&&e.O_.size>0}function Ay(e){return 0===Nc(e).N_.size}function Oy(e){e.q_=void 0}async function Ry(e){e.k_.set("Online")}async function Dy(e){e.O_.forEach(((t,n)=>{Cy(e,t)}))}async function jy(e,t){Oy(e),Py(e)?(e.k_.F_(t),Ny(e)):e.k_.set("Unknown")}async function Ly(e,t,n){if(e.k_.set("Online"),t instanceof rp&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.O_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.O_.delete(r),e.q_.removeTarget(r))}(e,t)}catch(n){Sc("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await My(e,n)}else if(t instanceof tp?e.q_.Ke(t):t instanceof np?e.q_.He(t):e.q_.We(t),!n.isEqual(Kc.min()))try{const t=await Ug(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.O_.get(r);i&&e.O_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.O_.get(t);if(!r)return;e.O_.set(t,r.withResumeToken(gd.EMPTY_BYTE_STRING,r.snapshotVersion)),Iy(e,t);const i=new Bp(r.target,t,n,r.sequenceNumber);Cy(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Sc("RemoteStore","Failed to raise snapshot:",t),await My(e,t)}}async function My(e,t,n){if(!yu(t))throw t;e.N_.add(1),await ky(e),e.k_.set("Offline"),n||(n=()=>Ug(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Sc("RemoteStore","Retrying IndexedDB access"),await n(),e.N_.delete(1),await Sy(e)}))}function Fy(e,t){return t().catch((n=>My(e,n,t)))}async function Uy(e){const t=Nc(e),n=$y(t);let r=t.x_.length>0?t.x_[t.x_.length-1].batchId:-1;for(;Vy(t);)try{const e=await zg(t.localStore,r);if(null===e){0===t.x_.length&&n.s_();break}r=e.batchId,zy(t,e)}catch(e){await My(t,e)}By(t)&&qy(t)}function Vy(e){return Ay(e)&&e.x_.length<10}function zy(e,t){e.x_.push(t);const n=$y(e);n.n_()&&n.R_&&n.V_(t.mutations)}function By(e){return Ay(e)&&!$y(e).t_()&&e.x_.length>0}function qy(e){$y(e).start()}async function Hy(e){$y(e).g_()}async function Wy(e){const t=$y(e);for(const n of e.x_)t.V_(n.mutations)}async function Gy(e,t,n){const r=e.x_.shift(),i=Uf.from(r,t,n);await Fy(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Uy(e)}async function Ky(e,t){t&&$y(e).R_&&await async function(e,t){if(function(e){return Hf(e)&&e!==Pc.ABORTED}(t.code)){const n=e.x_.shift();$y(e).i_(),await Fy(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Uy(e)}}(e,t),By(e)&&qy(e)}async function Yy(e,t){const n=Nc(e);n.asyncQueue.verifyOperationInProgress(),Sc("RemoteStore","RemoteStore received new credentials");const r=Ay(n);n.N_.add(3),await ky(n),r&&n.k_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.N_.delete(3),await Sy(n)}async function Qy(e,t){const n=Nc(e);t?(n.N_.delete(2),await Sy(n)):t||(n.N_.add(2),await ky(n),n.k_.set("Unknown"))}function Xy(e){return e.Q_||(e.Q_=function(e,t,n){const r=Nc(e);return r.y_(),new vy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{To:Ry.bind(null,e),Ao:Dy.bind(null,e),Vo:jy.bind(null,e),E_:Ly.bind(null,e)}),e.L_.push((async t=>{t?(e.Q_.i_(),Py(e)?Ny(e):e.k_.set("Unknown")):(await e.Q_.stop(),Oy(e))}))),e.Q_}function $y(e){return e.K_||(e.K_=function(e,t,n){const r=Nc(e);return r.y_(),new by(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{To:()=>Promise.resolve(),Ao:Hy.bind(null,e),Vo:Ky.bind(null,e),m_:Wy.bind(null,e),f_:Gy.bind(null,e)}),e.L_.push((async t=>{t?(e.K_.i_(),await Uy(e)):(await e.K_.stop(),e.x_.length>0&&(Sc("RemoteStore","Stopping write stream with ".concat(e.x_.length," pending writes")),e.x_=[]))}))),e.K_}class Jy{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Oc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Jy(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ac(Pc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zy(e,t){if(kc("AsyncQueue","".concat(t,": ").concat(e)),yu(e))return new Ac(Pc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class ev{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Jc.comparator(t.key,n.key):(e,t)=>Jc.comparator(e.key,t.key),this.keyedMap=Qh(),this.sortedSet=new ld(this.comparator)}static emptySet(e){return new ev(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ev))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ev;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class tv{constructor(){this.U_=new ld(Jc.comparator)}track(e){const t=e.doc.key,n=this.U_.get(t);n?0!==e.type&&3===n.type?this.U_=this.U_.insert(t,e):3===e.type&&1!==n.type?this.U_=this.U_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.U_=this.U_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.U_=this.U_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.U_=this.U_.remove(t):1===e.type&&2===n.type?this.U_=this.U_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.U_=this.U_.insert(t,{type:2,doc:e.doc}):Cc():this.U_=this.U_.insert(t,e)}W_(){const e=[];return this.U_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class nv{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new nv(e,t,ev.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class rv{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some((e=>e.H_()))}}class iv{constructor(){this.queries=sv(),this.onlineState="Unknown",this.J_=new Set}terminate(){!function(e,t){const n=Nc(e),r=n.queries;n.queries=sv(),r.forEach(((e,n)=>{for(const r of n.z_)r.onError(t)}))}(this,new Ac(Pc.ABORTED,"Firestore shutting down"))}}function sv(){return new Wh((e=>Uh(e)),Fh)}async function ov(e,t){const n=Nc(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.j_()&&t.H_()&&(r=2):(s=new rv,r=t.H_()?0:1);try{switch(r){case 0:s.G_=await n.onListen(i,!0);break;case 1:s.G_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Zy(e,"Initialization of query '".concat(Vh(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.z_.push(t),t.Y_(n.onlineState),s.G_&&t.Z_(s.G_)&&uv(n)}async function av(e,t){const n=Nc(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.z_.indexOf(t);e>=0&&(s.z_.splice(e,1),0===s.z_.length?i=t.H_()?0:1:!s.j_()&&t.H_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lv(e,t){const n=Nc(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.z_)e.Z_(i)&&(r=!0);t.G_=i}}r&&uv(n)}function cv(e,t,n){const r=Nc(e),i=r.queries.get(t);if(i)for(const s of i.z_)s.onError(n);r.queries.delete(t)}function uv(e){e.J_.forEach((e=>{e.next()}))}var dv,hv;(hv=dv||(dv={})).X_="default",hv.Cache="cache";class fv{constructor(e,t,n){this.query=e,this.ea=t,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=n||{}}Z_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new nv(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ta?this.ra(e)&&(this.ea.next(e),t=!0):this.ia(e,this.onlineState)&&(this.sa(e),t=!0),this.na=e,t}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let t=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),t=!0),t}ia(e,t){if(!e.fromCache)return!0;if(!this.H_())return!0;const n="Offline"!==t;return(!this.options.oa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ra(e){if(e.docChanges.length>0)return!0;const t=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}sa(e){e=nv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==dv.Cache}}class pv{constructor(e,t){this._a=e,this.byteLength=t}aa(){return"metadata"in this._a}}class mv{constructor(e){this.serializer=e}Ts(e){return _p(this.serializer,e)}Es(e){return e.metadata.exists?Cp(this.serializer,e.document,!1):Qd.newNoDocument(this.Ts(e.metadata.name),this.ds(e.metadata.readTime))}ds(e){return gp(e)}}class gv{constructor(e,t,n){this.ua=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yv(e)}ca(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e._a.namedQuery)this.queries.push(e._a.namedQuery);else if(e._a.documentMetadata){this.documents.push({metadata:e._a.documentMetadata}),e._a.documentMetadata.exists||++t;const n=Qc.fromString(e._a.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e._a.document&&(this.documents[this.documents.length-1].document=e._a.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}la(e){const t=new Map,n=new mv(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ts(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||nf()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Nc(e);let s=nf(),o=Kh();for(const c of n){const e=t.Ts(c.metadata.name);c.document&&(s=s.add(e));const n=t.Es(c);n.setReadTime(t.ds(c.metadata.readTime)),o=o.insert(e,n)}const a=i.us.newChangeBuffer({trackRemovals:!0}),l=await Bg(i,function(e){return Dh(Ph(Qc.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Vg(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.$r.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.$r.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.hs,t.Ps))).next((()=>t.hs))))))}(this.localStore,new mv(this.serializer),this.documents,this.ua.id),t=this.la(this.documents);for(const n of this.queries)await Yg(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ha:this.collectionGroups,Pa:e}}}function yv(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class vv{constructor(e){this.key=e}}class bv{constructor(e){this.key=e}}class wv{constructor(e,t){this.query=e,this.Ia=t,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=nf(),this.mutatedKeys=nf(),this.da=qh(e),this.Aa=new ev(this.da)}get Ra(){return this.Ia}Va(e,t){const n=t?t.ma:new tv,r=t?t.Aa:this.Aa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=zh(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.fa(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.da(u,a)>0||l&&this.da(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Aa:s,ma:n,ts:o,mutatedKeys:i}}fa(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;const s=e.ma.W_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Cc()}};return n(e)-n(t)}(e.type,t.type)||this.da(e.doc,t.doc))),this.ga(n),r=null!=r&&r;const o=t&&!r?this.pa():[],a=0===this.Ea.size&&this.current&&!r?1:0,l=a!==this.Ta;return this.Ta=a,0!==s.length||l?{snapshot:new nv(this.query,e.Aa,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ya:o}:{ya:o}}Y_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new tv,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach((e=>this.Ia=this.Ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ia=this.Ia.delete(e))),this.current=e.current)}pa(){if(!this.current)return[];const e=this.Ea;this.Ea=nf(),this.Aa.forEach((e=>{this.wa(e.key)&&(this.Ea=this.Ea.add(e.key))}));const t=[];return e.forEach((e=>{this.Ea.has(e)||t.push(new bv(e))})),this.Ea.forEach((n=>{e.has(n)||t.push(new vv(n))})),t}Sa(e){this.Ia=e.Is,this.Ea=nf();const t=this.Va(e.documents);return this.applyChanges(t,!0)}ba(){return nv.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,0===this.Ta,this.hasCachedResults)}}class _v{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class xv{constructor(e){this.key=e,this.Da=!1}}class Sv{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.va=new Wh((e=>Uh(e)),Fh),this.Fa=new Map,this.Ma=new Set,this.xa=new ld(Jc.comparator),this.Oa=new Map,this.Na=new yg,this.La={},this.Ba=new Map,this.ka=Wm.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return!0===this.qa}}async function kv(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Zv(e);let i;const s=r.va.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ba()):i=await Tv(r,t,n,!0),i}async function Ev(e,t){const n=Zv(e);await Tv(n,t,!0,!1)}async function Tv(e,t,n,r){const i=await Bg(e.localStore,Dh(t)),s=i.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await Cv(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Ey(e.remoteStore,i),a}async function Cv(e,t,n,r,i){e.Qa=(t,n,r)=>async function(e,t,n,r){let i=t.view.Va(n);i.ts&&(i=await Hg(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Va(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return Uv(e,t.targetId,a.ya),a.snapshot}(e,t,n,r);const s=await Hg(e.localStore,t,!0),o=new wv(t,s.Is),a=o.Va(s.documents),l=ep.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);Uv(e,n,c.ya);const u=new _v(t,n,o);return e.va.set(t,u),e.Fa.has(n)?e.Fa.get(n).push(t):e.Fa.set(n,[t]),c.snapshot}async function Iv(e,t,n){const r=Nc(e),i=r.va.get(t),s=r.Fa.get(i.targetId);if(s.length>1)return r.Fa.set(i.targetId,s.filter((e=>!Fh(e,t)))),void r.va.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await qg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ty(r.remoteStore,i.targetId),Mv(r,i.targetId)})).catch(uu)):(Mv(r,i.targetId),await qg(r.localStore,i.targetId,!0))}async function Nv(e,t){const n=Nc(e),r=n.va.get(t),i=n.Fa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ty(n.remoteStore,r.targetId))}async function Pv(e,t){const n=Nc(e);try{const e=await function(e,t){const n=Nc(e),r=t.snapshotVersion;let i=n.ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.us.newChangeBuffer({trackRemovals:!0});i=n.ss;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.$r.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.$r.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(gd.EMPTY_BYTE_STRING,Kc.min()).withLastLimboFreeSnapshotVersion(Kc.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.$r.updateTargetData(e,c))}));let a=Kh(),l=nf();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Vg(e,s,t.documentUpdates).next((e=>{a=e.hs,l=e.Ps}))),!r.isEqual(Kc.min())){const t=n.$r.getLastRemoteSnapshotVersion(e).next((t=>n.$r.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return du.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ss=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Oa.get(t);r&&(Ic(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Da=!0:e.modifiedDocuments.size>0?Ic(r.Da):e.removedDocuments.size>0&&(Ic(r.Da),r.Da=!1))})),await Bv(n,e,t)}catch(e){await uu(e)}}function Av(e,t,n){const r=Nc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.va.forEach(((n,r)=>{const i=r.view.Y_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Nc(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.z_)i.Y_(t)&&(r=!0)})),r&&uv(n)}(r.eventManager,t),e.length&&r.Ca.E_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ov(e,t,n){const r=Nc(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Oa.get(t),s=i&&i.key;if(s){let e=new ld(Jc.comparator);e=e.insert(s,Qd.newNoDocument(s,Kc.min()));const n=nf().add(s),i=new Zf(Kc.min(),new Map,new ld(qc),e,n);await Pv(r,i),r.xa=r.xa.remove(s),r.Oa.delete(t),zv(r)}else await qg(r.localStore,t,!1).then((()=>Mv(r,t,n))).catch(uu)}async function Rv(e,t){const n=Nc(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Nc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.us.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=du.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Ic(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=nf();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Lv(n,r,null),jv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bv(n,e)}catch(e){await uu(e)}}async function Dv(e,t,n){const r=Nc(e);try{const e=await function(e,t){const n=Nc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Ic(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Lv(r,t,n),jv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Bv(r,e)}catch(n){await uu(n)}}function jv(e,t){(e.Ba.get(t)||[]).forEach((e=>{e.resolve()})),e.Ba.delete(t)}function Lv(e,t,n){const r=Nc(e);let i=r.La[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.La[r.currentUser.toKey()]=i}}function Mv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Fa.get(t))e.va.delete(r),n&&e.Ca.Ka(r,n);e.Fa.delete(t),e.isPrimaryClient&&e.Na.mr(t).forEach((t=>{e.Na.containsKey(t)||Fv(e,t)}))}function Fv(e,t){e.Ma.delete(t.path.canonicalString());const n=e.xa.get(t);null!==n&&(Ty(e.remoteStore,n),e.xa=e.xa.remove(t),e.Oa.delete(n),zv(e))}function Uv(e,t,n){for(const r of n)r instanceof vv?(e.Na.addReference(r.key,t),Vv(e,r)):r instanceof bv?(Sc("SyncEngine","Document no longer in limbo: "+r.key),e.Na.removeReference(r.key,t),e.Na.containsKey(r.key)||Fv(e,r.key)):Cc()}function Vv(e,t){const n=t.key,r=n.path.canonicalString();e.xa.get(n)||e.Ma.has(r)||(Sc("SyncEngine","New document in limbo: "+n),e.Ma.add(r),zv(e))}function zv(e){for(;e.Ma.size>0&&e.xa.size<e.maxConcurrentLimboResolutions;){const t=e.Ma.values().next().value;e.Ma.delete(t);const n=new Jc(Qc.fromString(t)),r=e.ka.next();e.Oa.set(r,new xv(n)),e.xa=e.xa.insert(n,r),Ey(e.remoteStore,new Bp(Dh(Ph(n.path)),r,"TargetPurposeLimboResolution",ku.oe))}}async function Bv(e,t,n){const r=Nc(e),i=[],s=[],o=[];r.va.isEmpty()||(r.va.forEach(((e,a)=>{o.push(r.Qa(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Rg.Ui(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Ca.E_(i),await async function(e,t){const n=Nc(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>du.forEach(t,(t=>du.forEach(t.Ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>du.forEach(t.$i,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!yu(e))throw e;Sc("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ss.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ss=n.ss.insert(e,i)}}}(r.localStore,s))}async function qv(e,t){const n=Nc(e);if(!n.currentUser.isEqual(t)){Sc("SyncEngine","User change. New user:",t.toKey());const e=await Fg(n.localStore,t);n.currentUser=t,function(e,t){e.Ba.forEach((e=>{e.forEach((e=>{e.reject(new Ac(Pc.CANCELLED,t))}))})),e.Ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Bv(n,e.ls)}}function Hv(e,t){const n=Nc(e),r=n.Oa.get(t);if(r&&r.Da)return nf().add(r.key);{let e=nf();const r=n.Fa.get(t);if(!r)return e;for(const t of r){const r=n.va.get(t);e=e.unionWith(r.view.Ra)}return e}}async function Wv(e,t){const n=Nc(e),r=await Hg(n.localStore,t.query,!0),i=t.view.Sa(r);return n.isPrimaryClient&&Uv(n,t.targetId,i.ya),i}async function Gv(e,t){const n=Nc(e);return Gg(n.localStore,t).then((e=>Bv(n,e)))}async function Kv(e,t,n,r){const i=Nc(e),s=await function(e,t){const n=Nc(e),r=Nc(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Fn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):du.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await Uy(i.remoteStore):"acknowledged"===n||"rejected"===n?(Lv(i,t,r||null),jv(i,t),function(e,t){Nc(Nc(e).mutationQueue).xn(t)}(i.localStore,t)):Cc(),await Bv(i,s)):Sc("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Yv(e,t,n){const r=Nc(e),i=[],s=[];for(const o of t){let e;const t=r.Fa.get(o);if(t&&0!==t.length){e=await Bg(r.localStore,Dh(t[0]));for(const e of t){const t=r.va.get(e),n=await Wv(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await Wg(r.localStore,o);e=await Bg(r.localStore,t),await Cv(r,Qv(t),o,!1,e.resumeToken)}i.push(e)}return r.Ca.E_(s),i}function Qv(e){return Nh(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Xv(e){return function(e){return Nc(Nc(e).persistence).qi()}(Nc(e).localStore)}async function $v(e,t,n,r){const i=Nc(e);if(i.qa)return void Sc("SyncEngine","Ignoring unexpected query state notification.");const s=i.Fa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await Gg(i.localStore,Bh(s[0])),r=Zf.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,gd.EMPTY_BYTE_STRING);await Bv(i,e,r);break}case"rejected":await qg(i.localStore,t,!0),Mv(i,t,r);break;default:Cc()}}async function Jv(e,t,n){const r=Zv(e);if(r.qa){for(const e of t){if(r.Fa.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){Sc("SyncEngine","Adding an already active target "+e);continue}const t=await Wg(r.localStore,e),n=await Bg(r.localStore,t);await Cv(r,Qv(t),n.targetId,!1,n.resumeToken),Ey(r.remoteStore,n)}for(const e of n)r.Fa.has(e)&&await qg(r.localStore,e,!1).then((()=>{Ty(r.remoteStore,e),Mv(r,e)})).catch(uu)}}function Zv(e){const t=Nc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Pv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ov.bind(null,t),t.Ca.E_=lv.bind(null,t.eventManager),t.Ca.Ka=cv.bind(null,t.eventManager),t}function eb(e){const t=Nc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Rv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Dv.bind(null,t),t}class tb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=my(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Mg(this.persistence,new jg,e.initialUser,this.serializer)}createPersistence(e){return new Sg(Eg.Yr,this.serializer)}createSharedClientState(e){return new iy}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class nb extends tb{constructor(e,t,n){super(),this.Ua=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ua.initialize(this,e),await eb(this.Ua.syncEngine),await Uy(this.Ua.remoteStore),await this.persistence.pi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Mg(this.persistence,new jg,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Jm(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Su(t,this.persistence);return new xu(e.asyncQueue,n)}createPersistence(e){const t=Og(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Mm.withCacheSize(this.cacheSizeBytes):Mm.DEFAULT;return new Ng(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,fy(),py(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new iy}}class rb extends nb{constructor(e,t){super(e,t,!1),this.Ua=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Ua.syncEngine;this.sharedClientState instanceof ry&&(this.sharedClientState.syncEngine={eo:Kv.bind(null,t),no:$v.bind(null,t),ro:Jv.bind(null,t),qi:Xv.bind(null,t),Xs:Gv.bind(null,t)},await this.sharedClientState.start()),await this.persistence.pi((async e=>{await async function(e,t){const n=Nc(e);if(Zv(n),eb(n),!0===t&&!0!==n.qa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Yv(n,e.toArray());n.qa=!0,await Qy(n.remoteStore,!0);for(const r of t)Ey(n.remoteStore,r)}else if(!1===t&&!1!==n.qa){const e=[];let t=Promise.resolve();n.Fa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Mv(n,i),qg(n.localStore,i,!0)))),Ty(n.remoteStore,i)})),await t,await Yv(n,e),function(e){const t=Nc(e);t.Oa.forEach(((e,n)=>{Ty(t.remoteStore,n)})),t.Na.gr(),t.Oa=new Map,t.xa=new ld(Jc.comparator)}(n),n.qa=!1,await Qy(n.remoteStore,!1)}}(this.Ua.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=fy();if(!ry.D(t))throw new Ac(Pc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Og(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ry(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class ib{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Av(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=qv.bind(null,this.syncEngine),await Qy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new iv}createDatastore(e){const t=my(e.databaseInfo.databaseId),n=function(e){return new hy(e)}(e.databaseInfo);return function(e,t,n,r){return new wy(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new xy(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Av(this.syncEngine,e,0)),oy.D()?new oy:new sy)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Sv(e,t,n,r,i,s);return o&&(a.qa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Nc(e);Sc("RemoteStore","RemoteStore shutting down."),t.N_.add(5),await ky(t),t.B_.shutdown(),t.k_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}function sb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class ob{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):kc("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class ab{constructor(e,t){this.za=e,this.serializer=t,this.metadata=new Oc,this.buffer=new Uint8Array,this.ja=new TextDecoder("utf-8"),this.Ha().then((e=>{e&&e.aa()?this.metadata.resolve(e._a.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e._a))))}),(e=>this.metadata.reject(e)))}close(){return this.za.cancel()}async getMetadata(){return this.metadata.promise}async $a(){return await this.getMetadata(),this.Ha()}async Ha(){const e=await this.Ja();if(null===e)return null;const t=this.ja.decode(e),n=Number(t);isNaN(n)&&this.Ya("length string (".concat(t,") is not valid number"));const r=await this.Za(n);return new pv(JSON.parse(r),e.length+n)}Xa(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Ja(){for(;this.Xa()<0&&!await this.eu(););if(0===this.buffer.length)return null;const e=this.Xa();e<0&&this.Ya("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Za(e){for(;this.buffer.length<e;)await this.eu()&&this.Ya("Reached the end of bundle when more is expected.");const t=this.ja.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Ya(e){throw this.za.cancel(),new Error("Invalid bundle format: ".concat(e))}async eu(){const e=await this.za.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class lb{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ac(Pc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Nc(e),r={documents:t.map((e=>wp(n.serializer,e)))},i=await n.No("BatchGetDocuments",n.serializer.databaseId,Qc.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Ic(!!t.found),t.found.name,t.found.updateTime;const n=_p(e,t.found.name),r=gp(t.found.updateTime),i=t.found.createTime?gp(t.found.createTime):Kc.min(),s=new Kd({mapValue:{fields:t.found.fields}});return Qd.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Ic(!!t.missing),Ic(!!t.readTime);const n=_p(e,t.missing),r=gp(t.readTime);return Qd.newNoDocument(n,r)}(e,t):Cc()}(n.serializer,e);s.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=s.get(e.toString());Ic(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Lf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Jc.fromPath(t);this.mutations.push(new Mf(n,this.precondition(n)))})),await async function(e,t){const n=Nc(e),r={writes:t.map((e=>Ip(n.serializer,e)))};await n.Fo("Commit",n.serializer.databaseId,Qc.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Cc();t=Kc.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ac(Pc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Kc.min())?Sf.exists(!1):Sf.updateTime(t):Sf.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Kc.min()))throw new Ac(Pc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sf.updateTime(t)}return Sf.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class cb{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.tu=n.maxAttempts,this.e_=new gy(this.asyncQueue,"transaction_retry")}nu(){this.tu-=1,this.ru()}ru(){this.e_.Wo((async()=>{const e=new lb(this.datastore),t=this.iu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.su(e)}))))})).catch((e=>{this.su(e)}))}))}iu(e){try{const t=this.updateFunction(e);return!Eu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}su(e){this.tu>0&&this.ou(e)?(this.tu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ru(),Promise.resolve())))):this.deferred.reject(e)}ou(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Hf(t)}return!1}}class ub{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=bc.UNAUTHENTICATED,this.clientId=Bc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Sc("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Sc("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ac(Pc.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Zy(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function db(e,t){e.asyncQueue.verifyOperationInProgress(),Sc("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Fg(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function hb(e,t){e.asyncQueue.verifyOperationInProgress();const n=await pb(e);Sc("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Yy(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Yy(t.remoteStore,n))),e._onlineComponents=t}function fb(e){return"FirebaseError"===e.name?e.code===Pc.FAILED_PRECONDITION||e.code===Pc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function pb(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Sc("FirestoreClient","Using user provided OfflineComponentProvider");try{await db(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!fb(n))throw n;Ec("Error using user provided cache. Falling back to memory cache: "+n),await db(e,new tb)}}else Sc("FirestoreClient","Using default OfflineComponentProvider"),await db(e,new tb);return e._offlineComponents}async function mb(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Sc("FirestoreClient","Using user provided OnlineComponentProvider"),await hb(e,e._uninitializedComponentsProvider._online)):(Sc("FirestoreClient","Using default OnlineComponentProvider"),await hb(e,new ib))),e._onlineComponents}function gb(e){return pb(e).then((e=>e.persistence))}function yb(e){return pb(e).then((e=>e.localStore))}function vb(e){return mb(e).then((e=>e.remoteStore))}function bb(e){return mb(e).then((e=>e.syncEngine))}function wb(e){return mb(e).then((e=>e.datastore))}async function _b(e){const t=await mb(e),n=t.eventManager;return n.onListen=kv.bind(null,t.syncEngine),n.onUnlisten=Iv.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Ev.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Nv.bind(null,t.syncEngine),n}function xb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Oc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new ob({next:s=>{t.enqueueAndForget((()=>av(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Ac(Pc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Ac(Pc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new fv(Ph(n.path),s,{includeMetadataChanges:!0,oa:!0});return ov(e,o)}(await _b(e),e.asyncQueue,t,n,r))),r.promise}function Sb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Oc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new ob({next:n=>{t.enqueueAndForget((()=>av(e,o))),n.fromCache&&"server"===r.source?i.reject(new Ac(Pc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new fv(n,s,{includeMetadataChanges:!0,oa:!0});return ov(e,o)}(await _b(e),e.asyncQueue,t,n,r))),r.promise}function kb(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Kf().encode(e):e,function(e,t){return new ab(e,t)}(function(e,t){if(e instanceof Uint8Array)return sb(e,t);if(e instanceof ArrayBuffer)return sb(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,my(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Nc(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Nc(e),r=gp(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Wr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(yv(r));const i=new gv(r,e.localStore,t.serializer);let s=await t.$a();for(;s;){const e=await i.ca(s);e&&n._updateProgress(e),s=await t.$a()}const o=await i.complete();return await Bv(e,o.Pa,void 0),await function(e,t){const n=Nc(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Wr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.ha)}catch(e){return Ec("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await bb(e),i,r)}))}function Eb(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Tb=new Map;function Cb(e,t,n){if(!n)throw new Ac(Pc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Ib(e,t,n,r){if(!0===t&&!0===r)throw new Ac(Pc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Nb(e){if(!Jc.isDocumentKey(e))throw new Ac(Pc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Pb(e){if(Jc.isDocumentKey(e))throw new Ac(Pc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ab(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Cc()}function Ob(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ac(Pc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ab(e);throw new Ac(Pc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Rb(e,t){if(t<=0)throw new Ac(Pc.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class Db{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ac(Pc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ac(Pc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ib("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Eb(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ac(Pc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Ac(Pc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Ac(Pc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jb{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Db({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ac(Pc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ac(Pc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Db(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Dc;switch(e.type){case"firstParty":return new Fc(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ac(Pc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Tb.get(e);t&&(Sc("ComponentProvider","Removing Datastore"),Tb.delete(e),t.terminate())}(this),Promise.resolve()}}function Lb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Ob(e,jb))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ec("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=bc.MOCK_USER;else{t=yt(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Ac(Pc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new bc(s)}e._authCredentials=new jc(new Rc(t,n))}}class Mb{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Mb(this.firestore,e,this._query)}}class Fb{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ub(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fb(this.firestore,e,this._key)}}class Ub extends Mb{constructor(e,t,n){super(e,t,Ph(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fb(this.firestore,null,new Jc(e))}withConverter(e){return new Ub(this.firestore,e,this._path)}}function Vb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tn(e),Cb("collection","path",t),e instanceof jb){const n=Qc.fromString(t,...r);return Pb(n),new Ub(e,null,n)}{if(!(e instanceof Fb||e instanceof Ub))throw new Ac(Pc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Qc.fromString(t,...r));return Pb(n),new Ub(e.firestore,null,n)}}function zb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tn(e),1===arguments.length&&(t=Bc.newId()),Cb("doc","path",t),e instanceof jb){const n=Qc.fromString(t,...r);return Nb(n),new Fb(e,null,new Jc(n))}{if(!(e instanceof Fb||e instanceof Ub))throw new Ac(Pc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Qc.fromString(t,...r));return Nb(n),new Fb(e.firestore,e instanceof Ub?e.converter:null,new Jc(n))}}function Bb(e,t){return e=tn(e),t=tn(t),(e instanceof Fb||e instanceof Ub)&&(t instanceof Fb||t instanceof Ub)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function qb(e,t){return e=tn(e),t=tn(t),e instanceof Mb&&t instanceof Mb&&e.firestore===t.firestore&&Fh(e._query,t._query)&&e.converter===t.converter}class Hb{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new gy(this,"async_queue_retry"),this.Tu=()=>{const e=py();e&&Sc("AsyncQueue","Visibility state changed to "+e.visibilityState),this.e_.zo()};const e=py();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;const t=py();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise((()=>{}));const t=new Oc;return this.du((()=>this.uu&&this.Pu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.au.push(e),this.Au())))}async Au(){if(0!==this.au.length){try{await this.au[0](),this.au.shift(),this.e_.reset()}catch(IH){if(!yu(IH))throw IH;Sc("AsyncQueue","Operation failed with retryable error: "+IH)}this.au.length>0&&this.e_.Wo((()=>this.Au()))}}du(e){const t=this._u.then((()=>(this.hu=!0,e().catch((e=>{this.lu=e,this.hu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw kc("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.hu=!1,e))))));return this._u=t,t}enqueueAfterDelay(e,t,n){this.Eu(),this.Iu.indexOf(e)>-1&&(t=0);const r=Jy.createAndSchedule(this,e,t,n,(e=>this.Ru(e)));return this.cu.push(r),r}Eu(){this.lu&&Cc()}verifyOperationInProgress(){}async Vu(){let e;do{e=this._u,await e}while(e!==this._u)}mu(e){for(const t of this.cu)if(t.timerId===e)return!0;return!1}fu(e){return this.Vu().then((()=>{this.cu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.cu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Vu()}))}gu(e){this.Iu.push(e)}Ru(e){const t=this.cu.indexOf(e);this.cu.splice(t,1)}}function Wb(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Gb{constructor(){this._progressObserver={},this._taskCompletionResolver=new Oc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Kb extends jb{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Hb,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Qb(this),this._firestoreClient.terminate()}}function Yb(e){return e._firestoreClient||Qb(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Qb(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new kd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Eb(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new ub(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Xb(e,t,n){const r=new Oc;return e.asyncQueue.enqueue((async()=>{try{await db(e,n),await hb(e,t),r.resolve()}catch(e){const n=e;if(!fb(n))throw n;Ec("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function $b(e){return function(e){const t=new Oc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Nc(e);Ay(n.remoteStore)||Sc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Nc(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ba.get(e)||[];r.push(t),n.Ba.set(e,r)}catch(e){const n=Zy(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await bb(e),t))),t.promise}(Yb(e=Ob(e,Kb)))}function Jb(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await gb(e),n=await vb(e);return t.setNetworkEnabled(!0),function(e){const t=Nc(e);return t.N_.delete(0),Sy(t)}(n)}))}(Yb(e=Ob(e,Kb)))}function Zb(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await gb(e),n=await vb(e);return t.setNetworkEnabled(!1),async function(e){const t=Nc(e);t.N_.add(0),await ky(t),t.k_.set("Offline")}(n)}))}(Yb(e=Ob(e,Kb)))}function ew(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Nc(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Wr.getNamedQuery(e,t)))}(await yb(e),t)))}(Yb(e=Ob(e,Kb)),t).then((t=>t?new Mb(e,null,t.query):null))}function tw(e){if(e._initialized||e._terminated)throw new Ac(Pc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class nw{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nw(gd.fromBase64String(e))}catch(e){throw new Ac(Pc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new nw(gd.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class rw{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Ac(Pc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $c(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class iw{constructor(e){this._methodName=e}}class sw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ac(Pc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ac(Pc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qc(this._lat,e._lat)||qc(this._long,e._long)}}const ow=/^__.*__$/;class aw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Of(e,this.data,this.fieldMask,t,this.fieldTransforms):new Af(e,this.data,t,this.fieldTransforms)}}class lw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Of(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Cc()}}class uw{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.pu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new uw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.wu({path:n,bu:!1});return r.Du(e),r}Cu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.wu({path:n,bu:!1});return r.pu(),r}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return Pw(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(0===e.length)throw this.Fu("Document fields must not be empty");if(cw(this.yu)&&ow.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}}class dw{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||my(e)}Ou(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new uw({yu:e,methodName:t,xu:n,path:$c.emptyPath(),bu:!1,Mu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hw(e){const t=e._freezeSettings(),n=my(e._databaseId);return new dw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function fw(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Ou(s.merge||s.mergeFields?2:0,t,n,i);Tw("Data must be an object, but it was:",o,r);const a=kw(r,o);let l,c;if(s.merge)l=new pd(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Cw(t,r,n);if(!o.contains(i))throw new Ac(Pc.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Aw(e,i)||e.push(i)}l=new pd(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new aw(new Kd(a),l,c)}class pw extends iw{_toFieldTransform(e){if(2!==e.yu)throw 1===e.yu?e.Fu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Fu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pw}}function mw(e,t,n){return new uw({yu:3,xu:t.settings.xu,methodName:e._methodName,bu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class gw extends iw{_toFieldTransform(e){return new _f(e.path,new ff)}isEqual(e){return e instanceof gw}}class yw extends iw{constructor(e,t){super(e),this.Nu=t}_toFieldTransform(e){const t=mw(this,e,!0),n=this.Nu.map((e=>Sw(e,t))),r=new pf(n);return new _f(e.path,r)}isEqual(e){return e instanceof yw&&Ut(this.Nu,e.Nu)}}class vw extends iw{constructor(e,t){super(e),this.Nu=t}_toFieldTransform(e){const t=mw(this,e,!0),n=this.Nu.map((e=>Sw(e,t))),r=new gf(n);return new _f(e.path,r)}isEqual(e){return e instanceof vw&&Ut(this.Nu,e.Nu)}}class bw extends iw{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=new vf(e.serializer,lf(e.serializer,this.Lu));return new _f(e.path,t)}isEqual(e){return e instanceof bw&&this.Lu===e.Lu}}function ww(e,t,n,r){const i=e.Ou(1,t,n);Tw("Data must be an object, but it was:",i,r);const s=[],o=Kd.empty();od(r,((e,r)=>{const a=Nw(t,e,n);r=tn(r);const l=i.Cu(a);if(r instanceof pw)s.push(a);else{const e=Sw(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new pd(s);return new lw(o,a,i.fieldTransforms)}function _w(e,t,n,r,i,s){const o=e.Ou(1,t,n),a=[Cw(t,r,n)],l=[i];if(s.length%2!=0)throw new Ac(Pc.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)a.push(Cw(t,s[h])),l.push(s[h+1]);const c=[],u=Kd.empty();for(let h=a.length-1;h>=0;--h)if(!Aw(c,a[h])){const e=a[h];let t=l[h];t=tn(t);const n=o.Cu(e);if(t instanceof pw)c.push(e);else{const r=Sw(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new pd(c);return new lw(u,d,o.fieldTransforms)}function xw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Sw(n,e.Ou(r?4:3,t))}function Sw(e,t){if(Ew(e=tn(e)))return Tw("Unsupported field value:",t,e),kw(e,t);if(e instanceof iw)return function(e,t){if(!cw(t.yu))throw t.Fu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Fu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.bu&&4!==t.yu)throw t.Fu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Sw(i,t.vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=tn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return lf(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Gc.fromDate(e);return{timestampValue:fp(t.serializer,n)}}if(e instanceof Gc){const n=new Gc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:fp(t.serializer,n)}}if(e instanceof sw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof nw)return{bytesValue:pp(t.serializer,e._byteString)};if(e instanceof Fb){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:yp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fu("Unsupported field value: ".concat(Ab(e)))}(e,t)}function kw(e,t){const n={};return ad(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):od(e,((e,r)=>{const i=Sw(r,t.Su(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ew(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Gc||e instanceof sw||e instanceof nw||e instanceof Fb||e instanceof iw)}function Tw(e,t,n){if(!Ew(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Ab(n);throw"an object"===r?t.Fu(e+" a custom object"):t.Fu(e+" "+r)}}function Cw(e,t,n){if((t=tn(t))instanceof rw)return t._internalPath;if("string"==typeof t)return Nw(e,t);throw Pw("Field path arguments must be of type string or ",e,!1,void 0,n)}const Iw=new RegExp("[~\\*/\\[\\]]");function Nw(e,t,n){if(t.search(Iw)>=0)throw Pw("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new rw(...t.split("."))._internalPath}catch(oP){throw Pw("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Pw(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new Ac(Pc.INVALID_ARGUMENT,a+e+l)}function Aw(e,t){return e.some((e=>e.isEqual(t)))}class Ow{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Fb(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Rw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Rw extends Ow{data(){return super.data()}}function Dw(e,t){return"string"==typeof t?Nw(e,t):t instanceof rw?t._internalPath:t._delegate._internalPath}function jw(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ac(Pc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lw{}class Mw extends Lw{}function Fw(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Lw&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Vw)).length,n=e.filter((e=>e instanceof Uw)).length;if(t>1||t>0&&n>0)throw new Ac(Pc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class Uw extends Mw{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Uw(e,t,n)}_apply(e){const t=this._parse(e);return Yw(e._query,t),new Mb(e.firestore,e.converter,Lh(e._query,t))}_parse(e){const t=hw(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Ac(Pc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Kw(o,s);const t=[];for(const n of o)t.push(Gw(r,e,n));a={arrayValue:{values:t}}}else a=Gw(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Kw(o,s),a=xw(n,t,o,"in"===s||"not-in"===s);return nh.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Vw extends Lw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vw(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:rh.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Yw(n,i),n=Lh(n,i)}(e._query,t),new Mb(e.firestore,e.converter,Lh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class zw extends Mw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new zw(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Ac(Pc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ac(Pc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zd(t,n)}(e._query,this._field,this._direction);return new Mb(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ih(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Bw extends Mw{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Bw(e,t,n)}_apply(e){return new Mb(e.firestore,e.converter,Mh(e._query,this._limit,this._limitType))}}class qw extends Mw{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new qw(e,t,n)}_apply(e){const t=Ww(e,this.type,this._docOrFields,this._inclusive);return new Mb(e.firestore,e.converter,function(e,t){return new Ih(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Hw extends Mw{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Hw(e,t,n)}_apply(e){const t=Ww(e,this.type,this._docOrFields,this._inclusive);return new Mb(e.firestore,e.converter,function(e,t){return new Ih(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Ww(e,t,n,r){if(n[0]=tn(n[0]),n[0]instanceof Ow)return function(e,t,n,r,i){if(!r)throw new Ac(Pc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of Rh(e))if(o.field.isKeyField())s.push(jd(t,r.key));else{const e=r.data.field(o.field);if(_d(e))throw new Ac(Pc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Ac(Pc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new Xd(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=hw(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new Ac(Pc.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new Ac(Pc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!Oh(e)&&-1!==s.indexOf("/"))throw new Ac(Pc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(Qc.fromString(s));if(!Jc.isDocumentKey(n))throw new Ac(Pc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Jc(n);a.push(jd(t,i))}else{const e=xw(n,r,s);a.push(e)}}return new Xd(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Gw(e,t,n){if("string"==typeof(n=tn(n))){if(""===n)throw new Ac(Pc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Oh(t)&&-1!==n.indexOf("/"))throw new Ac(Pc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Qc.fromString(n));if(!Jc.isDocumentKey(r))throw new Ac(Pc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return jd(e,new Jc(r))}if(n instanceof Fb)return jd(e,n._key);throw new Ac(Pc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ab(n),"."))}function Kw(e,t){if(!Array.isArray(e)||0===e.length)throw new Ac(Pc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Yw(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Ac(Pc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ac(Pc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Qw{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Id(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Cc()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return od(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new sw(bd(e.latitude),bd(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=xd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Sd(e));default:return null}}convertTimestamp(e){const t=vd(e);return new Gc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Qc.fromString(e);Ic(zp(n));const r=new Ed(n.get(1),n.get(3)),i=new Jc(n.popFirst(5));return r.isEqual(t)||kc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Xw(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class $w extends Qw{constructor(e){super(),this.firestore=e}convertBytes(e){return new nw(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fb(this.firestore,null,t)}}class Jw{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zw extends Ow{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new e_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Dw("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class e_ extends Zw{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class t_{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Jw(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new e_(this._firestore,this._userDataWriter,n.key,n,new Jw(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ac(Pc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new e_(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Jw(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new e_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Jw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:n_(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function n_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Cc()}}function r_(e,t){return e instanceof Zw&&t instanceof Zw?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof t_&&t instanceof t_&&e._firestore===t._firestore&&qb(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class i_ extends Qw{constructor(e){super(),this.firestore=e}convertBytes(e){return new nw(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fb(this.firestore,null,t)}}function s_(e){e=Ob(e,Fb);const t=Ob(e.firestore,Kb),n=Yb(t),r=new i_(t);return function(e,t){const n=new Oc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Nc(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Ac(Pc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Zy(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await yb(e),t,n))),n.promise}(n,e._key).then((n=>new Zw(t,r,e._key,n,new Jw(null!==n&&n.hasLocalMutations,!0),e.converter)))}function o_(e){e=Ob(e,Mb);const t=Ob(e.firestore,Kb),n=Yb(t),r=new i_(t);return function(e,t){const n=new Oc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Hg(e,t,!0),i=new wv(t,r.Is),s=i.Va(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=Zy(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await yb(e),t,n))),n.promise}(n,e._query).then((n=>new t_(t,r,e,n)))}function a_(e,t,n){e=Ob(e,Fb);const r=Ob(e.firestore,Kb),i=Xw(e.converter,t,n);return d_(r,[fw(hw(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Sf.none())])}function l_(e,t,n){e=Ob(e,Fb);const r=Ob(e.firestore,Kb),i=hw(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=tn(t))||t instanceof rw?_w(i,"updateDoc",e._key,t,n,a):ww(i,"updateDoc",e._key,t),d_(r,[s.toMutation(e._key,Sf.exists(!0))])}function c_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=tn(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Wb(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Wb(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,d,h;if(e instanceof Fb)d=Ob(e.firestore,Kb),h=Ph(e._key.path),u={next:t=>{n[l]&&n[l](h_(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Ob(e,Mb);d=Ob(t.firestore,Kb),h=t._query;const r=new i_(d);u={next:e=>{n[l]&&n[l](new t_(d,r,t,e))},error:n[l+1],complete:n[l+2]},jw(e._query)}return function(e,t,n,r){const i=new ob(r),s=new fv(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>ov(await _b(e),s))),()=>{i.Ga(),e.asyncQueue.enqueueAndForget((async()=>av(await _b(e),s)))}}(Yb(d),h,c,u)}function u_(e,t){return function(e,t){const n=new ob(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Nc(e).J_.add(t),t.next()}(await _b(e),n))),()=>{n.Ga(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Nc(e).J_.delete(t)}(await _b(e),n)))}}(Yb(e=Ob(e,Kb)),Wb(t)?t:{next:t})}function d_(e,t){return function(e,t){const n=new Oc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=eb(e);try{const e=await function(e,t){const n=Nc(e),r=Gc.now(),i=t.reduce(((e,t)=>e.add(t.key)),nf());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Kh(),l=nf();return n.us.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Nf(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Of(e.key,t,Yd(t.value.mapValue),Sf.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Xh(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.La[e.currentUser.toKey()];r||(r=new ld(qc)),r=r.insert(t,n),e.La[e.currentUser.toKey()]=r}(r,e.batchId,n),await Bv(r,e.changes),await Uy(r.remoteStore)}catch(e){const t=Zy(e,"Failed to persist write");n.reject(t)}}(await bb(e),t,n))),n.promise}(Yb(e),t)}function h_(e,t,n){const r=n.docs.get(t._key),i=new i_(e);return new Zw(e,i,t._key,r,new Jw(n.hasPendingWrites,n.fromCache),t.converter)}const f_={maxAttempts:5};class p_{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hw(e)}set(e,t,n){this._verifyNotCommitted();const r=m_(e,this._firestore),i=Xw(r.converter,t,n),s=fw(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Sf.none())),this}update(e,t,n){this._verifyNotCommitted();const r=m_(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=tn(t))||t instanceof rw?_w(this._dataReader,"WriteBatch.update",r._key,t,n,o):ww(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Sf.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=m_(e,this._firestore);return this._mutations=this._mutations.concat(new Lf(t._key,Sf.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ac(Pc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function m_(e,t){if((e=tn(e)).firestore!==t)throw new Ac(Pc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class g_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=hw(e)}get(e){const t=m_(e,this._firestore),n=new $w(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Cc();const r=e[0];if(r.isFoundDocument())return new Ow(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Ow(this._firestore,n,t._key,null,t.converter);throw Cc()}))}set(e,t,n){const r=m_(e,this._firestore),i=Xw(r.converter,t,n),s=fw(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=m_(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=tn(t))||t instanceof rw?_w(this._dataReader,"Transaction.update",r._key,t,n,o):ww(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=m_(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=m_(e,this._firestore),n=new i_(this._firestore);return super.get(e).then((e=>new Zw(this._firestore,n,t._key,e._document,new Jw(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){wc=e}(xr),fr(new nn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new Kb(new Lc(e.getProvider("auth-internal")),new Vc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ac(Pc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ed(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ir(vc,"4.6.5",e),Ir(vc,"4.6.5","esm2017")}();function y_(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ac("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function v_(){if("undefined"===typeof Uint8Array)throw new Ac("unimplemented","Uint8Arrays are not available in this environment.")}function b_(){if("undefined"==typeof atob)throw new Ac("unimplemented","Blobs are unavailable in Firestore in this environment.")}class w_{constructor(e){this._delegate=e}static fromBase64String(e){return b_(),new w_(nw.fromBase64String(e))}static fromUint8Array(e){return v_(),new w_(nw.fromUint8Array(e))}toBase64(){return b_(),this._delegate.toBase64()}toUint8Array(){return v_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function __(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class x_{enableIndexedDbPersistence(e,t){return function(e,t){tw(e=Ob(e,Kb));const n=Yb(e);if(n._uninitializedComponentsProvider)throw new Ac(Pc.FAILED_PRECONDITION,"SDK cache is already specified.");Ec("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new ib;return Xb(n,i,new nb(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){tw(e=Ob(e,Kb));const t=Yb(e);if(t._uninitializedComponentsProvider)throw new Ac(Pc.FAILED_PRECONDITION,"SDK cache is already specified.");Ec("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new ib;return Xb(t,r,new rb(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Ac(Pc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Oc;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!fu.D())return Promise.resolve();const t=e+"main";await fu.delete(t)}(Og(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class S_{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ed||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Ec("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Lb(this._delegate,e,t,n)}enableNetwork(){return Jb(this._delegate)}disableNetwork(){return Zb(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Ib("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return $b(this._delegate)}onSnapshotsInSync(e){return u_(this._delegate,e)}get app(){if(!this._appCompat)throw new Ac("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new M_(this,Vb(this._delegate,e))}catch(IH){throw N_(IH,"collection()","Firestore.collection()")}}doc(e){try{return new I_(this,zb(this._delegate,e))}catch(IH){throw N_(IH,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new D_(this,function(e,t){if(e=Ob(e,jb),Cb("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ac(Pc.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Mb(e,null,function(e){return new Ih(Qc.emptyPath(),e)}(t))}(this._delegate,e))}catch(IH){throw N_(IH,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=Ob(e,Kb);const r=Object.assign(Object.assign({},f_),n);return function(e){if(e.maxAttempts<1)throw new Ac(Pc.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Oc;return e.asyncQueue.enqueueAndForget((async()=>{const i=await wb(e);new cb(e.asyncQueue,i,n,t,r).nu()})),r.promise}(Yb(e),(n=>t(new g_(e,n))),r)}(this._delegate,(t=>e(new E_(this,t))))}batch(){return Yb(this._delegate),new T_(new p_(this._delegate,(e=>d_(this._delegate,e))))}loadBundle(e){return function(e,t){const n=Yb(e=Ob(e,Kb)),r=new Gb;return kb(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return ew(this._delegate,e).then((e=>e?new D_(this,e):null))}}class k_ extends Qw{constructor(e){super(),this.firestore=e}convertBytes(e){return new w_(new nw(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return I_.forKey(t,this.firestore,null)}}class E_{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new k_(e)}get(e){const t=F_(e);return this._delegate.get(t).then((e=>new O_(this._firestore,new Zw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=F_(e);return n?(y_("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=F_(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=F_(e);return this._delegate.delete(t),this}}class T_{constructor(e){this._delegate=e}set(e,t,n){const r=F_(e);return n?(y_("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=F_(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=F_(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class C_{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new e_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new R_(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=C_.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new C_(e,new k_(e),t),r.set(t,i)),i}}C_.INSTANCES=new WeakMap;class I_{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new k_(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Ac("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new I_(t,new Fb(t._delegate,n,new Jc(e)))}static forKey(e,t,n){return new I_(t,new Fb(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new M_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new M_(this.firestore,Vb(this._delegate,e))}catch(IH){throw N_(IH,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=tn(e))instanceof Fb&&Bb(this._delegate,e)}set(e,t){t=y_("DocumentReference.set",t);try{return t?a_(this._delegate,e,t):a_(this._delegate,e)}catch(IH){throw N_(IH,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?l_(this._delegate,e):l_(this._delegate,e,t,...r)}catch(IH){throw N_(IH,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return d_(Ob(e.firestore,Kb),[new Lf(e._key,Sf.none())])}(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=P_(t),i=A_(t,(e=>new O_(this.firestore,new Zw(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return c_(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?s_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Ob(e,Fb);const t=Ob(e.firestore,Kb);return xb(Yb(t),e._key,{source:"server"}).then((n=>h_(t,e,n)))}(this._delegate):function(e){e=Ob(e,Fb);const t=Ob(e.firestore,Kb);return xb(Yb(t),e._key).then((n=>h_(t,e,n)))}(this._delegate),t.then((e=>new O_(this.firestore,new Zw(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new I_(this.firestore,e?this._delegate.withConverter(C_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function N_(e,t,n){return e.message=e.message.replace(t,n),e}function P_(e){for(const t of e)if("object"===typeof t&&!__(t))return t;return{}}function A_(e,t){var n,r;let i;return i=__(e[0])?e[0]:__(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class O_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new I_(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return r_(this._delegate,e._delegate)}}class R_ extends O_{data(e){const t=this._delegate.data(e);return this._delegate._converter||function(e){e||Cc()}(void 0!==t),t}}class D_{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new k_(e)}where(e,t,n){try{return new D_(this.firestore,Fw(this._delegate,function(e,t,n){const r=t,i=Dw("where",e);return Uw._create(i,r,n)}(e,t,n)))}catch(IH){throw N_(IH,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new D_(this.firestore,Fw(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Dw("orderBy",e);return zw._create(n,t)}(e,t)))}catch(IH){throw N_(IH,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new D_(this.firestore,Fw(this._delegate,function(e){return Rb("limit",e),Bw._create("limit",e,"F")}(e)))}catch(IH){throw N_(IH,"limit()","Query.limit()")}}limitToLast(e){try{return new D_(this.firestore,Fw(this._delegate,function(e){return Rb("limitToLast",e),Bw._create("limitToLast",e,"L")}(e)))}catch(IH){throw N_(IH,"limitToLast()","Query.limitToLast()")}}startAt(){try{return new D_(this.firestore,Fw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qw._create("startAt",t,!0)}(...arguments)))}catch(IH){throw N_(IH,"startAt()","Query.startAt()")}}startAfter(){try{return new D_(this.firestore,Fw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qw._create("startAfter",t,!1)}(...arguments)))}catch(IH){throw N_(IH,"startAfter()","Query.startAfter()")}}endBefore(){try{return new D_(this.firestore,Fw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Hw._create("endBefore",t,!1)}(...arguments)))}catch(IH){throw N_(IH,"endBefore()","Query.endBefore()")}}endAt(){try{return new D_(this.firestore,Fw(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Hw._create("endAt",t,!0)}(...arguments)))}catch(IH){throw N_(IH,"endAt()","Query.endAt()")}}isEqual(e){return qb(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?o_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Ob(e,Mb);const t=Ob(e.firestore,Kb),n=Yb(t),r=new i_(t);return Sb(n,e._query,{source:"server"}).then((n=>new t_(t,r,e,n)))}(this._delegate):function(e){e=Ob(e,Mb);const t=Ob(e.firestore,Kb),n=Yb(t),r=new i_(t);return jw(e._query),Sb(n,e._query).then((n=>new t_(t,r,e,n)))}(this._delegate),t.then((e=>new L_(this.firestore,new t_(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=P_(t),i=A_(t,(e=>new L_(this.firestore,new t_(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return c_(this._delegate,r,i)}withConverter(e){return new D_(this.firestore,e?this._delegate.withConverter(C_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class j_{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new R_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class L_{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new D_(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new R_(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new j_(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new R_(this._firestore,n))}))}isEqual(e){return r_(this._delegate,e._delegate)}}class M_ extends D_{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new I_(this.firestore,e):null}doc(e){try{return new I_(this.firestore,void 0===e?zb(this._delegate):zb(this._delegate,e))}catch(IH){throw N_(IH,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Ob(e.firestore,Kb),r=zb(e),i=Xw(e.converter,t);return d_(n,[fw(hw(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Sf.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new I_(this.firestore,e)))}isEqual(e){return Bb(this._delegate,e._delegate)}withConverter(e){return new M_(this.firestore,e?this._delegate.withConverter(C_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function F_(e){return Ob(e,Fb)}class U_{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new rw(...t)}static documentId(){return new U_($c.keyField().canonicalString())}isEqual(e){return(e=tn(e))instanceof rw&&this._delegate._internalPath.isEqual(e._internalPath)}}class V_{constructor(e){this._delegate=e}static serverTimestamp(){const e=new gw("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new V_(e)}static delete(){const e=new pw("deleteField");return e._methodName="FieldValue.delete",new V_(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yw("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new V_(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vw("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new V_(e)}static increment(e){const t=function(e){return new bw("increment",e)}(e);return t._methodName="FieldValue.increment",new V_(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const z_={Firestore:S_,GeoPoint:sw,Timestamp:Gc,Blob:w_,Transaction:E_,WriteBatch:T_,DocumentReference:I_,DocumentSnapshot:O_,Query:D_,QueryDocumentSnapshot:R_,QuerySnapshot:L_,CollectionReference:M_,FieldPath:U_,FieldValue:V_,setLogLevel:function(e){!function(e){_c.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new nn("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},z_)))}(e,((e,t)=>new S_(e,t,new x_))),e.registerVersion("@firebase/firestore-compat","0.3.34")}(Kr);const B_="firebasestorage.googleapis.com",q_="storageBucket";class H_ extends Nt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(K_(e),"Firebase Storage: ".concat(t," (").concat(K_(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,H_.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return K_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var W_,G_;function K_(e){return"storage/"+e}function Y_(){return new H_(W_.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Q_(){return new H_(W_.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function X_(){return new H_(W_.CANCELED,"User canceled the upload/download.")}function $_(){return new H_(W_.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function J_(e){return new H_(W_.INVALID_ARGUMENT,e)}function Z_(){return new H_(W_.APP_DELETED,"The Firebase app was deleted.")}function ex(e){return new H_(W_.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tx(e,t){return new H_(W_.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function nx(e){throw new H_(W_.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(W_||(W_={}));class rx{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=rx.makeFromUrl(e,t)}catch(IH){return new rx(e,"")}if(""===n.path)return n;throw r=e,new H_(W_.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===B_?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new rx(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new H_(W_.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class ix{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function sx(e){return"string"===typeof e||e instanceof String}function ox(e){return ax()&&e instanceof Blob}function ax(){return"undefined"!==typeof Blob}function lx(e,t,n,r){if(r<t)throw J_("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw J_("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function cx(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function ux(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function dx(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(G_||(G_={}));class hx{constructor(e,t,n,r,i,s,o,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new fx(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===G_.NO_ERROR,i=n.getStatus();if(!t||dx(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===G_.ABORT;return void e(!1,new fx(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new fx(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(IH){r(IH)}else if(null!==i){const e=Y_();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Z_():X_())}else{r(Q_())}};this.canceled_?t(0,new fx(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){s&&clearTimeout(s)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||o)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class fx{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function px(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function mx(){const e=px();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(ax())return new Blob(n);throw new H_(W_.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function gx(e){if("undefined"===typeof atob)throw t="base-64",new H_(W_.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const yx={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vx{constructor(e,t){this.data=e,this.contentType=t||null}}function bx(e,t){switch(e){case yx.RAW:return new vx(wx(t));case yx.BASE64:case yx.BASE64URL:return new vx(_x(e,t));case yx.DATA_URL:return new vx(function(e){const t=new xx(e);return t.base64?_x(yx.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(IH){throw tx(yx.DATA_URL,"Malformed data URL.")}return wx(t)}(t.rest)}(t),new xx(t).contentType)}throw Y_()}function wx(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function _x(e,t){switch(e){case yx.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw tx(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case yx.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw tx(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=gx(t)}catch(IH){if(IH.message.includes("polyfill"))throw IH;throw tx(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class xx{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw tx(yx.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Sx{constructor(e,t){let n=0,r="";ox(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(ox(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Sx(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Sx(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(ax()){const e=t.map((e=>e instanceof Sx?e.data_:e));return new Sx(mx.apply(null,e))}{const e=t.map((e=>sx(e)?bx(yx.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Sx(r,!0)}}uploadData(){return this.data_}}function kx(e){let t;try{t=JSON.parse(e)}catch(IH){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Ex(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Tx(e,t){return t}class Cx{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Tx}}let Ix=null;function Nx(){if(Ix)return Ix;const e=[];e.push(new Cx("bucket")),e.push(new Cx("generation")),e.push(new Cx("metageneration")),e.push(new Cx("name","fullPath",!0));const t=new Cx("name");t.xform=function(e,t){return function(e){return!sx(e)||e.length<2?e:Ex(e)}(t)},e.push(t);const n=new Cx("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Cx("timeCreated")),e.push(new Cx("updated")),e.push(new Cx("md5Hash",null,!0)),e.push(new Cx("cacheControl",null,!0)),e.push(new Cx("contentDisposition",null,!0)),e.push(new Cx("contentEncoding",null,!0)),e.push(new Cx("contentLanguage",null,!0)),e.push(new Cx("contentType",null,!0)),e.push(new Cx("metadata","customMetadata",!0)),Ix=e,Ix}function Px(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new rx(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Ax(e,t,n){const r=kx(t);if(null===r)return null;return Px(e,r,n)}function Ox(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const Rx="prefixes",Dx="items";function jx(e,t,n){const r=kx(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Rx])for(const i of n[Rx]){const n=i.replace(/\/$/,""),s=e._makeStorageReference(new rx(t,n));r.prefixes.push(s)}if(n[Dx])for(const i of n[Dx]){const n=e._makeStorageReference(new rx(t,i.name));r.items.push(n)}return r}(e,t,r)}class Lx{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Mx(e){if(!e)throw Y_()}function Fx(e,t){return function(n,r){const i=Ax(e,r,t);return Mx(null!==i),i}}function Ux(e,t){return function(n,r){const i=Ax(e,r,t);return Mx(null!==i),function(e,t,n,r){const i=kx(t);if(null===i)return null;if(!sx(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return cx("/b/"+o(i)+"/o/"+o(s),n,r)+ux({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Vx(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new H_(W_.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new H_(W_.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new H_(W_.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new H_(W_.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function zx(e){const t=Vx(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new H_(W_.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Bx(e,t,n){const r=cx(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new Lx(r,"GET",Fx(e,n),i);return s.errorHandler=zx(t),s}function qx(e,t,n,r,i){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=cx(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,l=new Lx(o,"GET",function(e,t){return function(n,r){const i=jx(e,t,r);return Mx(null!==i),i}}(e,t.bucket),a);return l.urlParams=s,l.errorHandler=Vx(t),l}function Hx(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Wx(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=Hx(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ox(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=Sx.getBlob(c,r,u);if(null===d)throw $_();const h={name:l.fullPath},f=cx(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new Lx(f,"POST",Fx(e,n),p);return m.urlParams=h,m.headers=o,m.body=d.uploadData(),m.errorHandler=Vx(t),m}class Gx{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function Kx(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(IH){Mx(!1)}return Mx(!!n&&-1!==(t||["active"]).indexOf(n)),n}const Yx=262144;function Qx(e,t,n,r,i,s,o,a){const l=new Gx(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new H_(W_.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const d=l.current,h=d+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(l.current)},m=r.slice(d,h);if(null===m)throw $_();const g=t.maxUploadRetryTime,y=new Lx(n,"POST",(function(e,n){const i=Kx(e,["active","final"]),o=l.current+u,a=r.size();let c;return c="final"===i?Fx(t,s)(e,n):null,new Gx(o,a,"final"===i,c)}),g);return y.headers=p,y.body=m.uploadData(),y.progressCallback=a||null,y.errorHandler=Vx(e),y}const Xx={STATE_CHANGED:"state_changed"},$x={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Jx(e){switch(e){case"running":case"pausing":case"canceling":return $x.RUNNING;case"paused":return $x.PAUSED;case"success":return $x.SUCCESS;case"canceled":return $x.CANCELED;default:return $x.ERROR}}class Zx{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function eS(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let tS=null;class nS{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=G_.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=G_.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=G_.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw nx("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nx("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nx("cannot .getStatus() before sending");try{return this.xhr_.status}catch(IH){return-1}}getResponse(){if(!this.sent_)throw nx("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nx("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class rS extends nS{initXhr(){this.xhr_.responseType="text"}}function iS(){return tS?tS():new rS}class sS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Nx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(W_.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(dx(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=Q_()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(W_.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o=Hx(t,r,i),a={name:o.fullPath},l=cx(s,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=Ox(o,n),d=e.maxUploadRetryTime,h=new Lx(l,"POST",(function(e){let t;Kx(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(IH){Mx(!1)}return Mx(sx(t)),t}),d);return h.urlParams=a,h.headers=c,h.body=u,h.errorHandler=Vx(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,iS,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new Lx(n,"POST",(function(e){const t=Kx(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(IH){Mx(!1)}n||Mx(!1);const i=Number(n);return Mx(!isNaN(i)),new Gx(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=Vx(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,iS,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=Yx*this._chunkMultiplier,t=new Gx(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=Qx(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(IH){return this._error=IH,void this._transition("error")}const o=this._ref.storage._makeRequest(s,iS,r,i,!1);this._request=o,o.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(Yx*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=Bx(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,iS,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=Wx(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,iS,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=X_(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Jx(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new Zx(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Jx(this._state)){case $x.SUCCESS:eS(this._resolve.bind(null,this.snapshot))();break;case $x.CANCELED:case $x.ERROR:eS(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Jx(this._state)){case $x.RUNNING:case $x.PAUSED:e.next&&eS(e.next.bind(e,this.snapshot))();break;case $x.SUCCESS:e.complete&&eS(e.complete.bind(e))();break;default:e.error&&eS(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class oS{constructor(e,t){this._service=e,this._location=t instanceof rx?t:rx.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new oS(e,t)}get root(){const e=new rx(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ex(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new rx(this._location.bucket,e);return new oS(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw ex(e)}}function aS(e){const t={prefixes:[],items:[]};return lS(e,t).then((()=>t))}async function lS(e,t,n){const r={pageToken:n},i=await cS(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await lS(e,t,i.nextPageToken)}function cS(e,t){null!=t&&"number"===typeof t.maxResults&&lx("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=qx(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,iS)}function uS(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=cx(t.fullServerUrl(),e.host,e._protocol),s=Ox(n,r),o=e.maxOperationRetryTime,a=new Lx(i,"PATCH",Fx(e,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=zx(t),a}(e.storage,e._location,t,Nx());return e.storage.makeRequestWithTokens(n,iS)}function dS(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=cx(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new Lx(r,"GET",Ux(e,n),i);return s.errorHandler=zx(t),s}(e.storage,e._location,Nx());return e.storage.makeRequestWithTokens(t,iS).then((e=>{if(null===e)throw new H_(W_.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function hS(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=cx(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Lx(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=zx(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,iS)}function fS(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new rx(e._location.bucket,n);return new oS(e.storage,r)}function pS(e,t){if(e instanceof yS){const n=e;if(null==n._bucket)throw new H_(W_.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+q_+"' property when initializing the app?");const r=new oS(n,n._bucket);return null!=t?pS(r,t):r}return void 0!==t?fS(e,t):e}function mS(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof yS)return new oS(e,t);throw J_("To use ref(service, url), the first argument must be a Storage instance.")}return pS(e,t)}function gS(e,t){const n=null===t||void 0===t?void 0:t[q_];return null==n?null:rx.makeFromBucketSpec(n,e)}class yS{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=B_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?rx.makeFromBucketSpec(r,this._host):gS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=rx.makeFromBucketSpec(this._url,e):this._bucket=gS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new oS(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new ix(Z_());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=ux(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new hx(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const vS="@firebase/storage",bS="0.12.6",wS="storage";function _S(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new sS(e,new Sx(t),n)}(e=tn(e),t,n)}function xS(e){return function(e){e._throwIfRoot("getMetadata");const t=Bx(e.storage,e._location,Nx());return e.storage.makeRequestWithTokens(t,iS)}(e=tn(e))}function SS(e,t){return mS(e=tn(e),t)}function kS(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:yt(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function ES(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new yS(r,i,s,n,xr)}fr(new nn(wS,ES,"PUBLIC").setMultipleInstances(!0)),Ir(vS,bS,""),Ir(vS,bS,"esm2017");class TS{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class CS{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new TS(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new TS(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new TS(e,this,this._ref)):{next:t.next?e=>t.next(new TS(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class IS{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new NS(e,this._service)))}get items(){return this._delegate.items.map((e=>new NS(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class NS{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return fS(e,t)}(this._delegate,e);return new NS(t,this.storage)}get root(){return new NS(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new NS(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new CS(_S(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yx.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=bx(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new CS(new sS(this._delegate,new Sx(r.data,!0),i),this)}listAll(){return function(e){return aS(e=tn(e))}(this._delegate).then((e=>new IS(e,this.storage)))}list(e){return function(e,t){return cS(e=tn(e),t)}(this._delegate,e||void 0).then((e=>new IS(e,this.storage)))}getMetadata(){return xS(this._delegate)}updateMetadata(e){return function(e,t){return uS(e=tn(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return dS(e=tn(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return hS(e=tn(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw ex(e)}}class PS{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(AS(e))throw J_("ref() expected a child path but got a URL, use refFromURL instead.");return new NS(SS(this._delegate,e),this)}refFromURL(e){if(!AS(e))throw J_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{rx.makeFromUrl(e,this._delegate.host)}catch(IH){throw J_("refFromUrl() expected a valid full URL but got an invalid one.")}return new NS(SS(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};kS(this._delegate,e,t,n)}}function AS(e){return/^[A-Za-z]+:\/\//.test(e)}function OS(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new PS(r,i)}!function(e){const t={TaskState:$x,TaskEvent:Xx,StringFormat:yx,Storage:PS,Reference:NS};e.INTERNAL.registerComponent(new nn("storage-compat",OS,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.9")}(Kr);const RS="@firebase/database",DS="1.0.7";let jS="";function LS(e){jS=e}class MS{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Rt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Ot(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class FS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return jt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const US=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new MS(t)}}catch(IH){}return new FS},VS=US("localStorage"),zS=US("sessionStorage"),BS=new fn("@firebase/database"),qS=function(){let e=1;return function(){return e++}}(),HS=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,rt(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Ht;n.update(t);const r=n.digest();return ot.encodeByteArray(r)},WS=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=WS.apply(null,n):e+="object"===typeof n?Rt(n):n,e+=" "}return e};let GS=null,KS=!0;const YS=function(e,t){rt(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(BS.logLevel=ln.VERBOSE,GS=BS.log.bind(BS),t&&zS.set("logging_enabled",!0)):"function"===typeof e?GS=e:(GS=null,zS.remove("logging_enabled"))},QS=function(){if(!0===KS&&(KS=!1,null===GS&&!0===zS.get("logging_enabled")&&YS(!0)),GS){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=WS.apply(null,t);GS(r)}},XS=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];QS(e,...n)}},$S=function(){const e="FIREBASE INTERNAL ERROR: "+WS(...arguments);BS.error(e)},JS=function(){const e="FIREBASE FATAL ERROR: ".concat(WS(...arguments));throw BS.error(e),new Error(e)},ZS=function(){const e="FIREBASE WARNING: "+WS(...arguments);BS.warn(e)},ek=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},tk="[MIN_NAME]",nk="[MAX_NAME]",rk=function(e,t){if(e===t)return 0;if(e===tk||t===nk)return-1;if(t===tk||e===nk)return 1;{const n=dk(e),r=dk(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},ik=function(e,t){return e===t?0:e<t?-1:1},sk=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Rt(t))},ok=function(e){if("object"!==typeof e||null===e)return Rt(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Rt(t[r]),n+=":",n+=ok(e[t[r]]);return n+="}",n},ak=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function lk(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const ck=function(e){rt(!ek(e),"Invalid JSON number");const t=1023;let n,r,i,s,o;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,i=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(o=0;o<64;o+=8){let e=parseInt(l.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const uk=new RegExp("^-?(0*)\\d{1,10}$"),dk=function(e){if(uk.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},hk=function(e){try{e()}catch(IH){setTimeout((()=>{const t=IH.stack||"";throw ZS("Exception was thrown by user callback.",t),IH}),Math.floor(0))}},fk=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class pk{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){ZS('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class mk{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(QS("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ZS(e)}}class gk{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}gk.OWNER="owner";const yk="5",vk=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,bk="ac",wk="websocket",_k="long_polling";class xk{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=VS.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&VS.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function Sk(e,t,n){let r;if(rt("string"===typeof t,"typeof type must == string"),rt("object"===typeof n,"typeof params must == object"),t===wk)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==_k)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return lk(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class kk{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;jt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return dt(void 0,this.counters_)}}const Ek={},Tk={};function Ck(e){const t=e.toString();return Ek[t]||(Ek[t]=new kk),Ek[t]}class Ik{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&hk((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Nk="start";class Pk{constructor(e,t,n,r,i,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=XS(e),this.stats_=Ck(t),this.urlFn=e=>(this.appCheckToken&&(e[bk]=this.appCheckToken),Sk(t,_k,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ik(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Tt()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ak((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s,o,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Nk)n.id=s,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Nk]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=yk,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[bk]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&vk.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Pk.forceAllow_=!0}static forceDisallow(){Pk.forceDisallow_=!0}static isAvailable(){return!Tt()&&(!!Pk.forceAllow_||!Pk.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Rt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=lt(t),r=ak(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Tt())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Rt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Ak{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Tt())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=qS(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Ak.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(IH){QS("frame writing exception"),IH.stack&&QS(IH.stack),QS(IH)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||QS("No IE domain setting required")}catch(IH){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){Tt()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{QS("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(IH){}}),Math.floor(1))}}let Ok=null;"undefined"!==typeof MozWebSocket?Ok=MozWebSocket:"undefined"!==typeof WebSocket&&(Ok=WebSocket);class Rk{constructor(e,t,n,r,i,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=XS(this.connId),this.stats_=Ck(t),this.connURL=Rk.connectionURL_(t,s,o,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={};return s.v=yk,!Tt()&&"undefined"!==typeof location&&location.hostname&&vk.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s[bk]=r),i&&(s.p=i),Sk(e,wk,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,VS.set("previous_websocket_failure",!0);try{let e;if(Tt()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(yk,"/").concat(jS,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyD5tp55i00gU3fRi3V1YxkO7W7CwtS9vqc",REACT_APP_FIREBASE_APP_ID:"1:874070302250:web:4c99074ef11f880a34ad53",REACT_APP_FIREBASE_AUTH_DOMAIN:"resep-masakan-cd019.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://resep-masakan-cd019-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-D6PE49J3C0",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"874070302250",REACT_APP_FIREBASE_PROJECT_ID:"resep-masakan-cd019",REACT_APP_FIREBASE_STORAGE_BUCKET:"resep-masakan-cd019.appspot.com",REACT_APP_RECAPTCHA_SITE_KEY:"A1699F1C-5079-45D5-83DF-85B097C6DD53"},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Ok(this.connURL,[],e)}catch(IH){this.log_("Error instantiating WebSocket.");const t=IH.message||IH.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Rk.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ok&&!Rk.forceDisallow_}static previouslyFailed(){return VS.isInMemoryStorage||!0===VS.get("previous_websocket_failure")}markConnectionHealthy(){VS.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Ot(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(rt(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Rt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=ak(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(IH){this.log_("Exception thrown from WebSocket.send():",IH.message||IH.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Rk.responsesRequiredToBeHealthy=2,Rk.healthyTimeout=3e4;class Dk{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Pk,Rk]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Rk&&Rk.isAvailable();let n=t&&!Rk.previouslyFailed();if(e.webSocketOnly&&(t||ZS("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Rk];else{const e=this.transports_=[];for(const t of Dk.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Dk.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Dk.globalTransportInitialized_=!1;class jk{constructor(e,t,n,r,i,s,o,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=XS("c:"+this.id+":"),this.transportManager_=new Dk(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=fk((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=sk("t",e),n=sk("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=sk("t",e),n=sk("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=sk("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?$S("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$S("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),yk!==n&&ZS("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),fk((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fk((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(VS.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Lk{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Mk{constructor(e){this.allowedEvents_=e,this.listeners_={},rt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){rt(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class Fk extends Mk{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||bt()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new Fk}getInitialEvent(e){return rt("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const Uk=32,Vk=768;class zk{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Bk(){return new zk("")}function qk(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Hk(e){return e.pieces_.length-e.pieceNum_}function Wk(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new zk(e.pieces_,t)}function Gk(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Kk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Yk(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new zk(t,0)}function Qk(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof zk)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new zk(n,0)}function Xk(e){return e.pieceNum_>=e.pieces_.length}function $k(e,t){const n=qk(e),r=qk(t);if(null===n)return t;if(n===r)return $k(Wk(e),Wk(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Jk(e,t){if(Hk(e)!==Hk(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Zk(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Hk(e)>Hk(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class eE{constructor(e,t){this.errorPrefix_=t,this.parts_=Kk(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Qt(this.parts_[n]);tE(this)}}function tE(e){if(e.byteLength_>Vk)throw new Error(e.errorPrefix_+"has a key path longer than "+Vk+" bytes ("+e.byteLength_+").");if(e.parts_.length>Uk)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Uk+") or object contains a cycle "+nE(e))}function nE(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class rE extends Mk{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new rE}getInitialEvent(e){return rt("visible"===e,"Unknown event type: "+e),[this.visible_]}}const iE=1e3;class sE extends Lk{constructor(e,t,n,r,i,s,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=sE.nextPersistentConnectionId_++,this.log_=XS("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=iE,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Tt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rE.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Fk.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Rt(i)),rt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new gt,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),rt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),rt(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const s=i.d,o=i.s;sE.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,s))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&jt(e,"w")){const n=Lt(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();ZS("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Dt(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Dt(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),rt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Rt(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):$S("Unrecognized action received from server: "+Rt(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){rt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=iE,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=iE,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=iE),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+sE.nextConnectionId_++,i=this.lastSessionId;let s=!1,o=null;const a=function(){o?o.close():(s=!0,n())},l=function(e){rt(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?QS("getToken() completed but was canceled"):(QS("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,o=new jk(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{ZS(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch($S){this.log_("Failed to get token: "+$S),s||(this.repoInfo_.nodeAdmin&&ZS($S),a())}}}interrupt(e){QS("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){QS("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Mt(this.interruptReasons_)&&(this.reconnectDelay_=iE,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>ok(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new zk(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){QS("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){QS("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Tt()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+jS.replace(/\./g,"-")]=1,bt()?e["framework.cordova"]=1:kt()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Fk.getInstance().currentlyOnline();return Mt(this.interruptReasons_)&&e}}sE.nextPersistentConnectionId_=0,sE.nextConnectionId_=0;class oE{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new oE(e,t)}}class aE{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new oE(tk,e),r=new oE(tk,t);return 0!==this.compare(n,r)}minPost(){return oE.MIN}}let lE;class cE extends aE{static get __EMPTY_NODE(){return lE}static set __EMPTY_NODE(e){lE=e}compare(e,t){return rk(e.name,t.name)}isDefinedOn(e){throw it("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return oE.MIN}maxPost(){return new oE(nk,lE)}makePost(e,t){return rt("string"===typeof e,"KeyIndex indexValue must always be a string."),new oE(e,lE)}toString(){return".key"}}const uE=new cE;class dE{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class hE{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:hE.RED,this.left=null!=r?r:fE.EMPTY_NODE,this.right=null!=i?i:fE.EMPTY_NODE}copy(e,t,n,r,i){return new hE(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return fE.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return fE.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,hE.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,hE.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}hE.RED=!0,hE.BLACK=!1;class fE{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fE.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new fE(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,hE.BLACK,null,null))}remove(e){return new fE(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,hE.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new dE(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new dE(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new dE(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new dE(this.root_,null,this.comparator_,!0,e)}}function pE(e,t){return rk(e.name,t.name)}function mE(e,t){return rk(e,t)}let gE;fE.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new hE(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const yE=function(e){return"number"===typeof e?"number:"+ck(e):"string:"+e},vE=function(e){if(e.isLeafNode()){const t=e.val();rt("string"===typeof t||"number"===typeof t||"object"===typeof t&&jt(t,".sv"),"Priority must be a string or number.")}else rt(e===gE||e.isEmpty(),"priority of unexpected type.");rt(e===gE||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let bE,wE,_E;class xE{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xE.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,rt(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),vE(this.priorityNode_)}static set __childrenNodeConstructor(e){bE=e}static get __childrenNodeConstructor(){return bE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new xE(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:xE.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Xk(e)?this:".priority"===qk(e)?this.priorityNode_:xE.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:xE.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=qk(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(rt(".priority"!==n||1===Hk(e),".priority must be the last token in a path"),this.updateImmediateChild(n,xE.__childrenNodeConstructor.EMPTY_NODE.updateChild(Wk(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+yE(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?ck(this.value_):this.value_,this.lazyHash_=HS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===xE.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof xE.__childrenNodeConstructor?-1:(rt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=xE.VALUE_TYPE_ORDER.indexOf(t),i=xE.VALUE_TYPE_ORDER.indexOf(n);return rt(r>=0,"Unknown leaf type: "+t),rt(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}xE.VALUE_TYPE_ORDER=["object","boolean","number","string"];const SE=new class extends aE{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?rk(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return oE.MIN}maxPost(){return new oE(nk,new xE("[PRIORITY-POST]",_E))}makePost(e,t){const n=wE(e);return new oE(t,new xE("[PRIORITY-POST]",n))}toString(){return".priority"}},kE=Math.log(2);class EE{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/kE,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const TE=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new hE(a,o.node,hE.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=i(t,l),u=i(l+1,r);return o=e[l],a=n?n(o):o,new hE(a,o.node,hE.BLACK,c,u)}},s=function(t){let r=null,s=null,o=e.length;const a=function(t,r){const s=o-t,a=o;o-=t;const c=i(s+1,a),u=e[s],d=n?n(u):u;l(new hE(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,hE.BLACK):(a(r,hE.BLACK),a(r,hE.RED))}return s}(new EE(e.length));return new fE(r||t,s)};let CE;const IE={};class NE{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return rt(IE&&SE,"ChildrenNode.ts has not been loaded"),CE=CE||new NE({".priority":IE},{".priority":SE}),CE}get(e){const t=Lt(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof fE?t:null}hasIndex(e){return jt(this.indexSet_,e.toString())}addIndex(e,t){rt(e!==uE,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(oE.Wrap);let s,o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();s=r?TE(n,e.getCompare()):IE;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=s,new NE(c,l)}addToIndexes(e,t){const n=Ft(this.indexes_,((n,r)=>{const i=Lt(this.indexSet_,r);if(rt(i,"Missing index implementation for "+r),n===IE){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(oE.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),TE(n,i.getCompare())}return IE}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new oE(e.name,r))),i.insert(e,e.node)}}));return new NE(n,this.indexSet_)}removeFromIndexes(e,t){const n=Ft(this.indexes_,(n=>{if(n===IE)return n;{const r=t.get(e.name);return r?n.remove(new oE(e.name,r)):n}}));return new NE(n,this.indexSet_)}}let PE;class AE{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&vE(this.priorityNode_),this.children_.isEmpty()&&rt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return PE||(PE=new AE(new fE(mE),null,NE.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||PE}updatePriority(e){return this.children_.isEmpty()?this:new AE(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?PE:t}}getChild(e){const t=qk(e);return null===t?this:this.getImmediateChild(t).getChild(Wk(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(rt(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new oE(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?PE:this.priorityNode_;return new AE(r,s,i)}}updateChild(e,t){const n=qk(e);if(null===n)return t;{rt(".priority"!==qk(e)||1===Hk(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Wk(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(SE,((s,o)=>{t[s]=o.val(e),n++,i&&AE.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+yE(this.getPriority().val())+":"),this.forEachChild(SE,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":HS(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new oE(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new oE(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new oE(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,oE.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,oE.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===OE?-1:0}withIndex(e){if(e===uE||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new AE(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===uE||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(SE),n=t.getIterator(SE);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===uE?null:this.indexMap_.get(e.toString())}}AE.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const OE=new class extends AE{constructor(){super(new fE(mE),AE.EMPTY_NODE,NE.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return AE.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(oE,{MIN:{value:new oE(tk,AE.EMPTY_NODE)},MAX:{value:new oE(nk,OE)}}),cE.__EMPTY_NODE=AE.EMPTY_NODE,xE.__childrenNodeConstructor=AE,gE=OE,function(e){_E=e}(OE);const RE=!0;function DE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return AE.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),rt(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new xE(e,DE(t))}if(e instanceof Array||!RE){let n=AE.EMPTY_NODE;return lk(e,((t,r)=>{if(jt(e,t)&&"."!==t.substring(0,1)){const e=DE(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(DE(t))}{const n=[];let r=!1;if(lk(e,((e,t)=>{if("."!==e.substring(0,1)){const i=DE(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new oE(e,i)))}})),0===n.length)return AE.EMPTY_NODE;const i=TE(n,pE,(e=>e.name),mE);if(r){const e=TE(n,SE.getCompare());return new AE(i,DE(t),new NE({".priority":e},{".priority":SE}))}return new AE(i,DE(t),NE.Default)}}!function(e){wE=e}(DE);class jE extends aE{constructor(e){super(),this.indexPath_=e,rt(!Xk(e)&&".priority"!==qk(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?rk(e.name,t.name):i}makePost(e,t){const n=DE(e),r=AE.EMPTY_NODE.updateChild(this.indexPath_,n);return new oE(t,r)}maxPost(){const e=AE.EMPTY_NODE.updateChild(this.indexPath_,OE);return new oE(nk,e)}toString(){return Kk(this.indexPath_,0).join("/")}}const LE=new class extends aE{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?rk(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return oE.MIN}maxPost(){return oE.MAX}makePost(e,t){const n=DE(e);return new oE(t,n)}toString(){return".value"}};function ME(e){return{type:"value",snapshotNode:e}}function FE(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function UE(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function VE(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class zE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=SE}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return rt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return rt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:tk}hasEnd(){return this.endSet_}getIndexEndValue(){return rt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return rt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:nk}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return rt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===SE}copy(){const e=new zE;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function BE(e){const t={};if(e.isDefault())return t;let n;if(e.index_===SE?n="$priority":e.index_===LE?n="$value":e.index_===uE?n="$key":(rt(e.index_ instanceof jE,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Rt(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Rt(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Rt(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Rt(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Rt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function qE(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==SE&&(t.i=e.index_.toString()),t}class HE extends Lk{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=XS("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(rt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=HE.getListenId_(e,n),o={};this.listens_[s]=o;const a=BE(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),Lt(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=HE.getListenId_(e,t);delete this.listens_[n]}get(e){const t=BE(e._queryParams),n=e._path.toString(),r=new gt;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,s]=r;i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+zt(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=Ot(a.responseText)}catch(IH){ZS("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&ZS("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))}}class WE{constructor(){this.rootNode_=AE.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function GE(){return{value:null,children:new Map}}function KE(e,t,n){if(Xk(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=qk(t);e.children.has(r)||e.children.set(r,GE());KE(e.children.get(r),t=Wk(t),n)}}function YE(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{YE(r,new zk(t.toString()+"/"+e),n)}))}class QE{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&lk(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class XE{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new QE(e);const n=1e4+2e4*Math.random();fk(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;lk(e,((e,r)=>{r>0&&jt(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),fk(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var $E;function JE(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}($E||($E={}));class ZE{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=$E.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Xk(this.path)){if(null!=this.affectedTree.value)return rt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new zk(e));return new ZE(Bk(),t,this.revert)}}return rt(qk(this.path)===e,"operationForChild called for unrelated child."),new ZE(Wk(this.path),this.affectedTree,this.revert)}}class eT{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=$E.OVERWRITE}operationForChild(e){return Xk(this.path)?new eT(this.source,Bk(),this.snap.getImmediateChild(e)):new eT(this.source,Wk(this.path),this.snap)}}class tT{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=$E.MERGE}operationForChild(e){if(Xk(this.path)){const t=this.children.subtree(new zk(e));return t.isEmpty()?null:t.value?new eT(this.source,Bk(),t.value):new tT(this.source,Bk(),t)}return rt(qk(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new tT(this.source,Wk(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class nT{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Xk(e))return this.isFullyInitialized()&&!this.filtered_;const t=qk(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function rT(e,t,n,r,i,s){const o=r.filter((e=>e.type===n));o.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw it("Should only compare child_ events.");const r=new oE(t.childName,t.snapshotNode),i=new oE(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),o.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function iT(e,t){return{eventCache:e,serverCache:t}}function sT(e,t,n,r){return iT(new nT(t,n,r),e.serverCache)}function oT(e,t,n,r){return iT(e.eventCache,new nT(t,n,r))}function aT(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function lT(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let cT;class uT{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(cT||(cT=new fE(ik)),cT);this.value=e,this.children=t}static fromObject(e){let t=new uT(null);return lk(e,((e,n)=>{t=t.set(new zk(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Bk(),value:this.value};if(Xk(e))return null;{const n=qk(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Wk(e),t);if(null!=i){return{path:Qk(new zk(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(Xk(e))return this;{const t=qk(e),n=this.children.get(t);return null!==n?n.subtree(Wk(e)):new uT(null)}}set(e,t){if(Xk(e))return new uT(t,this.children);{const n=qk(e),r=(this.children.get(n)||new uT(null)).set(Wk(e),t),i=this.children.insert(n,r);return new uT(this.value,i)}}remove(e){if(Xk(e))return this.children.isEmpty()?new uT(null):new uT(null,this.children);{const t=qk(e),n=this.children.get(t);if(n){const r=n.remove(Wk(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new uT(null):new uT(this.value,i)}return this}}get(e){if(Xk(e))return this.value;{const t=qk(e),n=this.children.get(t);return n?n.get(Wk(e)):null}}setTree(e,t){if(Xk(e))return t;{const n=qk(e),r=(this.children.get(n)||new uT(null)).setTree(Wk(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new uT(this.value,i)}}fold(e){return this.fold_(Bk(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(Qk(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Bk(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Xk(e))return null;{const r=qk(e),i=this.children.get(r);return i?i.findOnPath_(Wk(e),Qk(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Bk(),t)}foreachOnPath_(e,t,n){if(Xk(e))return this;{this.value&&n(t,this.value);const r=qk(e),i=this.children.get(r);return i?i.foreachOnPath_(Wk(e),Qk(t,r),n):new uT(null)}}foreach(e){this.foreach_(Bk(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(Qk(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class dT{constructor(e){this.writeTree_=e}static empty(){return new dT(new uT(null))}}function hT(e,t,n){if(Xk(t))return new dT(new uT(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=$k(i,t);return s=s.updateChild(o,n),new dT(e.writeTree_.set(i,s))}{const r=new uT(n),i=e.writeTree_.setTree(t,r);return new dT(i)}}}function fT(e,t,n){let r=e;return lk(n,((e,n)=>{r=hT(r,Qk(t,e),n)})),r}function pT(e,t){if(Xk(t))return dT.empty();{const n=e.writeTree_.setTree(t,new uT(null));return new dT(n)}}function mT(e,t){return null!=gT(e,t)}function gT(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild($k(n.path,t)):null}function yT(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(SE,((e,n)=>{t.push(new oE(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new oE(e,n.value))})),t}function vT(e,t){if(Xk(t))return e;{const n=gT(e,t);return new dT(null!=n?new uT(n):e.writeTree_.subtree(t))}}function bT(e){return e.writeTree_.isEmpty()}function wT(e,t){return _T(Bk(),e.writeTree_,t)}function _T(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(rt(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=_T(Qk(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Qk(e,".priority"),r)),n}}function xT(e,t){return jT(t,e)}function ST(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));rt(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&kT(t,r.path)?i=!1:Zk(r.path,t.path)&&(s=!0)),o--}if(i){if(s)return function(e){e.visibleWrites=TT(e.allWrites,ET,Bk()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=pT(e.visibleWrites,r.path);else{lk(r.children,(t=>{e.visibleWrites=pT(e.visibleWrites,Qk(r.path,t))}))}return!0}return!1}function kT(e,t){if(e.snap)return Zk(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Zk(Qk(e.path,n),t))return!0;return!1}function ET(e){return e.visible}function TT(e,t,n){let r=dT.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)Zk(n,e)?(t=$k(n,e),r=hT(r,t,s.snap)):Zk(e,n)&&(t=$k(e,n),r=hT(r,Bk(),s.snap.getChild(t)));else{if(!s.children)throw it("WriteRecord should have .snap or .children");if(Zk(n,e))t=$k(n,e),r=fT(r,t,s.children);else if(Zk(e,n))if(t=$k(e,n),Xk(t))r=fT(r,Bk(),s.children);else{const e=Lt(s.children,qk(t));if(e){const n=e.getChild(Wk(t));r=hT(r,Bk(),n)}}}}}return r}function CT(e,t,n,r,i){if(r||i){const s=vT(e.visibleWrites,t);if(!i&&bT(s))return n;if(i||null!=n||mT(s,Bk())){const s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Zk(e.path,t)||Zk(t,e.path))};return wT(TT(e.allWrites,s,t),n||AE.EMPTY_NODE)}return null}{const r=gT(e.visibleWrites,t);if(null!=r)return r;{const r=vT(e.visibleWrites,t);if(bT(r))return n;if(null!=n||mT(r,Bk())){return wT(r,n||AE.EMPTY_NODE)}return null}}}function IT(e,t,n,r){return CT(e.writeTree,e.treePath,t,n,r)}function NT(e,t){return function(e,t,n){let r=AE.EMPTY_NODE;const i=gT(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(SE,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=vT(e.visibleWrites,t);return n.forEachChild(SE,((e,t)=>{const n=wT(vT(i,new zk(e)),t);r=r.updateImmediateChild(e,n)})),yT(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return yT(vT(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function PT(e,t,n,r){return function(e,t,n,r,i){rt(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Qk(t,n);if(mT(e.visibleWrites,s))return null;{const t=vT(e.visibleWrites,s);return bT(t)?i.getChild(n):wT(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function AT(e,t){return function(e,t){return gT(e.visibleWrites,t)}(e.writeTree,Qk(e.treePath,t))}function OT(e,t,n,r,i,s){return function(e,t,n,r,i,s,o){let a;const l=vT(e.visibleWrites,t),c=gT(l,Bk());if(null!=c)a=c;else{if(null==n)return[];a=wT(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,s)}function RT(e,t,n){return function(e,t,n,r){const i=Qk(t,n),s=gT(e.visibleWrites,i);if(null!=s)return s;if(r.isCompleteForChild(n))return wT(vT(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function DT(e,t){return jT(Qk(e.treePath,t),e.writeTree)}function jT(e,t){return{treePath:e,writeTree:t}}class LT{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;rt("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),rt(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,VE(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,UE(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,FE(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw it("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,VE(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const MT=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class FT{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new nT(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return RT(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:lT(this.viewCache_),i=OT(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function UT(e,t,n,r,i){const s=new LT;let o,a;if(n.type===$E.OVERWRITE){const l=n;l.source.fromUser?o=BT(e,t,l.path,l.snap,r,i,s):(rt(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Xk(l.path),o=zT(e,t,l.path,l.snap,r,i,a,s))}else if(n.type===$E.MERGE){const l=n;l.source.fromUser?o=function(e,t,n,r,i,s,o){let a=t;return r.foreach(((r,l)=>{const c=Qk(n,r);qT(t,qk(c))&&(a=BT(e,a,c,l,i,s,o))})),r.foreach(((r,l)=>{const c=Qk(n,r);qT(t,qk(c))||(a=BT(e,a,c,l,i,s,o))})),a}(e,t,l.path,l.children,r,i,s):(rt(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=WT(e,t,l.path,l.children,r,i,a,s))}else if(n.type===$E.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,r,i,s){let o;if(null!=AT(r,n))return t;{const a=new FT(r,t,i),l=t.eventCache.getNode();let c;if(Xk(n)||".priority"===qk(n)){let n;if(t.serverCache.isFullyInitialized())n=IT(r,lT(t));else{const e=t.serverCache.getNode();rt(e instanceof AE,"serverChildren would be complete if leaf node"),n=NT(r,e)}c=e.filter.updateFullNode(l,n,s)}else{const i=qk(n);let u=RT(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,Wk(n),a,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,AE.EMPTY_NODE,Wk(n),a,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=IT(r,lT(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=AT(r,Bk()),sT(t,c,o,e.filter.filtersNodes())}}(e,t,a.path,r,i,s):function(e,t,n,r,i,s,o){if(null!=AT(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Xk(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return zT(e,t,n,l.getNode().getChild(n),i,s,a,o);if(Xk(n)){let r=new uT(null);return l.getNode().forEachChild(uE,((e,t)=>{r=r.set(new zk(e),t)})),WT(e,t,n,r,i,s,a,o)}return t}{let c=new uT(null);return r.foreach(((e,t)=>{const r=Qk(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),WT(e,t,n,c,i,s,a,o)}}(e,t,a.path,a.affectedTree,r,i,s)}else{if(n.type!==$E.LISTEN_COMPLETE)throw it("Unknown operation type: "+n.type);o=function(e,t,n,r,i){const s=t.serverCache,o=oT(t,s.getNode(),s.isFullyInitialized()||Xk(n),s.isFiltered());return VT(e,o,n,r,MT,i)}(e,t,n.path,r,s)}const l=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=aT(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(ME(aT(t)))}}(t,o,l),{viewCache:o,changes:l}}function VT(e,t,n,r,i,s){const o=t.eventCache;if(null!=AT(r,n))return t;{let a,l;if(Xk(n))if(rt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=lT(t),i=NT(r,n instanceof AE?n:AE.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=IT(r,lT(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=qk(n);if(".priority"===c){rt(1===Hk(n),"Can't have a priority with additional path components");const i=o.getNode();l=t.serverCache.getNode();const s=PT(r,n,i,l);a=null!=s?e.filter.updatePriority(i,s):o.getNode()}else{const u=Wk(n);let d;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const e=PT(r,n,o.getNode(),l);d=null!=e?o.getNode().getImmediateChild(c).updateChild(u,e):o.getNode().getImmediateChild(c)}else d=RT(r,c,t.serverCache);a=null!=d?e.filter.updateChild(o.getNode(),c,d,u,i,s):o.getNode()}}return sT(t,a,o.isFullyInitialized()||Xk(n),e.filter.filtersNodes())}}function zT(e,t,n,r,i,s,o,a){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(Xk(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=qk(n);if(!l.isCompleteForPath(n)&&Hk(n)>1)return t;const i=Wk(n),s=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,i,MT,null)}const d=oT(t,c,l.isFullyInitialized()||Xk(n),u.filtersNodes());return VT(e,d,n,i,new FT(i,d,s),a)}function BT(e,t,n,r,i,s,o){const a=t.eventCache;let l,c;const u=new FT(i,t,s);if(Xk(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=sT(t,c,!0,e.filter.filtersNodes());else{const i=qk(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=sT(t,c,a.isFullyInitialized(),a.isFiltered());else{const s=Wk(n),c=a.getNode().getImmediateChild(i);let d;if(Xk(s))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===Gk(s)&&e.getChild(Yk(s)).isEmpty()?e:e.updateChild(s,r):AE.EMPTY_NODE}if(c.equals(d))l=t;else{l=sT(t,e.filter.updateChild(a.getNode(),i,d,s,u,o),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function qT(e,t){return e.eventCache.isCompleteForChild(t)}function HT(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function WT(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Xk(n)?r:new uT(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=HT(0,t.serverCache.getNode().getImmediateChild(n),r);c=zT(e,c,new zk(n),l,i,s,o,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=HT(0,t.serverCache.getNode().getImmediateChild(n),r);c=zT(e,c,new zk(n),l,i,s,o,a)}})),c}function GT(e,t){const n=lT(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Xk(t)&&!n.getImmediateChild(qk(t)).isEmpty())?n.getChild(t):null}function KT(e,t,n,r){t.type===$E.MERGE&&null!==t.source.queryId&&(rt(lT(e.viewCache_),"We should always have a full cache before handling merges"),rt(aT(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=UT(e.processor_,i,t,n,r);var o,a;return o=e.processor_,a=s.viewCache,rt(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),rt(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),rt(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,YT(e,s.changes,s.viewCache.eventCache.getNode(),null)}function YT(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],s=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),rT(e,i,"child_removed",t,r,n),rT(e,i,"child_added",t,r,n),rT(e,i,"child_moved",s,r,n),rT(e,i,"child_changed",t,r,n),rT(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let QT,XT;function $T(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return rt(null!=s,"SyncTree gave us an op for an invalid query."),KT(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(KT(s,t,n,r));return i}}function JT(e,t){let n=null;for(const r of e.views.values())n=n||GT(r,t);return n}class ZT{constructor(e){this.listenProvider_=e,this.syncPointTree_=new uT(null),this.pendingWriteTree_={visibleWrites:dT.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function eC(e,t,n,r,i){return function(e,t,n,r,i){rt(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=hT(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?sC(e,new eT({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function tC(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(ST(e.pendingWriteTree_,t)){let t=new uT(null);return null!=r.snap?t=t.set(Bk(),!0):lk(r.children,(e=>{t=t.set(new zk(e),!0)})),sC(e,new ZE(r.path,t,n))}return[]}function nC(e,t,n){return sC(e,new eT({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function rC(e,t,n,r){const i=lC(e,r);if(null!=i){const r=cC(i),s=r.path,o=r.queryId,a=$k(s,t);return uC(e,s,new eT(JE(o),a,n))}return[]}function iC(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=JT(n,$k(e,t));if(r)return r}));return CT(r,t,i,n,!0)}function sC(e,t){return oC(t,e.syncPointTree_,null,xT(e.pendingWriteTree_,Bk()))}function oC(e,t,n,r){if(Xk(e.path))return aC(e,t,n,r);{const i=t.get(Bk());null==n&&null!=i&&(n=JT(i,Bk()));let s=[];const o=qk(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=DT(r,o);s=s.concat(oC(a,l,e,t))}return i&&(s=s.concat($T(i,e,r,n))),s}}function aC(e,t,n,r){const i=t.get(Bk());null==n&&null!=i&&(n=JT(i,Bk()));let s=[];return t.children.inorderTraversal(((t,i)=>{const o=n?n.getImmediateChild(t):null,a=DT(r,t),l=e.operationForChild(t);l&&(s=s.concat(aC(l,i,o,a)))})),i&&(s=s.concat($T(i,e,r,n))),s}function lC(e,t){return e.tagToQueryMap.get(t)}function cC(e){const t=e.indexOf("$");return rt(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new zk(e.substr(0,t))}}function uC(e,t,n){const r=e.syncPointTree_.get(t);rt(r,"Missing sync point for query tag that we're tracking");return $T(r,n,xT(e.pendingWriteTree_,t),null)}class dC{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new dC(t)}node(){return this.node_}}class hC{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Qk(this.path_,e);return new hC(this.syncTree_,t)}node(){return iC(this.syncTree_,this.path_)}}const fC=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},pC=function(e,t,n){return e&&"object"===typeof e?(rt(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?mC(e[".sv"],t,n):"object"===typeof e[".sv"]?gC(e[".sv"],t):void rt(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},mC=function(e,t,n){if("timestamp"===e)return n.timestamp;rt(!1,"Unexpected server value: "+e)},gC=function(e,t,n){e.hasOwnProperty("increment")||rt(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&rt(!1,"Unexpected increment value: "+r);const i=t.node();if(rt(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!==typeof s?r:s+r},yC=function(e,t,n,r){return bC(t,new hC(n,e),r)},vC=function(e,t,n){return bC(e,new dC(t),n)};function bC(e,t,n){const r=e.getPriority().val(),i=pC(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=pC(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new xE(s,DE(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new xE(i))),r.forEachChild(SE,((e,r)=>{const i=bC(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))})),s}}class wC{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function _C(e,t){let n=t instanceof zk?t:new zk(t),r=e,i=qk(n);for(;null!==i;){const e=Lt(r.node.children,i)||{children:{},childCount:0};r=new wC(i,r,e),n=Wk(n),i=qk(n)}return r}function xC(e){return e.node.value}function SC(e,t){e.node.value=t,IC(e)}function kC(e){return e.node.childCount>0}function EC(e,t){lk(e.node.children,((n,r)=>{t(new wC(n,e,r))}))}function TC(e,t,n,r){n&&!r&&t(e),EC(e,(e=>{TC(e,t,!0,r)})),n&&r&&t(e)}function CC(e){return new zk(null===e.parent?e.name:CC(e.parent)+"/"+e.name)}function IC(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===xC(e)&&!kC(e)}(n),i=jt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,IC(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,IC(e))}(e.parent,e.name,e)}const NC=/[\[\].#$\/\u0000-\u001F\u007F]/,PC=/[\[\].#$\u0000-\u001F\u007F]/,AC=10485760,OC=function(e){return"string"===typeof e&&0!==e.length&&!NC.test(e)},RC=function(e){return"string"===typeof e&&0!==e.length&&!PC.test(e)},DC=function(e,t,n){const r=n instanceof zk?new eE(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+nE(r));if("function"===typeof t)throw new Error(e+"contains a function "+nE(r)+" with contents = "+t.toString());if(ek(t))throw new Error(e+"contains "+t.toString()+" "+nE(r));if("string"===typeof t&&t.length>AC/3&&Qt(t)>AC)throw new Error(e+"contains a string greater than "+AC+" utf8 bytes "+nE(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(lk(t,((t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!OC(t)))throw new Error(e+" contains an invalid key ("+t+") "+nE(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Qt(t),tE(e)}(r,t),DC(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=Qt(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+nE(r)+" in addition to actual children.")}},jC=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!OC(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),RC(e)}(n))throw new Error(Yt(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class LC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function MC(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||Jk(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function FC(e,t,n){MC(e,n),UC(e,(e=>Zk(e,t)||Zk(t,e)))}function UC(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(VC(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function VC(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();GS&&QS("event: "+n.toString()),hk(r)}}}const zC="repo_interrupt",BC=25;class qC{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new LC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=GE(),this.transactionQueueTree_=new wC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function HC(e,t,n){if(e.stats_=Ck(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new HE(e.repoInfo_,((t,n,r,i)=>{KC(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>YC(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Rt(n)}catch(IH){throw new Error("Invalid authOverride provided: "+IH)}}e.persistentConnection_=new sE(e.repoInfo_,t,((t,n,r,i)=>{KC(e,t,n,r,i)}),(t=>{YC(e,t)}),(t=>{!function(e,t){lk(t,((t,n)=>{QC(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return Tk[n]||(Tk[n]=t()),Tk[n]}(e.repoInfo_,(()=>new XE(e.stats_,e.server_))),e.infoData_=new WE,e.infoSyncTree_=new ZT({startListening:(t,n,r,i)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=nC(e.infoSyncTree_,t._path,o),setTimeout((()=>{i("ok")}),0)),s},stopListening:()=>{}}),QC(e,"connected",!1),e.serverSyncTree_=new ZT({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const s=i(n,r);FC(e.eventQueue_,t._path,s)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function WC(e){const t=e.infoData_.getNode(new zk(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function GC(e){return fC({timestamp:WC(e)})}function KC(e,t,n,r,i){e.dataUpdateCount++;const s=new zk(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const t=Ft(n,(e=>DE(e)));o=function(e,t,n,r){const i=lC(e,r);if(i){const r=cC(i),s=r.path,o=r.queryId,a=$k(s,t),l=uT.fromObject(n);return uC(e,s,new tT(JE(o),a,l))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=DE(n);o=rC(e.serverSyncTree_,s,t,i)}else if(r){const t=Ft(n,(e=>DE(e)));o=function(e,t,n){const r=uT.fromObject(n);return sC(e,new tT({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=DE(n);o=nC(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=tI(e,s)),FC(e.eventQueue_,a,o)}function YC(e,t){QC(e,"connected",t),!1===t&&function(e){JC(e,"onDisconnectEvents");const t=GC(e),n=GE();YE(e.onDisconnect_,Bk(),((r,i)=>{const s=yC(r,i,e.serverSyncTree_,t);KE(n,r,s)}));let r=[];YE(n,Bk(),((t,n)=>{r=r.concat(nC(e.serverSyncTree_,t,n));const i=oI(e,t);tI(e,i)})),e.onDisconnect_=GE(),FC(e.eventQueue_,Bk(),r)}(e)}function QC(e,t,n){const r=new zk("/.info/"+t),i=DE(n);e.infoData_.updateSnapshot(r,i);const s=nC(e.infoSyncTree_,r,i);FC(e.eventQueue_,r,s)}function XC(e){return e.nextWriteId_++}function $C(e){e.persistentConnection_&&e.persistentConnection_.interrupt(zC)}function JC(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];QS(t,...r)}function ZC(e,t,n){return iC(e.serverSyncTree_,t,n)||AE.EMPTY_NODE}function eI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||sI(e,t),xC(t)){const n=rI(e,t);rt(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=ZC(e,t,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const e=n[c];rt(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=$k(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{JC(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(tC(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();sI(e,_C(e.transactionQueueTree_,t)),eI(e,e.transactionQueueTree_),FC(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)hk(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{ZS("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}tI(e,t)}}),o)}(e,CC(t),n)}else kC(t)&&EC(t,(t=>{eI(e,t)}))}function tI(e,t){const n=nI(e,t),r=CC(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter((e=>0===e.status)),o=s.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const s=t[l],c=$k(n,s.path);let u,d=!1;if(rt(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)d=!0,u=s.abortReason,i=i.concat(tC(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=BC)d=!0,u="maxretry",i=i.concat(tC(e.serverSyncTree_,s.currentWriteId,!0));else{const n=ZC(e,s.path,o);s.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){DC("transaction failed: Data returned ",r,s.path);let t=DE(r);"object"===typeof r&&null!=r&&jt(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=s.currentWriteId,l=GC(e),c=vC(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=c,s.currentWriteId=XC(e),o.splice(o.indexOf(a),1),i=i.concat(eC(e.serverSyncTree_,s.path,c,s.currentWriteId,s.applyLocally)),i=i.concat(tC(e.serverSyncTree_,a,!0))}else d=!0,u="nodata",i=i.concat(tC(e.serverSyncTree_,s.currentWriteId,!0))}FC(e.eventQueue_,n,i),i=[],d&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===u?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var a;sI(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)hk(r[l]);eI(e,e.transactionQueueTree_)}(e,rI(e,n),r),r}function nI(e,t){let n,r=e.transactionQueueTree_;for(n=qk(t);null!==n&&void 0===xC(r);)r=_C(r,n),n=qk(t=Wk(t));return r}function rI(e,t){const n=[];return iI(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function iI(e,t,n){const r=xC(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);EC(t,(t=>{iI(e,t,n)}))}function sI(e,t){const n=xC(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,SC(t,n.length>0?n:void 0)}EC(t,(t=>{sI(e,t)}))}function oI(e,t){const n=CC(nI(e,t)),r=_C(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{aI(e,t)})),aI(e,r),TC(r,(t=>{aI(e,t)})),n}function aI(e,t){const n=xC(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(rt(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(rt(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(tC(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?SC(t,void 0):n.length=s+1,FC(e.eventQueue_,CC(t),i);for(let e=0;e<r.length;e++)hk(r[e])}}const lI=function(e,t){const n=cI(e),r=n.namespace;"firebase.com"===n.domain&&JS(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||JS("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ZS("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new xk(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new zk(n.pathString)}},cI=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(IH){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ZS("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in h&&(s=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},uI="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class dI{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Xk(this._path)?null:Gk(this._path)}get ref(){return new hI(this._repo,this._path)}get _queryIdentifier(){const e=qE(this._queryParams),t=ok(e);return"{}"===t?"default":t}get _queryObject(){return qE(this._queryParams)}isEqual(e){if(!((e=tn(e))instanceof dI))return!1;const t=this._repo===e._repo,n=Jk(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class hI extends dI{constructor(e,t){super(e,t,new zE,!1)}get parent(){const e=Yk(this._path);return null===e?null:new hI(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}!function(e){rt(!QT,"__referenceConstructor has already been defined"),QT=e}(hI),function(e){rt(!XT,"__referenceConstructor has already been defined"),XT=e}(hI);const fI="FIREBASE_DATABASE_EMULATOR_HOST",pI={};let mI=!1;function gI(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||JS("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),QS("Using default host for project ",e.options.projectId),s="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let o,a,l=lI(s,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyD5tp55i00gU3fRi3V1YxkO7W7CwtS9vqc",REACT_APP_FIREBASE_APP_ID:"1:874070302250:web:4c99074ef11f880a34ad53",REACT_APP_FIREBASE_AUTH_DOMAIN:"resep-masakan-cd019.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://resep-masakan-cd019-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-D6PE49J3C0",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"874070302250",REACT_APP_FIREBASE_PROJECT_ID:"resep-masakan-cd019",REACT_APP_FIREBASE_STORAGE_BUCKET:"resep-masakan-cd019.appspot.com",REACT_APP_RECAPTCHA_SITE_KEY:"A1699F1C-5079-45D5-83DF-85B097C6DD53"}[fI]),a?(o=!0,s="http://".concat(a,"?ns=").concat(c.namespace),l=lI(s,i),c=l.repoInfo):o=!l.repoInfo.secure;const u=i&&o?new gk(gk.OWNER):new mk(e.name,e.options,t);jC("Invalid Firebase Database URL",l),Xk(l.path)||JS("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=pI[t.name];i||(i={},pI[t.name]=i);let s=i[e.toURLString()];s&&JS("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new qC(e,mI,n,r),i[e.toURLString()]=s,s}(c,e,u,new pk(e.name,n));return new yI(d,e)}class yI{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(HC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hI(this._repo,Bk())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=pI[t];n&&n[e.key]===e||JS("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),$C(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&JS("Cannot call "+e+" on a deleted database.")}}sE.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},sE.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){LS(xr),fr(new nn("database",((e,t)=>{let{instanceIdentifier:n}=t;return gI(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Ir(RS,DS,e),Ir(RS,DS,"esm2017")}();const vI=new Map,bI={activated:!1,tokenObservers:[]},wI={initialized:!1,enabled:!1};function _I(e){return vI.get(e)||Object.assign({},bI)}function xI(){return wI}const SI="https://content-firebaseappcheck.googleapis.com/v1",kI="exchangeDebugToken",EI={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class TI{constructor(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((()=>{}))}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new gt,this.pending.promise.catch((e=>{})),await(t=this.getNextRun(e),new Promise((e=>{setTimeout(e,t)}))),this.pending.resolve(),await this.pending.promise,this.pending=new gt,this.pending.promise.catch((e=>{})),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch((()=>{}))}catch($S){this.retryPolicy($S)?this.process(!1).catch((()=>{})):this.stop()}var t}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const CI=new Pt("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function II(){var e;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function NI(e){if(!_I(e).activated)throw CI.create("use-before-activation",{appName:e.name})}function PI(e){const t=Math.round(e/1e3),n=Math.floor(t/86400),r=Math.floor((t-3600*n*24)/3600),i=Math.floor((t-3600*n*24-3600*r)/60),s=t-3600*n*24-3600*r-60*i;let o="";return n&&(o+=AI(n)+"d:"),r&&(o+=AI(r)+"h:"),o+=AI(i)+"m:"+AI(s)+"s",o}function AI(e){return 0===e?"00":e>=10?e.toString():"0"+e}async function OI(e,t){let{url:n,body:r}=e;const i={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&(i["X-Firebase-Client"]=e)}const o={method:"POST",body:JSON.stringify(r),headers:i};let a,l;try{a=await fetch(n,o)}catch(h){throw CI.create("fetch-network-error",{originalErrorMessage:null===h||void 0===h?void 0:h.message})}if(200!==a.status)throw CI.create("fetch-status-error",{httpStatus:a.status});try{l=await a.json()}catch(h){throw CI.create("fetch-parse-error",{originalErrorMessage:null===h||void 0===h?void 0:h.message})}const c=l.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw CI.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+"format: ".concat(l.ttl)});const u=1e3*Number(c[1]),d=Date.now();return{token:l.token,expireTimeMillis:d+u,issuedAtTimeMillis:d}}function RI(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:"".concat(SI,"/projects/").concat(n,"/apps/").concat(r,":").concat(kI,"?key=").concat(i),body:{debug_token:t}}}const DI="firebase-app-check-database",jI=1,LI="firebase-app-check-store",MI="debug-token";let FI=null;function UI(){return FI||(FI=new Promise(((e,t)=>{try{const n=indexedDB.open(DI,jI);n.onsuccess=t=>{e(t.target.result)},n.onerror=e=>{var n;t(CI.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=e=>{const t=e.target.result;if(0===e.oldVersion)t.createObjectStore(LI,{keyPath:"compositeKey"})}}catch(IH){t(CI.create("storage-open",{originalErrorMessage:null===IH||void 0===IH?void 0:IH.message}))}})),FI)}async function VI(e,t){const n=(await UI()).transaction(LI,"readwrite"),r=n.objectStore(LI).put({compositeKey:e,value:t});return new Promise(((e,t)=>{r.onsuccess=t=>{e()},n.onerror=e=>{var n;t(CI.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))}async function zI(e){const t=(await UI()).transaction(LI,"readonly"),n=t.objectStore(LI).get(e);return new Promise(((e,r)=>{n.onsuccess=t=>{const n=t.target.result;e(n?n.value:void 0)},t.onerror=e=>{var t;r(CI.create("storage-get",{originalErrorMessage:null===(t=e.target.error)||void 0===t?void 0:t.message}))}}))}function BI(e){return"".concat(e.options.appId,"-").concat(e.name)}const qI=new fn("@firebase/app-check");async function HI(e){if(It()){let t;try{t=await function(e){return zI(BI(e))}(e)}catch(IH){qI.warn("Failed to read token from IndexedDB. Error: ".concat(IH))}return t}}function WI(e,t){return It()?function(e,t){return VI(BI(e),t)}(e,t).catch((e=>{qI.warn("Failed to write token to IndexedDB. Error: ".concat(e))})):Promise.resolve()}async function GI(){let e;try{e=await zI(MI)}catch(Yh){}if(e)return e;{const e=Xt();return(t=e,VI(MI,t)).catch((e=>qI.warn("Failed to persist debug token to IndexedDB. Error: ".concat(e)))),e}var t}function KI(){return xI().enabled}async function YI(){const e=xI();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}const QI={error:"UNKNOWN_ERROR"};async function XI(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.app;NI(n);const r=_I(n);let i,s=r.token;if(s&&!nN(s)&&(r.token=void 0,s=void 0),!s){const e=await r.cachedTokenPromise;e&&(nN(e)?s=e:await WI(n,void 0))}if(!t&&s&&nN(s))return{token:s.token};let o,a=!1;if(KI()){r.exchangeTokenPromise||(r.exchangeTokenPromise=OI(RI(n,await YI()),e.heartbeatServiceProvider).finally((()=>{r.exchangeTokenPromise=void 0})),a=!0);const t=await r.exchangeTokenPromise;return await WI(n,t),r.token=t,{token:t.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally((()=>{r.exchangeTokenPromise=void 0})),a=!0),s=await _I(n).exchangeTokenPromise}catch(IH){IH.code==="appCheck/".concat("throttled")?qI.warn(IH.message):qI.error(IH),i=IH}return s?i?o=nN(s)?{token:s.token,internalError:i}:rN(i):(o={token:s.token},r.token=s,await WI(n,s)):o=rN(i),a&&tN(n,o),o}async function $I(e){const t=e.app;NI(t);const{provider:n}=_I(t);if(KI()){const n=await YI(),{token:r}=await OI(RI(t,n),e.heartbeatServiceProvider);return{token:r}}{const{token:e}=await n.getToken();return{token:e}}}function JI(e,t,n,r){const{app:i}=e,s=_I(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&nN(s.token)){const t=s.token;Promise.resolve().then((()=>{n({token:t.token}),eN(e)})).catch((()=>{}))}s.cachedTokenPromise.then((()=>eN(e)))}function ZI(e,t){const n=_I(e),r=n.tokenObservers.filter((e=>e.next!==t));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function eN(e){const{app:t}=e,n=_I(t);let r=n.tokenRefresher;r||(r=function(e){const{app:t}=e;return new TI((async()=>{let n;if(n=_I(t).token?await XI(e,!0):await XI(e),n.error)throw n.error;if(n.internalError)throw n.internalError}),(()=>!0),(()=>{const e=_I(t);if(e.token){let t=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;const n=e.token.expireTimeMillis-3e5;return t=Math.min(t,n),Math.max(0,t-Date.now())}return 0}),EI.RETRIAL_MIN_WAIT,EI.RETRIAL_MAX_WAIT)}(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function tN(e,t){const n=_I(e).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch(IH){}}function nN(e){return e.expireTimeMillis-Date.now()>0}function rN(e){return{token:(t=QI,ot.encodeString(JSON.stringify(t),!1)),error:e};var t}class iN{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=_I(this.app);for(const t of e)ZI(this.app,t.next);return Promise.resolve()}}const sN="https://www.google.com/recaptcha/enterprise.js";function oN(e,t){const n=new gt;_I(e).reCAPTCHAState={initialized:n};const r=lN(e),i=II(!0);return i?aN(e,t,i,r,n):function(e){const t=document.createElement("script");t.src=sN,t.onload=e,document.head.appendChild(t)}((()=>{const i=II(!0);if(!i)throw new Error("no recaptcha");aN(e,t,i,r,n)})),n.promise}function aN(e,t,n,r,i){n.ready((()=>{!function(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{_I(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{_I(e).reCAPTCHAState.succeeded=!1}}),s=_I(e);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}(e,t,n,r),i.resolve(n)}))}function lN(e){const t="fire_app_check_".concat(e.name),n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function cN(e){NI(e);const t=_I(e).reCAPTCHAState,n=await t.initialized.promise;return new Promise(((t,r)=>{const i=_I(e).reCAPTCHAState;n.ready((()=>{t(n.execute(i.widgetId,{action:"fire_app_check"}))}))}))}class uN{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,t,n;hN(this._throttleData);const r=await cN(this._app).catch((e=>{throw CI.create("recaptcha-error")}));if(!(null===(e=_I(this._app).reCAPTCHAState)||void 0===e?void 0:e.succeeded))throw CI.create("recaptcha-error");let i;try{i=await OI(function(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:"".concat(SI,"/projects/").concat(n,"/apps/").concat(r,":").concat("exchangeRecaptchaEnterpriseToken","?key=").concat(i),body:{recaptcha_enterprise_token:t}}}(this._app,r),this._heartbeatServiceProvider)}catch(IH){throw(null===(t=IH.code)||void 0===t?void 0:t.includes("fetch-status-error"))?(this._throttleData=dN(Number(null===(n=IH.customData)||void 0===n?void 0:n.httpStatus),this._throttleData),CI.create("throttled",{time:PI(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):IH}return this._throttleData=null,i}initialize(e){this._app=e,this._heartbeatServiceProvider=pr(e,"heartbeat"),oN(e,this._siteKey).catch((()=>{}))}isEqual(e){return e instanceof uN&&this._siteKey===e._siteKey}}function dN(e,t){if(404===e||403===e)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:e};{const n=t?t.backoffCount:0,r=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jt;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:$t)*Math.pow(t,e),r=Math.round(en*n*(Math.random()-.5)*2);return Math.min(Zt,n+r)}(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function hN(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw CI.create("throttled",{time:PI(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}const fN="app-check-internal";fr(new nn("app-check",(e=>function(e,t){return new iN(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("heartbeat"))),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider(fN).initialize()}))),fr(new nn(fN,(e=>function(e){return{getToken:t=>XI(e,t),getLimitedUseToken:()=>$I(e),addTokenListener:t=>JI(e,"INTERNAL",t),removeTokenListener:t=>ZI(e.app,t)}}(e.getProvider("app-check").getImmediate())),"PUBLIC").setInstantiationMode("EXPLICIT")),Ir("@firebase/app-check","0.8.7");const pN=n.p+"static/media/profile.bfa6b1bf0bb79cddcb1583911fc58628.svg",mN="Unknown",gN=pN,yN={apiKey:"AIzaSyD5tp55i00gU3fRi3V1YxkO7W7CwtS9vqc",authDomain:"resep-masakan-cd019.firebaseapp.com",databaseURL:"https://resep-masakan-cd019-default-rtdb.firebaseio.com",projectId:"resep-masakan-cd019",storageBucket:"resep-masakan-cd019.appspot.com",messagingSenderId:"874070302250",appId:"1:874070302250:web:4c99074ef11f880a34ad53",measurementId:"G-D6PE49J3C0"};Kr.apps.length||Kr.initializeApp(yN);const vN=Kr.auth(),bN=Kr.firestore(),wN=Kr.storage(),_N=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er(),t=arguments.length>1?arguments[1]:void 0;const n=pr(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=pt("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=tn(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&JS("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&JS('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new gk(gk.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:yt(r.mockUserToken,e.app.options.projectId);s=new gk(t)}!function(e,t,n,r){e.repoInfo_=new xk("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,s)}(n,...e)}}(),new Kr.auth.GoogleAuthProvider,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er(),t=arguments.length>1?arguments[1]:void 0;e=tn(e);const n=pr(e,"app-check");if(xI().initialized||function(){const e=ht(),t=xI();if(t.initialized=!0,"string"!==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==e.FIREBASE_APPCHECK_DEBUG_TOKEN)return;t.enabled=!0;const n=new gt;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(GI())}(),KI()&&YI().then((e=>console.log("App Check debug token: ".concat(e,". You will need to add it to your app's App Check settings in the Firebase console for it to work.")))),n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(i.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&i.provider.isEqual(t.provider))return r;throw CI.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});(function(e,t,n){const r=function(e,t){return vI.set(e,t),vI.get(e)}(e,Object.assign({},bI));r.activated=!0,r.provider=t,r.cachedTokenPromise=HI(e).then((t=>(t&&nN(t)&&(r.token=t,tN(e,{token:t.token})),t))),r.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)})(e,t.provider,t.isTokenAutoRefreshEnabled),_I(e).isTokenAutoRefreshEnabled&&JI(r,"INTERNAL",(()=>{}))}(Kr.apps[0],{provider:new uN("A1699F1C-5079-45D5-83DF-85B097C6DD53"),isTokenAutoRefreshEnabled:!0}),bN.collection("recipes")),xN=bN.collection("users"),SN=bN.collection("messages"),kN=bN.collection("comments"),EN=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return;const{displayName:n,email:r,photoURL:i,uid:s}=e,o=bN.collection("users").doc(s),a=await o.get(),l=new Date;try{if(a.exists)await o.update({displayName:n||mN,email:r,...t});else{const e={createdAt:l,displayName:n||mN,email:r,photoURL:i||gN,authorId:s,activity:[],...t};await o.set(e)}}catch($S){console.error("Error creating/updating user profile:",$S)}return o},TN=n.p+"static/media/logo512.a0fceb304a0857bb9071.png";var CN=n(6723);const IN=()=>{const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(!1),[s,o]=(0,r.useState)(null),a=te();(0,r.useEffect)((()=>{const e=vN.onAuthStateChanged((e=>{t(e),e&&o(e.photoURL)}));return()=>e()}),[]);const l=async()=>{try{await vN.signOut(),t(null),a("/")}catch($S){console.log("Error logging out:",$S)}},c=()=>{i(!1)};return(0,CN.jsxs)("header",{className:"bg-gradient-to-br from-secondary-700 via-wavy-purple to-accent-400 px-2 flex flex-wrap items-center justify-between top-0 z-10 sticky top-0 font-logo",children:[(0,CN.jsxs)(Ce,{to:"/",className:"heading flex p-1 items-center text-xl text-white hover:underline rounded mb-2 sm:mb-0",children:[(0,CN.jsx)("img",{src:TN,alt:"Logo",className:"w-10 h-10 justify-center border-2 rounded-full mr-2"}),"Resep Masakan"]}),(0,CN.jsx)("nav",{className:"desktop-menu items-center text-center hidden sm:block",children:(0,CN.jsxs)("ul",{className:"menu-items flex items-center justify-center space-x-2",children:[(0,CN.jsx)("li",{children:(0,CN.jsxs)(Ce,{to:"/recipe-list",className:"menu-link flex items-center text-primary-500 rounded py-2 px-3 hover:bg-accent-400",onClick:()=>{const e=document.getElementById("recipelist-section");if(e){const t=e.offsetTop;window.scrollTo({top:t,behavior:"smooth"})}c()},children:[(0,CN.jsx)(Ze,{className:"menu-icon m-auto text-center text-primary-500"})," Recipe"]})}),(0,CN.jsx)("li",{children:(0,CN.jsxs)(Ce,{to:"/tranding",className:"menu-link flex items-center text-primary-500 rounded py-2 px-3 hover:bg-accent-400",onClick:()=>{const e=document.getElementById("tranding-section");if(e){const t=e.offsetTop;window.scrollTo({top:t,behavior:"smooth"})}c()},children:[(0,CN.jsx)(Fe,{className:"menu-icon m-auto text-center text-primary-500"})," Trending"]})}),e?(0,CN.jsxs)(CN.Fragment,{children:[(0,CN.jsx)("li",{children:(0,CN.jsxs)(Ce,{to:"/profile",className:"menu-link flex items-center text-primary-500 hover:bg-accent-400 rounded py-1 px-3",onClick:c,children:[s?(0,CN.jsx)("img",{src:s,alt:"Profile",className:"w-7 h-7 rounded-full border-2"}):(0,CN.jsx)($e,{className:"menu-icon m-auto text-center text-primary-500"}),"Profile"]})}),(0,CN.jsx)("li",{children:(0,CN.jsxs)(Ce,{to:"/add-recipe",className:"menu-link flex items-center text-primary-500 rounded py-1 px-3 hover:bg-accent-400",onClick:c,children:[(0,CN.jsx)(qe,{className:"menu-icon m-auto text-center text-primary-500"})," Add Recipe"]})}),(0,CN.jsx)("li",{children:(0,CN.jsx)("button",{onClick:l,className:"menu-link flex items-center text-primary-500 hover:bg-accent-400 rounded py-1 px-3",children:(0,CN.jsx)(We,{className:"menu-icon m-auto text-center text-primary-500"})})})]}):(0,CN.jsxs)(CN.Fragment,{children:[(0,CN.jsx)("li",{children:(0,CN.jsxs)(Ce,{to:"/login",className:"menu-link flex items-center text-primary-500 hover:bg-accent-400 rounded py-1 px-3",onClick:c,children:[(0,CN.jsx)(He,{className:"menu-icon m-auto text-center text-primary-500"})," Login"]})}),(0,CN.jsx)("li",{children:(0,CN.jsxs)(Ce,{to:"/signup",className:"menu-link flex items-center text-primary-500 hover:bg-accent-400 rounded py-1 px-3",onClick:c,children:[(0,CN.jsx)(Je,{className:"menu-icon m-auto text-center text-primary-500"})," Signup"]})})]})]})}),(0,CN.jsxs)("div",{className:"mobile-menu sm:hidden relative justify-center text-center ",children:[(0,CN.jsx)("button",{className:"menu-toggle focus:outline-none p-1 rounded-md bg-white hover:bg-accent-400 ".concat(n?"close":""),onClick:()=>{i(!n)},children:n?(0,CN.jsx)(Qe,{}):"Menu"}),n&&(0,CN.jsxs)("ul",{className:"flex-1 absolute right-0 bg-secondary-500 rounded shadow-md mr-2 w-28",children:[(0,CN.jsx)("li",{children:(0,CN.jsxs)(Ce,{to:"/recipe-list",className:"menu-link hover:bg-accent-400 rounded block py-2",onClick:()=>{const e=document.getElementById("recipelist-section");if(e){const t=e.offsetTop;window.scrollTo({top:t,behavior:"smooth"})}c()},children:[(0,CN.jsx)(Ze,{className:"menu-icon m-auto text-center text-yellow-400"})," Recipe"]})}),(0,CN.jsx)("li",{children:(0,CN.jsxs)(Ce,{to:"/tranding",className:"menu-link hover:bg-accent-400 rounded block py-2",onClick:()=>{const e=document.getElementById("tranding-section");if(e){const t=e.offsetTop;window.scrollTo({top:t,behavior:"smooth"})}c()},children:[(0,CN.jsx)(Fe,{className:"menu-icon m-auto text-center text-yellow-400"}),"Trending"]})}),e?(0,CN.jsxs)(CN.Fragment,{children:[(0,CN.jsx)("li",{children:(0,CN.jsxs)(Ce,{to:"/profile",className:"menu-link hover:bg-accent-400 rounded block py-2",onClick:c,children:[s?(0,CN.jsx)("img",{src:s,alt:"Profile",className:"w-6 h-6 rounded-full border m-auto"}):(0,CN.jsx)($e,{className:"menu-icon m-auto text-center text-yellow-400"}),"Profile"]})}),(0,CN.jsx)("li",{children:(0,CN.jsxs)(Ce,{to:"/add-recipe",className:"menu-link hover:bg-accent-400 rounded block py-2",onClick:c,children:[(0,CN.jsx)(qe,{className:"menu-icon m-auto text-center text-yellow-400"}),"Add Recipe"]})}),(0,CN.jsx)("li",{children:(0,CN.jsxs)("button",{onClick:l,className:"menu-link flex items-center text-white mx-auto mt-2 text-sm hover:bg-accent-400 rounded block py-2",children:[(0,CN.jsx)(We,{className:"menu-icon m-auto text-center text-yellow-400"})," "]})})]}):(0,CN.jsxs)(CN.Fragment,{children:[(0,CN.jsx)("li",{children:(0,CN.jsxs)(Ce,{to:"/login",className:"menu-link hover:bg-accent-400 rounded block py-2",onClick:c,children:[(0,CN.jsx)(He,{className:"menu-icon m-auto text-center text-yellow-400 ".concat(n?"text-yellow-400":"")})," ","Login"]})}),(0,CN.jsx)("li",{children:(0,CN.jsxs)(Ce,{to:"/signup",className:"menu-link hover:bg-accent-400 rounded block py-2",onClick:c,children:[(0,CN.jsx)(Je,{className:"menu-icon m-auto text-center text-yellow-400 ".concat(n?"text-yellow-400":"")})," ","Signup"]})})]})]})]})]})},NN=()=>{const e=(new Date).getFullYear();return(0,CN.jsx)("footer",{className:"w-full bg-gradient-to-tl from-accent-600 via-wavy-purple to-secondary-600 text-sm text-white text-center",children:(0,CN.jsxs)("div",{className:"py-2",children:["Hak Cipta \xa9 ",e," Resep Masakan Indonesia. Semua Hak Dilindungi."]})})};var PN=n(3153),AN=n.n(PN);const ON=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[s,o]=(0,r.useState)(null),[a,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),f=te();return(0,r.useEffect)((()=>{(async()=>{try{const e=await vN.getRedirectResult();if(e.user){const t=e.user.photoURL||pN;await EN(e.user,{photoURL:t}),f("/")}}catch(s){o(s.message)}})()}),[f]),(0,CN.jsxs)("div",{className:"flex flex-col items-center text-center bg-wavy-purple min-h-screen",children:[(0,CN.jsx)("h2",{className:"text-3xl font-bold mb-6 animate__animated animate__fadeIn",children:"Login"}),(0,CN.jsx)("p",{className:"mb-2 font-bold underline",children:" Resep Masakan Indonesia "}),s&&(0,CN.jsx)("p",{className:"text-red-500 mb-4 animate__animated animate__shakeX",children:s}),(0,CN.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{h(!0),await vN.signInWithEmailAndPassword(e,n);const t=vN.currentUser,r=t.photoURL||pN;await EN(t,{photoURL:r}),u(!0),setTimeout((()=>{u(!1),f("/")}),3e3)}catch(s){"auth/wrong-password"===s.code?o("Password Salah! Coba Lagi."):o(s.message)}finally{h(!1)}},className:"flex flex-col items-center",children:[(0,CN.jsxs)("div",{className:"mb-4",children:[(0,CN.jsx)("label",{htmlFor:"email",className:"flex mr-2 mb-2 font-semibold",children:"Email:"}),(0,CN.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>{t(e.target.value)},className:"py-2 px-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,CN.jsxs)("div",{className:"mb-4",children:[(0,CN.jsx)("label",{htmlFor:"password",className:"flex mr-2 mb-2 font-semibold",children:"Password:"}),(0,CN.jsxs)("div",{className:"relative",children:[(0,CN.jsx)("input",{type:a?"text":"password",id:"password",value:n,onChange:e=>{i(e.target.value)},className:"py-2 px-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,CN.jsx)("button",{type:"button",onClick:()=>{l(!a)},className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500 focus:outline-none",children:a?"Hide":"Show"})]})]}),(0,CN.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-md animate__animated ".concat(d?"opacity-75 cursor-not-allowed":"animate__fadeIn"),disabled:d,children:d?(0,CN.jsx)(AN(),{color:"white",size:8}):"Login"})]}),(0,CN.jsxs)("p",{className:"mt-4 animate__animated animate__fadeIn",children:["Not registered?"," ",(0,CN.jsx)(Ce,{to:"/signup",className:"text-blue-500",children:"Signup"})]}),(0,CN.jsx)("button",{className:"flex mt-2 text-blue-500 hover:underline animate__animated animate__fadeIn",onClick:async()=>{if(e)try{await vN.sendPasswordResetEmail(e),o(null),alert("Password reset email sent!")}catch(s){o(s.message)}else o("Please enter your email")},children:(0,CN.jsx)(Ce,{to:"/forget-password",children:"Forgot Password?"})}),c&&(0,CN.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:(0,CN.jsxs)("div",{className:"bg-accent-400 p-4 rounded-lg shadow-lg animate__animated animate__fadeIn",children:[(0,CN.jsx)("p",{className:"text-green-500 text-lg font-semibold mb-2",children:"Login Successful!"}),(0,CN.jsx)("p",{children:"You will be redirected to the home page."})]})})]})},RN=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[s,o]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),y=te(),v=()=>{p((e=>!e))};return(0,CN.jsxs)("div",{className:"flex flex-col items-center bg-wavy-purple min-h-screen",children:[(0,CN.jsx)("h2",{className:"text-3xl font-bold mb-6 animate__animated animate__fadeIn",children:"Signup"}),(0,CN.jsx)("p",{className:"mb-2 font-bold underline",children:"Resep Masakan Indonesia"}),c&&(0,CN.jsx)("p",{className:"text-red-500 mb-4 animate__animated animate__shakeX",children:c}),(0,CN.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),s===a)if(e&&n&&s&&a)try{g(!0);const{user:t}=await vN.createUserWithEmailAndPassword(n,s),r=pN;await EN(t,{displayName:e,photoURL:r}),await t.sendEmailVerification(),g(!1),h(!0),setTimeout((()=>{h(!1),y("/verify-email")}),3e3)}catch(c){"auth/email-already-in-use"===c.code?u("Email already in use. Please log in."):u(c.message)}finally{g(!1)}else u("Please fill in all the fields");else u("Passwords do not match")},className:"flex flex-col items-center",children:[(0,CN.jsxs)("div",{className:"mb-4",children:[(0,CN.jsx)("label",{htmlFor:"displayName",className:"flex mr-2 mb-2 font-semibold",children:"Name:"}),(0,CN.jsx)("input",{type:"text",id:"displayName",value:e,onChange:e=>{t(e.target.value)},className:"py-2 px-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,CN.jsxs)("div",{className:"mb-4",children:[(0,CN.jsx)("label",{htmlFor:"email",className:"flex mr-2 mb-2 font-semibold",children:"Email:"}),(0,CN.jsx)("input",{type:"email",id:"email",value:n,onChange:e=>{i(e.target.value)},className:"py-2 px-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,CN.jsxs)("div",{className:"mb-4",children:[(0,CN.jsx)("label",{htmlFor:"password",className:"mr-2 mb-2 font-semibold",children:"Password:"}),(0,CN.jsxs)("div",{className:"relative",children:[(0,CN.jsx)("input",{type:f?"text":"password",id:"password",value:s,onChange:e=>{o(e.target.value)},className:"py-2 px-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,CN.jsx)("button",{type:"button",onClick:v,className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500 focus:outline-none",children:f?"Hide":"Show"})]})]}),(0,CN.jsxs)("div",{className:"mb-4",children:[(0,CN.jsx)("label",{htmlFor:"confirmPassword",className:"mr-2 mb-2 font-semibold",children:"Confirm Password:"}),(0,CN.jsxs)("div",{className:"relative",children:[(0,CN.jsx)("input",{type:f?"text":"password",id:"confirmPassword",value:a,onChange:e=>{l(e.target.value)},className:"py-2 px-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,CN.jsx)("button",{type:"button",onClick:v,className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-500 focus:outline-none",children:f?"Hide":"Show"})]})]}),(0,CN.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-md animate__animated ".concat(m?"opacity-75 cursor-not-allowed":"animate__fadeIn"),disabled:m,children:m?(0,CN.jsx)(AN(),{color:"white",size:8}):"Signup"})]}),(0,CN.jsxs)("p",{className:"mt-4 animate__animated animate__fadeIn",children:["Already have an account?"," ",(0,CN.jsx)(Ce,{to:"/login",className:"text-blue-500",children:"Login"})]}),d&&(0,CN.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:(0,CN.jsxs)("div",{className:"bg-purple-700 p-4 rounded-lg shadow-lg animate__animated animate__fadeIn",children:[(0,CN.jsx)("p",{className:"text-green-500 text-lg font-semibold mb-2",children:"Registration Successful! Please check your email to verify your account."}),(0,CN.jsx)("p",{children:"You will be redirected to the email verification page."})]})})]})},DN=e=>{let{onSearch:t}=e;const[n,i]=(0,r.useState)("");return(0,CN.jsxs)("div",{className:"text-center items-center mt-2 font-logo",children:[(0,CN.jsx)("input",{type:"text",placeholder:"Cari resep...",value:n,onChange:e=>i(e.target.value),className:"text-center mr-2 px-2 py-2 border border-black rounded-l-full focus:outline-none"}),(0,CN.jsx)("button",{onClick:()=>{t(n)},className:"bg-amber-500 text-center px-2 py-2 border border-black rounded-r-full hover:bg-blue-600 focus:outline-none",children:"Cari"})]})},jN=()=>{const[e,t]=(0,r.useState)([]),n=(new Date).getFullYear(),[i,s]=(0,r.useState)([]),[o,a]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)(0),[p,m]=(0,r.useState)([]),[g,y]=(0,r.useState)(1),[v,b]=(0,r.useState)(""),[w,_]=(0,r.useState)(""),[x,S]=(0,r.useState)(!1),[k,E]=(0,r.useState)(!0),[T,C]=(0,r.useState)(null);(0,r.useEffect)((()=>{(async()=>{try{E(!0),C(null);let e=bN.collection("recipes");""!==o&&(e=e.where("category","==",o)),""!==l&&(e=e.where("author","==",l)),""!==u&&(e=e.where("title","==",u));const n=await e.limit(12).get();if(0===n.docs.length)return void E(!0);const r=n.docs.map((e=>({id:e.id,...e.data(),createdAt:e.data().createdAt.toDate()}))),i=(await bN.collection("users").get()).docs.map((e=>({id:e.id,...e.data()}))),a=r.map((e=>{const t=i.find((t=>t.id===e.authorId));return{...e,creatorPhoto:(null===t||void 0===t?void 0:t.photoURL)||pN}}));t(a),s(a)}catch($S){console.error("Error fetching recipes:",$S),C("An error occurred while fetching recipes.")}finally{E(!1)}})(),(async()=>{try{let e=bN.collection("recipes");w&&(e=e.orderBy(w));const t=p[p.length-1];t&&(e=e.orderBy("createdAt").startAfter(t.createdAt));const n=await e.limit(12).get();if(0===n.docs.length)return;const r=n.docs.map((e=>({id:e.id,...e.data(),createdAt:e.data().createdAt.toDate()})));m(p.concat(r))}catch($S){console.error("Error fetching recommendation recipes:",$S)}})()}),[g,w,o,l,u,p,y,v,_]);const I=12*h,N=I+12,P=i.slice(I,N),A=[...new Set(e.map((e=>e.author)))];return(0,CN.jsx)("div",{className:"bg-gradient-to-tr from-primary-500 via-wavy-purple to-accent-500",children:k?(0,CN.jsxs)("div",{className:"flex items-center justify-center font-logo min-h-screen",children:[(0,CN.jsx)(AN(),{})," LOADING..."]}):T?(0,CN.jsxs)("div",{children:["Error: ",T]}):(0,CN.jsxs)("div",{className:"container mx-auto px-4 md:px-4 lg:px-12 xl:px-16",children:[(0,CN.jsx)("h2",{className:"text-2xl font-bold text-primary-500 text-center mb-4",children:"Resep Masakan"}),(0,CN.jsx)("p",{className:"text-center mb-2",children:"Anda Bisa Request Untuk Penambahan Features"}),(0,CN.jsx)(DN,{onSearch:t=>{b(t);const n=e.filter((e=>e.title.toLowerCase().includes(t.toLowerCase())));s(n)},className:"text-center py-2 px-2"}),(0,CN.jsxs)("div",{className:"flex-1 text-center justify-center p-2 mb-4",children:[(0,CN.jsx)("label",{htmlFor:"sortBy"}),(0,CN.jsxs)("select",{id:"category",value:o,onChange:t=>(t=>{a(t);const n=t?e.filter((e=>e.category.toLowerCase()===t.toLowerCase())):e;s(n)})(t.target.value),className:"ml-2 hover:bg-gray-300 border border-gray-300 text-center rounded focus:outline-none focus:border-blue-500 mb-2 md:mb-0 text-sm",children:[(0,CN.jsx)("option",{value:"",children:"All Categories"}),["Sarapan","Makan Siang","Makan Malam","Camilan","Seafood","Hidangan Pembuka","Hidangan Utama","Hidangan Penutup","Kue/Roti","Minuman","Hidangan Tradisional","Hidangan Sehat","Hidangan Vegetarian"].map((e=>(0,CN.jsx)("option",{value:e,children:e},e)))]}),(0,CN.jsxs)("select",{id:"creator",value:l,onChange:t=>(t=>{const n="All Creators";c(t===n?"":t);const r=t===n?e:e.filter((e=>t===e.author));s(r)})(t.target.value),className:"ml-2 hover:bg-gray-300 border border-gray-300 text-center rounded focus:outline-none focus:border-blue-500 mb-2 md:mb-0 text-sm",children:[(0,CN.jsx)("option",{value:"",children:"All Creators"}),A.map((e=>(0,CN.jsx)("option",{value:e,children:e},e)))]}),(0,CN.jsxs)("select",{id:"title",value:u,onChange:t=>(t=>{d(t);const n=t?e.filter((e=>e.title===t)):e;s(n)})(t.target.value),className:"ml-2 hover:bg-gray-300 border border-gray-300 text-center rounded focus:outline-none focus:border-blue-500 mb-2 md:mb-0 text-sm",children:[(0,CN.jsx)("option",{value:"",children:"All Titles"}),e.map((e=>(0,CN.jsx)("option",{value:e.title,children:e.title},e.id)))]})]}),(0,CN.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 text-center item-center",children:P.map((e=>(0,CN.jsxs)("div",{className:"rounded-lg shadow-lg-dark bg-secondary-900 hover:bg-secondary-700 border border-secondary-200 p-2 transition-transform transform hover:scale-105",children:[(0,CN.jsx)("div",{className:"mb-2 text-yellow-500 font-logo",children:(0,CN.jsx)(Ce,{className:"block text-xl hover:text-white transition-colors p-2",to:"/recipes/".concat(e.id),children:e.title})}),e.recipeImage&&(0,CN.jsxs)("div",{className:"mb-4 relative",children:[(0,CN.jsx)(Ce,{to:"/recipes/".concat(e.id),children:(0,CN.jsx)("img",{src:e.recipeImage,alt:"Recipe",className:"h-32 md:h-40 w-full object-cover rounded-t"})}),(0,CN.jsxs)("p",{className:"text-sm absolute bottom-0 right-0 mb-2 mr-2 italic",children:["\xa9 ",n," Resep Masakan"]})]}),(0,CN.jsx)(Ce,{to:"/author/".concat(e.authorId),children:(0,CN.jsxs)("div",{className:"flex flex-row items-center mb-2 ",children:[(0,CN.jsx)("img",{src:e.creatorPhoto,alt:"Creator",className:" transition-transform transform hover:scale-110 rounded-full border-2 h-8 w-8 object-cover hover:bg-secondary-700 mr-2"}),(0,CN.jsx)("p",{className:"text-white rounded hover:bg-yellow-700 px-2",children:e.author})]})}),(0,CN.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,CN.jsx)("div",{className:"flex",children:[...Array(5)].map(((t,n)=>(0,CN.jsx)(Ke,{className:n<Math.floor(e.rating)?"text-yellow-500 mr-1":(Math.floor(e.rating),"text-primary-500 mr-1 opacity-50")},n)))})}),(0,CN.jsx)("div",{className:"mb-4 mt-4 font-bold",children:(0,CN.jsx)("span",{className:"text-sm p-2 text-gray-600 bg-white rounded-full",children:e.rating})}),(0,CN.jsx)("p",{className:"mb-2 cursor-pointer text-sm text-yellow-500 font-logo",onClick:()=>{S((e=>!e))},children:x?e.description:"".concat(e.description.slice(0,50),"...")}),(0,CN.jsxs)("p",{className:"mt-2 text-sm text-white",children:["Kategori: ",e.category]}),(0,CN.jsxs)("p",{className:"text-yellow-600 text-sm",children:["Created: ",e.createdAt.toLocaleDateString()]})]},e.id)))}),(0,CN.jsxs)("div",{className:"flex justify-center font-bold mt-4 p-2",children:[(0,CN.jsx)("button",{className:"px-2 py-2 font-logo rounded-full bg-gray-300 hover:bg-gray-400 transition duration-300 mr-2",onClick:()=>{const e=Math.ceil(i.length/12);f((t=>(t-1+e)%e))},children:(0,CN.jsx)(ze,{})}),(0,CN.jsx)("button",{className:"px-2 py-2 font-logo rounded-full bg-gray-300 hover:bg-gray-400 transition duration-300 mr-2",onClick:()=>{const e=Math.ceil(i.length/12);f((t=>(t+1)%e))},children:(0,CN.jsx)(Be,{})})]}),(0,CN.jsx)("div",{children:(0,CN.jsx)("h1",{className:"text-center font-bold text-xl",children:"Calon Iklan Disini"})})]})})};var LN=n(9470),MN={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function FN(e){var t=function(e){if("number"===typeof e)return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();t=n.includes(".")?parseFloat(n):parseInt(n,10);var r=(e.match(/[^0-9]*$/)||"").toString();return MN[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}(e);return"".concat(t.value).concat(t.unit)}var UN=function(){return UN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},UN.apply(this,arguments)},VN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},zN=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o="\n    @keyframes ".concat(r," {\n      ").concat(t,"\n    }\n  ");return s&&s.insertRule(o,0),r}("BeatLoader","50% {transform: scale(0.75);opacity: 0.2} 100% {transform: scale(1);opacity: 1}","beat");const BN=function(e){var t=e.loading,n=void 0===t||t,i=e.color,s=void 0===i?"#000000":i,o=e.speedMultiplier,a=void 0===o?1:o,l=e.cssOverride,c=void 0===l?{}:l,u=e.size,d=void 0===u?15:u,h=e.margin,f=void 0===h?2:h,p=VN(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),m=UN({display:"inherit"},c),g=function(e){return{display:"inline-block",backgroundColor:s,width:FN(d),height:FN(d),margin:FN(f),borderRadius:"100%",animation:"".concat(zN," ").concat(.7/a,"s ").concat(e%2?"0s":"".concat(.35/a,"s")," infinite linear"),animationFillMode:"both"}};return n?r.createElement("span",UN({style:m},p),r.createElement("span",{style:g(1)}),r.createElement("span",{style:g(2)}),r.createElement("span",{style:g(3)})):null},qN=e=>{let{setUserRecipes:t}=e;const[n,i]=(0,r.useState)([]),s=(new Date).getFullYear(),[o,a]=(0,r.useState)(!0),{authorId:l}=ne();(0,r.useEffect)((()=>{(async()=>{try{if(l){const e=bN.collection("recipes").where("authorId","==",l),n=(await e.get()).docs.map((e=>{const t=e.data(),n=t.createdAt?t.createdAt.toDate():null;return{id:e.id,...t,dateCreated:n}})),r=[...new Set(n.map((e=>e.authorId)))],i=(await bN.collection("users").where("authorId","in",r).get()).docs.map((e=>({id:e.id,...e.data()}))),s=n.map((e=>{const t=i.find((t=>t.authorId===e.authorId));return{...e,creatorPhoto:(null===t||void 0===t?void 0:t.photoURL)||(null===t||void 0===t?void 0:t.imageURL)||""}}));t(s)}else t([])}catch($S){console.error("Error fetching user recipes:",$S)}})()}),[l,t]),(0,r.useEffect)((()=>{(async()=>{try{a(!0);const e=(await _N.limit(6).get()).docs.map((e=>{var t;return{id:e.id,...e.data(),createdAt:(null===(t=e.data().createdAt)||void 0===t?void 0:t.toDate())||new Date}})),t=[...new Set(e.map((e=>e.authorId)))],n=(await bN.collection("users").where("authorId","in",t).get()).docs.map((e=>({id:e.id,...e.data()}))),r=e.map((e=>{const t=n.find((t=>t.authorId===e.authorId));return{...e,creatorPhoto:(null===t||void 0===t?void 0:t.photoURL)||(null===t||void 0===t?void 0:t.imageURL)||""}}));i(r),a(!1)}catch($S){console.error("Error fetching recommendation recipes:",$S),a(!1)}})()}),[]);const c={dots:!0,infinite:!0,speed:1e3,slidesToShow:Math.min(3,n.length),slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,responsive:[{breakpoint:1440,settings:{slidesToShow:4,centerMode:!0}},{breakpoint:1280,settings:{slidesToShow:3,centerMode:!0}},{breakpoint:1024,settings:{slidesToShow:3,centerMode:!0}},{breakpoint:768,settings:{slidesToShow:1,centerMode:!0}},{breakpoint:480,settings:{slidesToShow:1,centerMode:!1}}],spacing:20};return(0,CN.jsxs)("div",{className:"mt-4",children:[(0,CN.jsx)("h2",{className:"recommendation-title text-3xl font-logo mb-4 text-primary text-center",children:"Saran Resep untuk Anda"}),o?(0,CN.jsxs)("div",{className:"flex flex-col justify-center min-h-screen items-center px-4 py-4",children:[(0,CN.jsx)(BN,{})," LOADING..."]}):(0,CN.jsx)(LN.A,{...c,children:n.map((e=>{return(0,CN.jsx)("div",{className:"transition-transform transform hover:scale-105 m-2 item-center items-center justify-center",children:(0,CN.jsxs)("div",{className:"relative shadow-xl-dark w-64 mx-auto bg-secondary-400 opacity:50 rounded item-center text-center hover:bg-secondary-300",children:[(0,CN.jsx)(Ce,{className:"block text-primary-600 hover:text-white text-xl font-bold transition-colors p-2",to:"/recipes/".concat(e.id),children:e.title}),(0,CN.jsxs)("div",{className:"rounded p-2 overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[e.recipeImage&&(0,CN.jsxs)("div",{className:"relative",children:[(0,CN.jsx)("img",{src:e.recipeImage,alt:"Recipe",className:"h-32 w-full p-2 object-cover rounded"}),(0,CN.jsxs)("p",{className:"text-sm italic text-white bg-opacity-50",children:["\xa9 ",s," Resep Masakan"]}),(0,CN.jsx)(Ce,{className:"absolute text-yellow-500 bottom-0 left-0 w-full h-full p-4 bg-black bg-opacity-50 transition-opacity opacity-0 hover:opacity-100",to:"/recipes/".concat(e.id),children:(0,CN.jsx)("p",{className:"text-sm",children:e.description})})]}),(0,CN.jsxs)("div",{className:"p-4",children:[(0,CN.jsx)(Ce,{to:"/author/".concat(e.authorId),children:(0,CN.jsxs)("div",{className:"flex items-center rounded mb-4 ",children:[(0,CN.jsx)("img",{src:e.creatorPhoto||"",alt:"Creator",className:"rounded-full h-8 w-8 object-cover border mr-2"}),(0,CN.jsxs)("p",{className:"text-white underline hover:text-secondary-700",children:[" ",e.author]})]})}),(0,CN.jsx)("span",{className:"text-sm p-2 text-secondary-500 bg-white rounded-full font-bold",children:e.rating}),(0,CN.jsxs)("p",{className:"mt-2 ",children:["Kategori: ",e.category]}),(t=e.createdAt,(new Date-t)/864e5<=7&&(0,CN.jsx)("div",{className:"absolute top-4 left-0 font-bold px-2 py-1 rounded-t-lg transform -rotate-45 text-yellow-500",children:"New!!"}))]})]})]})},e.id);var t}))}),(0,CN.jsx)("div",{className:"text-center mt-6 font-semibold",children:(0,CN.jsx)("h2",{children:"Bingung Mau Masak Apa?? Ayo Cari Rekomendasi Resep yang Cocok untuk di Masak Hari ini.."})})]})};var HN=n(4393),WN=n.n(HN);const GN=()=>{};let KN={},YN={},QN=null,XN={mark:GN,measure:GN};try{"undefined"!==typeof window&&(KN=window),"undefined"!==typeof document&&(YN=document),"undefined"!==typeof MutationObserver&&(QN=MutationObserver),"undefined"!==typeof performance&&(XN=performance)}catch(IH){}const{userAgent:$N=""}=KN.navigator||{},JN=KN,ZN=YN,eP=QN,tP=XN,nP=(JN.document,!!ZN.documentElement&&!!ZN.head&&"function"===typeof ZN.addEventListener&&"function"===typeof ZN.createElement),rP=~$N.indexOf("MSIE")||~$N.indexOf("Trident/");var iP="classic",sP="duotone",oP="sharp",aP="sharp-duotone",lP=[iP,sP,oP,aP],cP={fak:"kit","fa-kit":"kit"},uP={fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"},dP={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},hP=[1,2,3,4,5,6,7,8,9,10],fP=hP.concat([11,12,13,14,15,16,17,18,19,20]),pP={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},mP=[...Object.keys({classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]}),"solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",pP.GROUP,pP.SWAP_OPACITY,pP.PRIMARY,pP.SECONDARY].concat(hP.map((e=>"".concat(e,"x")))).concat(fP.map((e=>"w-".concat(e)))),gP={kit:"fak"},yP={"kit-duotone":"fakd"};const vP="___FONT_AWESOME___",bP=16,wP="fa",_P="svg-inline--fa",xP="data-fa-i2svg",SP="data-fa-pseudo-element",kP="data-fa-pseudo-element-pending",EP="data-prefix",TP="data-icon",CP="fontawesome-i2svg",IP="async",NP=["HTML","HEAD","STYLE","SCRIPT"],PP=(()=>{try{return!0}catch(e){return!1}})(),AP=[iP,oP,aP];function OP(e){return new Proxy(e,{get:(e,t)=>t in e?e[t]:e[iP]})}const RP={...dP};RP[iP]={...dP[iP],...cP,...uP};const DP=OP(RP),jP={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}};jP[iP]={...jP[iP],...gP,...yP};const LP=OP(jP),MP={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}};MP[iP]={...MP[iP],fak:"fa-kit"};const FP=OP(MP),UP={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}};UP[iP]={...UP[iP],"fa-kit":"fak"};const VP=OP(UP),zP=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,BP="fa-layers-text",qP=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,HP=(OP({classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}}),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),WP=pP,GP=new Set;Object.keys(LP[iP]).map(GP.add.bind(GP)),Object.keys(LP[oP]).map(GP.add.bind(GP)),Object.keys(LP[aP]).map(GP.add.bind(GP));const KP=["kit",...mP],YP=JN.FontAwesomeConfig||{};if(ZN&&"function"===typeof ZN.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((e=>{let[t,n]=e;const r=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=ZN.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t));void 0!==r&&null!==r&&(YP[n]=r)}))}const QP={styleDefault:"solid",familyDefault:"classic",cssPrefix:wP,replacementClass:_P,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};YP.familyPrefix&&(YP.cssPrefix=YP.familyPrefix);const XP={...QP,...YP};XP.autoReplaceSvg||(XP.observeMutations=!1);const $P={};Object.keys(QP).forEach((e=>{Object.defineProperty($P,e,{enumerable:!0,set:function(t){XP[e]=t,JP.forEach((e=>e($P)))},get:function(){return XP[e]}})})),Object.defineProperty($P,"familyPrefix",{enumerable:!0,set:function(e){XP.cssPrefix=e,JP.forEach((e=>e($P)))},get:function(){return XP.cssPrefix}}),JN.FontAwesomeConfig=$P;const JP=[];const ZP=bP,eA={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};const tA="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nA(){let e=12,t="";for(;e-- >0;)t+=tA[62*Math.random()|0];return t}function rA(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function iA(e){return e.classList?rA(e.classList):(e.getAttribute("class")||"").split(" ").filter((e=>e))}function sA(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function oA(e){return Object.keys(e||{}).reduce(((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";")),"")}function aA(e){return e.size!==eA.size||e.x!==eA.x||e.y!==eA.y||e.rotate!==eA.rotate||e.flipX||e.flipY}var lA=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function cA(){const e=wP,t=_P,n=$P.cssPrefix,r=$P.replacementClass;let i=lA;if(n!==e||r!==t){const s=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),a=new RegExp("\\.".concat(t),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}let uA=!1;function dA(){$P.autoAddCss&&!uA&&(!function(e){if(!e||!nP)return;const t=ZN.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=ZN.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const e=n[i],t=(e.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(t)>-1&&(r=e)}ZN.head.insertBefore(t,r)}(cA()),uA=!0)}var hA={mixout:()=>({dom:{css:cA,insertCss:dA}}),hooks:()=>({beforeDOMElementCreation(){dA()},beforeI2svg(){dA()}})};const fA=JN||{};fA[vP]||(fA[vP]={}),fA[vP].styles||(fA[vP].styles={}),fA[vP].hooks||(fA[vP].hooks={}),fA[vP].shims||(fA[vP].shims=[]);var pA=fA[vP];const mA=[],gA=function(){ZN.removeEventListener("DOMContentLoaded",gA),yA=1,mA.map((e=>e()))};let yA=!1;function vA(e){const{tag:t,attributes:n={},children:r=[]}=e;return"string"===typeof e?sA(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce(((t,n)=>t+"".concat(n,'="').concat(sA(e[n]),'" ')),"").trim()}(n),">").concat(r.map(vA).join(""),"</").concat(t,">")}function bA(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}nP&&(yA=(ZN.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ZN.readyState),yA||ZN.addEventListener("DOMContentLoaded",gA));var wA=function(e,t,n,r){var i,s,o,a=Object.keys(e),l=a.length,c=void 0!==r?function(e,t){return function(n,r,i,s){return e.call(t,n,r,i,s)}}(t,r):t;for(void 0===n?(i=1,o=e[a[0]]):(i=0,o=n);i<l;i++)o=c(o,e[s=a[i]],s,e);return o};function _A(e){const t=function(e){const t=[];let n=0;const r=e.length;for(;n<r;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function xA(e){return Object.keys(e).reduce(((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function SA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipHooks:r=!1}=n,i=xA(t);"function"!==typeof pA.hooks.addPack||r?pA.styles[e]={...pA.styles[e]||{},...i}:pA.hooks.addPack(e,xA(t)),"fas"===e&&SA("fa",t)}const{styles:kA,shims:EA}=pA,TA={[iP]:Object.values(FP[iP]),[oP]:Object.values(FP[oP]),[aP]:Object.values(FP[aP])};let CA=null,IA={},NA={},PA={},AA={},OA={};const RA={[iP]:Object.keys(DP[iP]),[oP]:Object.keys(DP[oP]),[aP]:Object.keys(DP[aP])};function DA(e,t){const n=t.split("-"),r=n[0],i=n.slice(1).join("-");return r!==e||""===i||(s=i,~KP.indexOf(s))?null:i;var s}const jA=()=>{const e=e=>wA(kA,((t,n,r)=>(t[r]=wA(n,e,{}),t)),{});IA=e(((e,t,n)=>{if(t[3]&&(e[t[3]]=n),t[2]){t[2].filter((e=>"number"===typeof e)).forEach((t=>{e[t.toString(16)]=n}))}return e})),NA=e(((e,t,n)=>{if(e[n]=n,t[2]){t[2].filter((e=>"string"===typeof e)).forEach((t=>{e[t]=n}))}return e})),OA=e(((e,t,n)=>{const r=t[2];return e[n]=n,r.forEach((t=>{e[t]=n})),e}));const t="far"in kA||$P.autoFetchSvg,n=wA(EA,((e,n)=>{const r=n[0];let i=n[1];const s=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:s}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:s}),e}),{names:{},unicodes:{}});PA=n.names,AA=n.unicodes,CA=BA($P.styleDefault,{family:$P.familyDefault})};var LA;function MA(e,t){return(IA[e]||{})[t]}function FA(e,t){return(OA[e]||{})[t]}function UA(e){return PA[e]||{prefix:null,iconName:null}}function VA(){return CA}LA=e=>{CA=BA(e.styleDefault,{family:$P.familyDefault})},JP.push(LA),jA();const zA=()=>({prefix:null,iconName:null,rest:[]});function BA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{family:n=iP}=t,r=DP[n][e],i=LP[n][e]||LP[n][r],s=e in pA.styles?e:null;return i||s||null}const qA={[iP]:Object.keys(FP[iP]),[oP]:Object.keys(FP[oP]),[aP]:Object.keys(FP[aP])};function HA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skipLookups:n=!1}=t,r={[iP]:"".concat($P.cssPrefix,"-").concat(iP),[oP]:"".concat($P.cssPrefix,"-").concat(oP),[aP]:"".concat($P.cssPrefix,"-").concat(aP)};let i=null,s=iP;const o=lP.filter((e=>e!==sP));o.forEach((t=>{(e.includes(r[t])||e.some((e=>qA[t].includes(e))))&&(s=t)}));const a=e.reduce(((e,t)=>{const a=DA($P.cssPrefix,t);if(kA[t]?(t=TA[s].includes(t)?VP[s][t]:t,i=t,e.prefix=t):RA[s].indexOf(t)>-1?(i=t,e.prefix=BA(t,{family:s})):a?e.iconName=a:t===$P.replacementClass||o.some((e=>t===r[e]))||e.rest.push(t),!n&&e.prefix&&e.iconName){const t="fa"===i?UA(e.iconName):{},n=FA(e.prefix,e.iconName);t.prefix&&(i=null),e.iconName=t.iconName||n||e.iconName,e.prefix=t.prefix||e.prefix,"far"!==e.prefix||kA.far||!kA.fas||$P.autoFetchSvg||(e.prefix="fas")}return e}),zA());return(e.includes("fa-brands")||e.includes("fab"))&&(a.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(a.prefix="fad"),a.prefix||s!==oP||!kA.fass&&!$P.autoFetchSvg||(a.prefix="fass",a.iconName=FA(a.prefix,a.iconName)||a.iconName),a.prefix||s!==aP||!kA.fasds&&!$P.autoFetchSvg||(a.prefix="fasds",a.iconName=FA(a.prefix,a.iconName)||a.iconName),"fa"!==a.prefix&&"fa"!==i||(a.prefix=VA()||"fas"),a}let WA=[],GA={};const KA={},YA=Object.keys(KA);function QA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(GA[e]||[]).forEach((e=>{t=e.apply(null,[t,...r])})),t}function XA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(GA[e]||[]).forEach((e=>{e.apply(null,n)}))}function $A(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return KA[e]?KA[e].apply(null,t):void 0}function JA(e){"fa"===e.prefix&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||VA();if(t)return t=FA(n,t)||t,bA(ZA.definitions,n,t)||bA(pA.styles,n,t)}const ZA=new class{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(this._pullDefinitions,{});Object.keys(r).forEach((e=>{this.definitions[e]={...this.definitions[e]||{},...r[e]},SA(e,r[e]);const t=FP[iP][e];t&&SA(t,r[e]),jA()}))}reset(){this.definitions={}}_pullDefinitions(e,t){const n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((t=>{const{prefix:r,iconName:i,icon:s}=n[t],o=s[2];e[r]||(e[r]={}),o.length>0&&o.forEach((t=>{"string"===typeof t&&(e[r][t]=s)})),e[r][i]=s})),e}},eO={i2svg:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nP?(XA("beforeI2svg",e),$A("pseudoElements2svg",e),$A("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;var n;!1===$P.autoReplaceSvg&&($P.autoReplaceSvg=!0),$P.observeMutations=!0,n=()=>{rO({autoReplaceSvgRoot:t}),XA("watch",e)},nP&&(yA?setTimeout(n,0):mA.push(n))}},tO={icon:e=>{if(null===e)return null;if("object"===typeof e&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:FA(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){const t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=BA(e[0]);return{prefix:n,iconName:FA(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat($P.cssPrefix,"-"))>-1||e.match(zP))){const t=HA(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||VA(),iconName:FA(t.prefix,t.iconName)||t.iconName}}if("string"===typeof e){const t=VA();return{prefix:t,iconName:FA(t,e)||e}}}},nO={noAuto:()=>{$P.autoReplaceSvg=!1,$P.observeMutations=!1,XA("noAuto")},config:$P,dom:eO,parse:tO,library:ZA,findIconDefinition:JA,toHtml:vA},rO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t=ZN}=e;(Object.keys(pA.styles).length>0||$P.autoFetchSvg)&&nP&&$P.autoReplaceSvg&&nO.dom.i2svg({node:t})};function iO(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((e=>vA(e)))}}),Object.defineProperty(e,"node",{get:function(){if(!nP)return;const t=ZN.createElement("div");return t.innerHTML=e.html,t.children}}),e}function sO(e){const{icons:{main:t,mask:n},prefix:r,iconName:i,transform:s,symbol:o,title:a,maskId:l,titleId:c,extra:u,watchable:d=!1}=e,{width:h,height:f}=n.found?n:t,p="fak"===r,m=[$P.replacementClass,i?"".concat($P.cssPrefix,"-").concat(i):""].filter((e=>-1===u.classes.indexOf(e))).filter((e=>""!==e||!!e)).concat(u.classes).join(" ");let g={children:[],attributes:{...u.attributes,"data-prefix":r,"data-icon":i,class:m,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(h," ").concat(f)}};const y=p&&!~u.classes.indexOf("fa-fw")?{width:"".concat(h/f*16*.0625,"em")}:{};d&&(g.attributes[xP]=""),a&&(g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(c||nA())},children:[a]}),delete g.attributes.title);const v={...g,prefix:r,iconName:i,main:t,mask:n,maskId:l,transform:s,symbol:o,styles:{...y,...u.styles}},{children:b,attributes:w}=n.found&&t.found?$A("generateAbstractMask",v)||{children:[],attributes:{}}:$A("generateAbstractIcon",v)||{children:[],attributes:{}};return v.children=b,v.attributes=w,o?function(e){let{prefix:t,iconName:n,children:r,attributes:i,symbol:s}=e;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...i,id:!0===s?"".concat(t,"-").concat($P.cssPrefix,"-").concat(n):s},children:r}]}]}(v):function(e){let{children:t,main:n,mask:r,attributes:i,styles:s,transform:o}=e;if(aA(o)&&n.found&&!r.found){const{width:e,height:t}=n,r={x:e/t/2,y:.5};i.style=oA({...s,"transform-origin":"".concat(r.x+o.x/16,"em ").concat(r.y+o.y/16,"em")})}return[{tag:"svg",attributes:i,children:t}]}(v)}function oO(e){const{content:t,width:n,height:r,transform:i,title:s,extra:o,watchable:a=!1}=e,l={...o.attributes,...s?{title:s}:{},class:o.classes.join(" ")};a&&(l[xP]="");const c={...o.styles};aA(i)&&(c.transform=function(e){let{transform:t,width:n=bP,height:r=bP,startCentered:i=!1}=e,s="";return s+=i&&rP?"translate(".concat(t.x/ZP-n/2,"em, ").concat(t.y/ZP-r/2,"em) "):i?"translate(calc(-50% + ".concat(t.x/ZP,"em), calc(-50% + ").concat(t.y/ZP,"em)) "):"translate(".concat(t.x/ZP,"em, ").concat(t.y/ZP,"em) "),s+="scale(".concat(t.size/ZP*(t.flipX?-1:1),", ").concat(t.size/ZP*(t.flipY?-1:1),") "),s+="rotate(".concat(t.rotate,"deg) "),s}({transform:i,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);const u=oA(c);u.length>0&&(l.style=u);const d=[];return d.push({tag:"span",attributes:l,children:[t]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}const{styles:aO}=pA;function lO(e){const t=e[0],n=e[1],[r]=e.slice(4);let i=null;return i=Array.isArray(r)?{tag:"g",attributes:{class:"".concat($P.cssPrefix,"-").concat(WP.GROUP)},children:[{tag:"path",attributes:{class:"".concat($P.cssPrefix,"-").concat(WP.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat($P.cssPrefix,"-").concat(WP.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:i}}const cO={found:!1,width:512,height:512};function uO(e,t){let n=t;return"fa"===t&&null!==$P.styleDefault&&(t=VA()),new Promise(((r,i)=>{if("fa"===n){const n=UA(e)||{};e=n.iconName||e,t=n.prefix||t}if(e&&t&&aO[t]&&aO[t][e]){return r(lO(aO[t][e]))}!function(e,t){PP||$P.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r({...cO,icon:$P.showMissingIcons&&e&&$A("missingIconAbstract")||{}})}))}const dO=()=>{},hO=$P.measurePerformance&&tP&&tP.mark&&tP.measure?tP:{mark:dO,measure:dO},fO='FA "6.6.0"',pO=e=>{hO.mark("".concat(fO," ").concat(e," ends")),hO.measure("".concat(fO," ").concat(e),"".concat(fO," ").concat(e," begins"),"".concat(fO," ").concat(e," ends"))};var mO={begin:e=>(hO.mark("".concat(fO," ").concat(e," begins")),()=>pO(e)),end:pO};const gO=()=>{};function yO(e){return"string"===typeof(e.getAttribute?e.getAttribute(xP):null)}function vO(e){return ZN.createElementNS("http://www.w3.org/2000/svg",e)}function bO(e){return ZN.createElement(e)}function wO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ceFn:n=("svg"===e.tag?vO:bO)}=t;if("string"===typeof e)return ZN.createTextNode(e);const r=n(e.tag);Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])}));return(e.children||[]).forEach((function(e){r.appendChild(wO(e,{ceFn:n}))})),r}const _O={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach((e=>{t.parentNode.insertBefore(wO(e),t)})),null===t.getAttribute(xP)&&$P.keepOriginalSource){let e=ZN.createComment(function(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~iA(t).indexOf($P.replacementClass))return _O.replace(e);const r=new RegExp("".concat($P.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const e=n[0].attributes.class.split(" ").reduce(((e,t)=>(t===$P.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e)),{toNode:[],toSvg:[]});n[0].attributes.class=e.toSvg.join(" "),0===e.toNode.length?t.removeAttribute("class"):t.setAttribute("class",e.toNode.join(" "))}const i=n.map((e=>vA(e))).join("\n");t.setAttribute(xP,""),t.innerHTML=i}};function xO(e){e()}function SO(e,t){const n="function"===typeof t?t:gO;if(0===e.length)n();else{let t=xO;$P.mutateApproach===IP&&(t=JN.requestAnimationFrame||xO),t((()=>{const t=!0===$P.autoReplaceSvg?_O.replace:_O[$P.autoReplaceSvg]||_O.replace,r=mO.begin("mutate");e.map(t),r(),n()}))}}let kO=!1;function EO(){kO=!0}function TO(){kO=!1}let CO=null;function IO(e){if(!eP)return;if(!$P.observeMutations)return;const{treeCallback:t=gO,nodeCallback:n=gO,pseudoElementsCallback:r=gO,observeMutationsRoot:i=ZN}=e;CO=new eP((e=>{if(kO)return;const i=VA();rA(e).forEach((e=>{if("childList"===e.type&&e.addedNodes.length>0&&!yO(e.addedNodes[0])&&($P.searchPseudoElements&&r(e.target),t(e.target)),"attributes"===e.type&&e.target.parentNode&&$P.searchPseudoElements&&r(e.target.parentNode),"attributes"===e.type&&yO(e.target)&&~HP.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){const t=e.getAttribute?e.getAttribute(EP):null,n=e.getAttribute?e.getAttribute(TP):null;return t&&n}(e.target)){const{prefix:t,iconName:n}=HA(iA(e.target));e.target.setAttribute(EP,t||i),n&&e.target.setAttribute(TP,n)}else(s=e.target)&&s.classList&&s.classList.contains&&s.classList.contains($P.replacementClass)&&n(e.target);var s}))})),nP&&CO.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function NO(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"";let i=HA(iA(e));return i.prefix||(i.prefix=VA()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(NA[e]||{})[t]}(i.prefix,e.innerText)||MA(i.prefix,_A(e.innerText))),!i.iconName&&$P.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function PO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=NO(e),s=function(e){const t=rA(e.attributes).reduce(((e,t)=>("class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e)),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return $P.autoA11y&&(n?t["aria-labelledby"]="".concat($P.replacementClass,"-title-").concat(r||nA()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),o=QA("parseNodeAttributes",{},e);let a=t.styleParser?function(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce(((e,t)=>{const n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}(e):[];return{iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:eA,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:a,attributes:s},...o}}const{styles:AO}=pA;function OO(e){const t="nest"===$P.autoReplaceSvg?PO(e,{styleParser:!1}):PO(e);return~t.extra.classes.indexOf(BP)?$A("generateLayersText",e,t):$A("generateSvgReplacementMutation",e,t)}let RO=new Set;function DO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!nP)return Promise.resolve();const n=ZN.documentElement.classList,r=e=>n.add("".concat(CP,"-").concat(e)),i=e=>n.remove("".concat(CP,"-").concat(e)),s=$P.autoFetchSvg?RO:AP.map((e=>"fa-".concat(e))).concat(Object.keys(AO));s.includes("fa")||s.push("fa");const o=[".".concat(BP,":not([").concat(xP,"])")].concat(s.map((e=>".".concat(e,":not([").concat(xP,"])")))).join(", ");if(0===o.length)return Promise.resolve();let a=[];try{a=rA(e.querySelectorAll(o))}catch(u){}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");const l=mO.begin("onTree"),c=a.reduce(((e,t)=>{try{const n=OO(t);n&&e.push(n)}catch(u){PP||"MissingIcon"===u.name&&console.error(u)}return e}),[]);return new Promise(((e,n)=>{Promise.all(c).then((n=>{SO(n,(()=>{r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),l(),e()}))})).catch((e=>{l(),n(e)}))}))}function jO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;OO(e).then((e=>{e&&SO([e],t)}))}AP.map((e=>{RO.add("fa-".concat(e))})),Object.keys(DP[iP]).map(RO.add.bind(RO)),Object.keys(DP[oP]).map(RO.add.bind(RO)),Object.keys(DP[aP]).map(RO.add.bind(RO)),RO=[...RO];const LO=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=eA,symbol:r=!1,mask:i=null,maskId:s=null,title:o=null,titleId:a=null,classes:l=[],attributes:c={},styles:u={}}=t;if(!e)return;const{prefix:d,iconName:h,icon:f}=e;return iO({type:"icon",...e},(()=>(XA("beforeDOMElementCreation",{iconDefinition:e,params:t}),$P.autoA11y&&(o?c["aria-labelledby"]="".concat($P.replacementClass,"-title-").concat(a||nA()):(c["aria-hidden"]="true",c.focusable="false")),sO({icons:{main:lO(f),mask:i?lO(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:h,transform:{...eA,...n},symbol:r,title:o,maskId:s,titleId:a,extra:{attributes:c,styles:u,classes:l}}))))};var MO={mixout(){return{icon:(e=LO,function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(t||{}).icon?t:JA(t||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:JA(i||{})),e(r,{...n,mask:i})})};var e},hooks:()=>({mutationObserverCallbacks:e=>(e.treeCallback=DO,e.nodeCallback=jO,e)}),provides(e){e.i2svg=function(e){const{node:t=ZN,callback:n=()=>{}}=e;return DO(t,n)},e.generateSvgReplacementMutation=function(e,t){const{iconName:n,title:r,titleId:i,prefix:s,transform:o,symbol:a,mask:l,maskId:c,extra:u}=t;return new Promise(((t,d)=>{Promise.all([uO(n,s),l.iconName?uO(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((l=>{let[d,h]=l;t([e,sO({icons:{main:d,mask:h},prefix:s,iconName:n,transform:o,symbol:a,maskId:c,title:r,titleId:i,extra:u,watchable:!0})])})).catch(d)}))},e.generateAbstractIcon=function(e){let{children:t,attributes:n,main:r,transform:i,styles:s}=e;const o=oA(s);let a;return o.length>0&&(n.style=o),aA(i)&&(a=$A("generateAbstractTransformGrouping",{main:r,transform:i,containerWidth:r.width,iconWidth:r.width})),t.push(a||r.icon),{children:t,attributes:n}}}},FO={mixout:()=>({layer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{classes:n=[]}=t;return iO({type:"layer"},(()=>{XA("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e((e=>{Array.isArray(e)?e.map((e=>{r=r.concat(e.abstract)})):r=r.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat($P.cssPrefix,"-layers"),...n].join(" ")},children:r}]}))}})},UO={mixout:()=>({counter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:s={}}=t;return iO({type:"counter",content:e},(()=>(XA("beforeDOMElementCreation",{content:e,params:t}),function(e){const{content:t,title:n,extra:r}=e,i={...r.attributes,...n?{title:n}:{},class:r.classes.join(" ")},s=oA(r.styles);s.length>0&&(i.style=s);const o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:e.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat($P.cssPrefix,"-layers-counter"),...r]}}))))}})},VO={mixout:()=>({text(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=eA,title:r=null,classes:i=[],attributes:s={},styles:o={}}=t;return iO({type:"text",content:e},(()=>(XA("beforeDOMElementCreation",{content:e,params:t}),oO({content:e,transform:{...eA,...n},title:r,extra:{attributes:s,styles:o,classes:["".concat($P.cssPrefix,"-layers-text"),...i]}}))))}}),provides(e){e.generateLayersText=function(e,t){const{title:n,transform:r,extra:i}=t;let s=null,o=null;if(rP){const t=parseInt(getComputedStyle(e).fontSize,10),n=e.getBoundingClientRect();s=n.width/t,o=n.height/t}return $P.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,oO({content:e.innerHTML,width:s,height:o,transform:r,title:n,extra:i,watchable:!0})])}}};const zO=new RegExp('"',"ug"),BO=[1105920,1112319],qO={FontAwesome:{normal:"fas",400:"fas"},"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"},"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"},"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},HO=Object.keys(qO).reduce(((e,t)=>(e[t.toLowerCase()]=qO[t],e)),{}),WO=Object.keys(HO).reduce(((e,t)=>{const n=HO[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e}),{});function GO(e,t){const n="".concat(kP).concat(t.replace(":","-"));return new Promise(((r,i)=>{if(null!==e.getAttribute(n))return r();const s=rA(e.children).filter((e=>e.getAttribute(SP)===t))[0],o=JN.getComputedStyle(e,t),a=o.getPropertyValue("font-family"),l=a.match(qP),c=o.getPropertyValue("font-weight"),u=o.getPropertyValue("content");if(s&&!l)return e.removeChild(s),r();if(l&&"none"!==u&&""!==u){const u=o.getPropertyValue("content");let d=function(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),i=isNaN(r)?"normal":r;return(HO[n]||{})[i]||WO[n]}(a,c);const{value:h,isSecondary:f}=function(e){const t=e.replace(zO,""),n=function(e,t){const n=e.length;let r,i=e.charCodeAt(t);return i>=55296&&i<=56319&&n>t+1&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?1024*(i-55296)+r-56320+65536:i}(t,0),r=n>=BO[0]&&n<=BO[1],i=2===t.length&&t[0]===t[1];return{value:_A(i?t[0]:t),isSecondary:r||i}}(u),p=l[0].startsWith("FontAwesome");let m=MA(d,h),g=m;if(p){const e=function(e){const t=AA[e],n=MA("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(h);e.iconName&&e.prefix&&(m=e.iconName,d=e.prefix)}if(!m||f||s&&s.getAttribute(EP)===d&&s.getAttribute(TP)===g)r();else{e.setAttribute(n,g),s&&e.removeChild(s);const o={iconName:null,title:null,titleId:null,prefix:null,transform:eA,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},{extra:a}=o;a.attributes[SP]=t,uO(m,d).then((i=>{const s=sO({...o,icons:{main:i,mask:zA()},prefix:d,iconName:g,extra:a,watchable:!0}),l=ZN.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(l,e.firstChild):e.appendChild(l),l.outerHTML=s.map((e=>vA(e))).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function KO(e){return Promise.all([GO(e,"::before"),GO(e,"::after")])}function YO(e){return e.parentNode!==document.head&&!~NP.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(SP)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function QO(e){if(nP)return new Promise(((t,n)=>{const r=rA(e.querySelectorAll("*")).filter(YO).map(KO),i=mO.begin("searchPseudoElements");EO(),Promise.all(r).then((()=>{i(),TO(),t()})).catch((()=>{i(),TO(),n()}))}))}var XO={hooks:()=>({mutationObserverCallbacks:e=>(e.pseudoElementsCallback=QO,e)}),provides(e){e.pseudoElements2svg=function(e){const{node:t=ZN}=e;$P.searchPseudoElements&&QO(t)}}};let $O=!1;var JO={mixout:()=>({dom:{unwatch(){EO(),$O=!0}}}),hooks:()=>({bootstrap(){IO(QA("mutationObserverCallbacks",{}))},noAuto(){CO&&CO.disconnect()},watch(e){const{observeMutationsRoot:t}=e;$O?TO():IO(QA("mutationObserverCallbacks",{observeMutationsRoot:t}))}})};const ZO=e=>e.toLowerCase().split(" ").reduce(((e,t)=>{const n=t.toLowerCase().split("-"),r=n[0];let i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0});var eR={mixout:()=>({parse:{transform:e=>ZO(e)}}),hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=ZO(n)),e}}),provides(e){e.generateAbstractTransformGrouping=function(e){let{main:t,transform:n,containerWidth:r,iconWidth:i}=e;const s={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),a="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={transform:"".concat(o," ").concat(a," ").concat(l)},u={transform:"translate(".concat(i/2*-1," -256)")};return{tag:"g",attributes:{...s},children:[{tag:"g",attributes:{...c},children:[{tag:t.icon.tag,children:t.icon.children,attributes:{...t.icon.attributes,...u}}]}]}}}};const tR={x:0,y:0,width:"100%",height:"100%"};function nR(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var rR={hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?HA(n.split(" ").map((e=>e.trim()))):zA();return r.prefix||(r.prefix=VA()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}),provides(e){e.generateAbstractMask=function(e){let{children:t,attributes:n,main:r,mask:i,maskId:s,transform:o}=e;const{width:a,icon:l}=r,{width:c,icon:u}=i,d=function(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:o,containerWidth:c,iconWidth:a}),h={tag:"rect",attributes:{...tR,fill:"white"}},f=l.children?{children:l.children.map(nR)}:{},p={tag:"g",attributes:{...d.inner},children:[nR({tag:l.tag,attributes:{...l.attributes,...d.path},...f})]},m={tag:"g",attributes:{...d.outer},children:[p]},g="mask-".concat(s||nA()),y="clip-".concat(s||nA()),v={tag:"mask",attributes:{...tR,id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[h,m]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(w=u,"g"===w.tag?w.children:[w])},v]};var w;return t.push(b,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")"),...tR}}),{children:t,attributes:n}}}},iR={provides(e){let t=!1;JN.matchMedia&&(t=JN.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:{...n,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const i={...r,attributeName:"opacity"},s={tag:"circle",attributes:{...n,cx:"256",cy:"364",r:"28"},children:[]};return t||s.children.push({tag:"animate",attributes:{...r,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...i,values:"1;0;1;1;0;1;"}}),e.push(s),e.push({tag:"path",attributes:{...n,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:t?[]:[{tag:"animate",attributes:{...i,values:"1;0;0;0;0;1;"}}]}),t||e.push({tag:"path",attributes:{...n,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...i,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){let{mixoutsTo:n}=t;WA=e,GA={},Object.keys(KA).forEach((e=>{-1===YA.indexOf(e)&&delete KA[e]})),WA.forEach((e=>{const t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((e=>{"function"===typeof t[e]&&(n[e]=t[e]),"object"===typeof t[e]&&Object.keys(t[e]).forEach((r=>{n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){const t=e.hooks();Object.keys(t).forEach((e=>{GA[e]||(GA[e]=[]),GA[e].push(t[e])}))}e.provides&&e.provides(KA)}))}([hA,MO,FO,UO,VO,XO,JO,eR,rR,iR,{hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}})}],{mixoutsTo:nO});const sR=nO.parse,oR=nO.icon;var aR=n(6405),lR=n.n(aR);function cR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cR(Object(n),!0).forEach((function(t){hR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dR(e){return dR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dR(e)}function hR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pR(e){return function(e){if(Array.isArray(e))return mR(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return mR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mR(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gR(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var yR=["style"];var vR=!1;try{vR=!0}catch(IH){}function bR(e){return e&&"object"===dR(e)&&e.prefix&&e.iconName&&e.icon?e:sR.icon?sR.icon(e):null===e?null:e&&"object"===dR(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function wR(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?hR({},e,t):{}}var _R={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},xR=r.forwardRef((function(e,t){var n=uR(uR({},_R),e),r=n.icon,i=n.mask,s=n.symbol,o=n.className,a=n.title,l=n.titleId,c=n.maskId,u=bR(r),d=wR("classes",[].concat(pR(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,s=e.bounce,o=e.shake,a=e.flash,l=e.spin,c=e.spinPulse,u=e.spinReverse,d=e.pulse,h=e.fixedWidth,f=e.inverse,p=e.border,m=e.listItem,g=e.flip,y=e.size,v=e.rotation,b=e.pull,w=(hR(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":u,"fa-spin-pulse":c,"fa-pulse":d,"fa-fw":h,"fa-inverse":f,"fa-border":p,"fa-li":m,"fa-flip":!0===g,"fa-flip-horizontal":"horizontal"===g||"both"===g,"fa-flip-vertical":"vertical"===g||"both"===g},"fa-".concat(y),"undefined"!==typeof y&&null!==y),hR(t,"fa-rotate-".concat(v),"undefined"!==typeof v&&null!==v&&0!==v),hR(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),hR(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(w).map((function(e){return w[e]?e:null})).filter((function(e){return e}))}(n)),pR((o||"").split(" ")))),h=wR("transform","string"===typeof n.transform?sR.transform(n.transform):n.transform),f=wR("mask",bR(i)),p=oR(u,uR(uR(uR(uR({},d),h),f),{},{symbol:s,title:a,titleId:l,maskId:c}));if(!p)return function(){var e;!vR&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",u),null;var m=p.abstract,g={ref:t};return Object.keys(n).forEach((function(e){_R.hasOwnProperty(e)||(g[e]=n[e])})),SR(m[0],g)}));xR.displayName="FontAwesomeIcon",xR.propTypes={beat:lR().bool,border:lR().bool,beatFade:lR().bool,bounce:lR().bool,className:lR().string,fade:lR().bool,flash:lR().bool,mask:lR().oneOfType([lR().object,lR().array,lR().string]),maskId:lR().string,fixedWidth:lR().bool,inverse:lR().bool,flip:lR().oneOf([!0,!1,"horizontal","vertical","both"]),icon:lR().oneOfType([lR().object,lR().array,lR().string]),listItem:lR().bool,pull:lR().oneOf(["right","left"]),pulse:lR().bool,rotation:lR().oneOf([0,90,180,270]),shake:lR().bool,size:lR().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:lR().bool,spinPulse:lR().bool,spinReverse:lR().bool,symbol:lR().oneOfType([lR().bool,lR().string]),title:lR().string,titleId:lR().string,transform:lR().oneOfType([lR().string,lR().object]),swapOpacity:lR().bool};var SR=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),s=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n=t.indexOf(":"),r=gR(t.slice(0,n)),i=t.slice(n+1).trim();return r.startsWith("webkit")?e[function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(r)]=i:e[r]=i,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[gR(t)]=r}return e}),{attrs:{}}),o=r.style,a=void 0===o?{}:o,l=fR(r,yR);return s.attrs.style=uR(uR({},s.attrs.style),a),t.apply(void 0,[n.tag,uR(uR({},s.attrs),l)].concat(pR(i)))}.bind(null,r.createElement);const kR={prefix:"fas",iconName:"message",icon:[512,512,["comment-alt"],"f27a","M64 0C28.7 0 0 28.7 0 64L0 352c0 35.3 28.7 64 64 64l96 0 0 80c0 6.1 3.4 11.6 8.8 14.3s11.9 2.1 16.8-1.5L309.3 416 448 416c35.3 0 64-28.7 64-64l0-288c0-35.3-28.7-64-64-64L64 0z"]},ER=kR,TR={prefix:"fas",iconName:"reply",icon:[512,512,[61714,"mail-reply"],"f3e5","M205 34.8c11.5 5.1 19 16.6 19 29.2l0 64 112 0c97.2 0 176 78.8 176 176c0 113.3-81.5 163.9-100.2 174.1c-2.5 1.4-5.3 1.9-8.1 1.9c-10.9 0-19.7-8.9-19.7-19.7c0-7.5 4.3-14.4 9.8-19.5c9.4-8.8 22.2-26.4 22.2-56.7c0-53-43-96-96-96l-96 0 0 64c0 12.6-7.4 24.1-19 29.2s-25 3-34.4-5.4l-160-144C3.9 225.7 0 217.1 0 208s3.9-17.7 10.6-23.8l160-144c9.4-8.5 22.9-10.6 34.4-5.4z"]},CR={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},IR={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},NR={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},PR=NR,AR={prefix:"fas",iconName:"paper-plane",icon:[512,512,[61913],"f1d8","M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480l0-83.6c0-4 1.5-7.8 4.2-10.8L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"]};var OR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},RR=r.createContext&&r.createContext(OR),DR=function(){return DR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},DR.apply(this,arguments)},jR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function LR(e){return e&&e.map((function(e,t){return r.createElement(e.tag,DR({key:t},e.attr),LR(e.child))}))}function MR(e){return function(t){return r.createElement(FR,DR({attr:DR({},e.attr)},t),LR(e.child))}}function FR(e){var t=function(t){var n,i=e.attr,s=e.size,o=e.title,a=jR(e,["attr","size","title"]),l=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",DR({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,a,{className:n,style:DR(DR({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==RR?r.createElement(RR.Consumer,null,(function(e){return t(e)})):t(OR)}function UR(e){return MR({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"}}]})(e)}function VR(e){return MR({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"}}]})(e)}function zR(e){return MR({tag:"svg",attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z"}}]})(e)}function BR(e){return MR({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zm-132.9 88.7L299.3 420.7c-6.2 6.2-16.4 6.2-22.6 0L171.3 315.3c-10.1-10.1-2.9-27.3 11.3-27.3H248V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16v112h65.4c14.2 0 21.4 17.2 11.3 27.3z"}}]})(e)}function qR(e){return MR({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function HR(e){return MR({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}var WR,GR="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{},KR={exports:{}};WR=function(){return(()=>{var e={720:(e,t,n)=>{n.r(t),n.d(t,{Scene:()=>Qe,Tweenable:()=>me,interpolate:()=>He,processTweens:()=>ae,setBezierFunction:()=>Xe,shouldScheduleUpdate:()=>ue,tween:()=>ge,unsetBezierFunction:()=>$e});var r={};n.r(r),n.d(r,{bounce:()=>L,bouncePast:()=>M,easeFrom:()=>U,easeFromTo:()=>F,easeInBack:()=>N,easeInCirc:()=>E,easeInCubic:()=>u,easeInExpo:()=>x,easeInOutBack:()=>A,easeInOutCirc:()=>C,easeInOutCubic:()=>h,easeInOutExpo:()=>k,easeInOutQuad:()=>c,easeInOutQuart:()=>m,easeInOutQuint:()=>v,easeInOutSine:()=>_,easeInQuad:()=>a,easeInQuart:()=>f,easeInQuint:()=>g,easeInSine:()=>b,easeOutBack:()=>P,easeOutBounce:()=>I,easeOutCirc:()=>T,easeOutCubic:()=>d,easeOutExpo:()=>S,easeOutQuad:()=>l,easeOutQuart:()=>p,easeOutQuint:()=>y,easeOutSine:()=>w,easeTo:()=>V,elastic:()=>O,linear:()=>o,swingFrom:()=>D,swingFromTo:()=>R,swingTo:()=>j});var i={};n.r(i),n.d(i,{afterTween:()=>Ue,beforeTween:()=>Fe,doesApply:()=>Le,tweenCreated:()=>Me});var s,o=function(e){return e},a=function(e){return Math.pow(e,2)},l=function(e){return-(Math.pow(e-1,2)-1)},c=function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},u=function(e){return Math.pow(e,3)},d=function(e){return Math.pow(e-1,3)+1},h=function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},f=function(e){return Math.pow(e,4)},p=function(e){return-(Math.pow(e-1,4)-1)},m=function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},g=function(e){return Math.pow(e,5)},y=function(e){return Math.pow(e-1,5)+1},v=function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},b=function(e){return 1-Math.cos(e*(Math.PI/2))},w=function(e){return Math.sin(e*(Math.PI/2))},_=function(e){return-.5*(Math.cos(Math.PI*e)-1)},x=function(e){return 0===e?0:Math.pow(2,10*(e-1))},S=function(e){return 1===e?1:1-Math.pow(2,-10*e)},k=function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},E=function(e){return-(Math.sqrt(1-e*e)-1)},T=function(e){return Math.sqrt(1-Math.pow(e-1,2))},C=function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},I=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},N=function(e){var t=1.70158;return e*e*((t+1)*e-t)},P=function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},A=function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},O=function(e){return-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1},R=function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},D=function(e){var t=1.70158;return e*e*((t+1)*e-t)},j=function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},L=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},M=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},F=function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},U=function(e){return Math.pow(e,4)},V=function(e){return Math.pow(e,.25)};function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G,K,Y,Q="linear",X="undefined"!=typeof window?window:GR,$="afterTween",J="beforeTween",Z="string",ee=X.requestAnimationFrame||X.webkitRequestAnimationFrame||X.oRequestAnimationFrame||X.msRequestAnimationFrame||X.mozCancelRequestAnimationFrame&&X.mozRequestAnimationFrame||setTimeout,te=function(){},ne=null,re=null,ie=H({},r),se=function(e,t,n,r,i,s,o){var a,l,c,u=e<s?0:(e-s)/i,d=!1;for(var h in o&&o.call&&(d=!0,a=o(u)),t)d||(a=((l=o[h]).call?l:ie[l])(u)),c=n[h],t[h]=c+(r[h]-c)*a;return t},oe=function(e,t){var n=e._timestamp,r=e._currentState,i=e._delay;if(!(t<n+i)){var s=e._duration,o=e._targetState,a=n+i+s,l=t>a?a:t;e._hasEnded=l>=a;var c=s-(a-l),u=e._filters.length>0;if(e._hasEnded)return e._render(o,e._data,c),e.stop(!0);u&&e._applyFilter(J),l<n+i?n=s=l=1:n+=i,se(l,r,e._originalState,o,s,n,e._easing),u&&e._applyFilter($),e._render(r,e._data,c)}},ae=function(){for(var e,t=me.now(),n=ne;n;)e=n._next,oe(n,t),n=e},le=Date.now||function(){return+new Date},ce=!1,ue=function(e){e&&ce||(ce=e,e&&de())},de=function e(){G=le(),ce&&ee.call(X,e,16.666666666666668),ae()},he=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=B(t);if(ie[t])return ie[t];if(r===Z||"function"===r)for(var i in e)n[i]=t;else for(var s in e)n[s]=t[s]||Q;return n},fe=function(e){e===ne?(ne=e._next)?ne._previous=null:re=null:e===re?(re=e._previous)?re._next=null:ne=null:(K=e._previous,Y=e._next,K._next=Y,Y._previous=K),e._previous=e._next=null},pe="function"==typeof Promise?Promise:null;s=Symbol.toStringTag;var me=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),W(this,s,"Promise"),this._config={},this._data={},this._delay=0,this._filters=[],this._next=null,this._previous=null,this._timestamp=null,this._hasEnded=!1,this._resolve=null,this._reject=null,this._currentState=t||{},this._originalState={},this._targetState={},this._start=te,this._render=te,this._promiseCtor=pe,n&&this.setConfig(n)}var t,n;return t=e,n=[{key:"_applyFilter",value:function(e){for(var t=this._filters.length;t>0;t--){var n=this._filters[t-t][e];n&&n(this)}}},{key:"tween",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return this._isPlaying&&this.stop(),!t&&this._config||this.setConfig(t),this._pausedAtTime=null,this._timestamp=e.now(),this._start(this.get(),this._data),this._delay&&this._render(this._currentState,this._data,0),this._resume(this._timestamp)}},{key:"setConfig",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._config;for(var r in t)n[r]=t[r];var i=n.promise,s=void 0===i?this._promiseCtor:i,o=n.start,a=void 0===o?te:o,l=n.finish,c=n.render,u=void 0===c?this._config.step||te:c,d=n.step,h=void 0===d?te:d;this._data=n.data||n.attachment||this._data,this._isPlaying=!1,this._pausedAtTime=null,this._scheduleId=null,this._delay=t.delay||0,this._start=a,this._render=u||h,this._duration=n.duration||500,this._promiseCtor=s,l&&(this._resolve=l);var f=t.from,p=t.to,m=void 0===p?{}:p,g=this._currentState,y=this._originalState,v=this._targetState;for(var b in f)g[b]=f[b];var w=!1;for(var _ in g){var x=g[_];w||B(x)!==Z||(w=!0),y[_]=x,v[_]=m.hasOwnProperty(_)?m[_]:x}if(this._easing=he(this._currentState,n.easing,this._easing),this._filters.length=0,w){for(var S in e.filters)e.filters[S].doesApply(this)&&this._filters.push(e.filters[S]);this._applyFilter("tweenCreated")}return this}},{key:"then",value:function(e,t){var n=this;return this._promise=new this._promiseCtor((function(e,t){n._resolve=e,n._reject=t})),this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then().catch(e)}},{key:"finally",value:function(e){return this.then().finally(e)}},{key:"get",value:function(){return H({},this._currentState)}},{key:"set",value:function(e){this._currentState=e}},{key:"pause",value:function(){if(this._isPlaying)return this._pausedAtTime=e.now(),this._isPlaying=!1,fe(this),this}},{key:"resume",value:function(){return this._resume()}},{key:"_resume",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.now();return null===this._timestamp?this.tween():this._isPlaying?this._promise:(this._pausedAtTime&&(this._timestamp+=t-this._pausedAtTime,this._pausedAtTime=null),this._isPlaying=!0,null===ne?(ne=this,re=this):(this._previous=re,re._next=this,re=this),this)}},{key:"seek",value:function(t){t=Math.max(t,0);var n=e.now();return this._timestamp+t===0||(this._timestamp=n-t,oe(this,n)),this}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._isPlaying)return this;this._isPlaying=!1,fe(this);var t=this._filters.length>0;return e&&(t&&this._applyFilter(J),se(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),t&&(this._applyFilter($),this._applyFilter("afterTweenEnd"))),this._resolve&&this._resolve({data:this._data,state:this._currentState,tweenable:this}),this._resolve=null,this._reject=null,this}},{key:"cancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._currentState,n=this._data;return this._isPlaying?(this._reject&&this._reject({data:n,state:t,tweenable:this}),this._resolve=null,this._reject=null,this.stop(e)):this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"hasEnded",value:function(){return this._hasEnded}},{key:"setScheduleFunction",value:function(t){e.setScheduleFunction(t)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e&&(this._data=H({},e)),this._data}},{key:"dispose",value:function(){for(var e in this)delete this[e]}}],n&&z(t.prototype,n),e}();function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new me;return t.tween(e),t.tweenable=t,t}W(me,"now",(function(){return G})),W(me,"setScheduleFunction",(function(e){return ee=e})),W(me,"filters",{}),W(me,"formulas",ie),ue(!0);var ye,ve,be=/(\d|-|\.)/,we=/([^\-0-9.]+)/g,_e=/[0-9.-]+/g,xe=(ye=_e.source,ve=/,\s*/.source,new RegExp("rgba?\\(".concat(ye).concat(ve).concat(ye).concat(ve).concat(ye,"(").concat(ve).concat(ye,")?\\)"),"g")),Se=/^.*\(/,ke=/#([0-9]|[a-f]){3,6}/gi,Ee="VAL",Te=function(e,t){return e.map((function(e,n){return"_".concat(t,"_").concat(n)}))};function Ce(e){return parseInt(e,16)}var Ie=function(e){return"rgb(".concat((t=e,3===(t=t.replace(/#/,"")).length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]),[Ce(t.substr(0,2)),Ce(t.substr(2,2)),Ce(t.substr(4,2))]).join(","),")");var t},Ne=function(e,t,n){var r=t.match(e),i=t.replace(e,Ee);return r&&r.forEach((function(e){return i=i.replace(Ee,n(e))})),i},Pe=function(e){for(var t in e){var n=e[t];"string"==typeof n&&n.match(ke)&&(e[t]=Ne(ke,n,Ie))}},Ae=function(e){var t=e.match(_e),n=t.slice(0,3).map(Math.floor),r=e.match(Se)[0];if(3===t.length)return"".concat(r).concat(n.join(","),")");if(4===t.length)return"".concat(r).concat(n.join(","),",").concat(t[3],")");throw new Error("Invalid rgbChunk: ".concat(e))},Oe=function(e){return e.match(_e)},Re=function(e,t){var n={};return t.forEach((function(t){n[t]=e[t],delete e[t]})),n},De=function(e,t){return t.map((function(t){return e[t]}))},je=function(e,t){return t.forEach((function(t){return e=e.replace(Ee,+t.toFixed(4))})),e},Le=function(e){for(var t in e._currentState)if("string"==typeof e._currentState[t])return!0;return!1};function Me(e){var t=e._currentState;[t,e._originalState,e._targetState].forEach(Pe),e._tokenData=function(e){var t,n,r={};for(var i in e){var s=e[i];"string"==typeof s&&(r[i]={formatString:(t=s,n=void 0,n=t.match(we),n?(1===n.length||t.charAt(0).match(be))&&n.unshift(""):n=["",""],n.join(Ee)),chunkNames:Te(Oe(s),i)})}return r}(t)}function Fe(e){var t=e._currentState,n=e._originalState,r=e._targetState,i=e._easing,s=e._tokenData;!function(e,t){var n=function(n){var r=t[n].chunkNames,i=e[n];if("string"==typeof i){var s=i.split(" "),o=s[s.length-1];r.forEach((function(t,n){return e[t]=s[n]||o}))}else r.forEach((function(t){return e[t]=i}));delete e[n]};for(var r in t)n(r)}(i,s),[t,n,r].forEach((function(e){return function(e,t){var n=function(n){Oe(e[n]).forEach((function(r,i){return e[t[n].chunkNames[i]]=+r})),delete e[n]};for(var r in t)n(r)}(e,s)}))}function Ue(e){var t=e._currentState,n=e._originalState,r=e._targetState,i=e._easing,s=e._tokenData;[t,n,r].forEach((function(e){return function(e,t){for(var n in t){var r=t[n],i=r.chunkNames,s=r.formatString,o=je(s,De(Re(e,i),i));e[n]=Ne(xe,o,Ae)}}(e,s)})),function(e,t){for(var n in t){var r=t[n].chunkNames,i=e[r[0]];e[n]="string"==typeof i?r.map((function(t){var n=e[t];return delete e[t],n})).join(" "):i}}(i,s)}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Be=new me,qe=me.filters,He=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),o=he(e,r);for(var a in Be._filters.length=0,Be.set({}),Be._currentState=s,Be._originalState=e,Be._targetState=t,Be._easing=o,qe)qe[a].doesApply(Be)&&Be._filters.push(qe[a]);Be._applyFilter("tweenCreated"),Be._applyFilter("beforeTween");var l=se(n,s,e,t,1,i,o);return Be._applyFilter("afterTween"),l};function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}var Ye=new WeakMap,Qe=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),Ye.set(this,{writable:!0,value:[]});for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(this.add.bind(this))}var t,n;return t=e,(n=[{key:"add",value:function(e){return Ke(this,Ye).push(e),e}},{key:"remove",value:function(e){var t=Ke(this,Ye).indexOf(e);return~t&&Ke(this,Ye).splice(t,1),e}},{key:"empty",value:function(){return this.tweenables.map(this.remove.bind(this))}},{key:"isPlaying",value:function(){return Ke(this,Ye).some((function(e){return e.isPlaying()}))}},{key:"play",value:function(){return Ke(this,Ye).forEach((function(e){return e.tween()})),this}},{key:"pause",value:function(){return Ke(this,Ye).forEach((function(e){return e.pause()})),this}},{key:"resume",value:function(){return Ke(this,Ye).forEach((function(e){return e.resume()})),this}},{key:"stop",value:function(e){return Ke(this,Ye).forEach((function(t){return t.stop(e)})),this}},{key:"tweenables",get:function(){return function(e){return function(e){if(Array.isArray(e))return We(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ke(this,Ye))}},{key:"promises",get:function(){return Ke(this,Ye).map((function(e){return e.then()}))}}])&&Ge(t.prototype,n),e}();var Xe=function(e,t,n,r,i){var s=function(e,t,n,r){return function(i){return function(e,t,n,r,i,s){var o,a,l,c,u,d=0,h=0,f=0,p=function(e){return((d*e+h)*e+f)*e},m=function(e){return(3*d*e+2*h)*e+f},g=function(e){return e>=0?e:0-e};return d=1-(f=3*t)-(h=3*(r-t)-f),l=1-(u=3*n)-(c=3*(i-n)-u),o=e,a=function(e){return 1/(200*e)}(s),function(e){return((l*e+c)*e+u)*e}(function(e,t){var n,r,i,s,o,a;for(i=e,a=0;a<8;a++){if(s=p(i)-e,g(s)<t)return i;if(o=m(i),g(o)<1e-6)break;i-=s/o}if((i=e)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(s=p(i),g(s-e)<t)return i;e>s?n=i:r=i,i=.5*(r-n)+n}return i}(o,a))}(i,e,t,n,r,1)}}(t,n,r,i);return s.displayName=e,s.x1=t,s.y1=n,s.x2=r,s.y2=i,me.formulas[e]=s},$e=function(e){return delete me.formulas[e]};me.filters.token=i}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}return n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(720)})()},KR.exports=WR();var YR="Webkit Moz O ms".split(" ");function QR(e,t,n){for(var r=e.style,i=0;i<YR.length;++i)r[YR[i]+XR(t)]=n;r[t]=n}function XR(e){return e.charAt(0).toUpperCase()+e.slice(1)}function $R(e){return!function(e){return"[object Array]"===Object.prototype.toString.call(e)}(e)&&"object"===typeof e&&!!e}function JR(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}var ZR={extend:function e(t,n,r){for(var i in t=t||{},r=r||!1,n=n||{})if(n.hasOwnProperty(i)){var s=t[i],o=n[i];r&&$R(s)&&$R(o)?t[i]=e(s,o,r):t[i]=o}return t},render:function(e,t){var n=e;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],s=new RegExp("\\{"+r+"\\}","g");n=n.replace(s,i)}return n},setStyle:QR,setStyles:function(e,t){JR(t,(function(t,n){null!=t&&($R(t)&&!0===t.prefix?QR(e,n,t.value):e.style[n]=t)}))},capitalize:XR,isString:function(e){return"string"==typeof e||e instanceof String},isFunction:function(e){return"function"==typeof e},isObject:$R,forEachObject:JR,floatEquals:function(e,t){return Math.abs(e-t)<.001},removeChildren:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}},eD=KR.exports,tD=ZR,nD=eD.Tweenable,rD={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},iD=function e(t,n){if(!(this instanceof e))throw new Error("Constructor was called without new keyword");var r;n=tD.extend({delay:0,duration:800,easing:"linear",from:{},to:{},step:function(){}},n),r=tD.isString(t)?document.querySelector(t):t,this.path=r,this._opts=n,this._tweenable=null;var i=this.path.getTotalLength();this.path.style.strokeDasharray=i+" "+i,this.set(0)};iD.prototype.value=function(){var e=this._getComputedDashOffset(),t=this.path.getTotalLength();return parseFloat((1-e/t).toFixed(6),10)},iD.prototype.set=function(e){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(e);var t=this._opts.step;if(tD.isFunction(t)){var n=this._easing(this._opts.easing);t(this._calculateTo(e,n),this._opts.shape||this,this._opts.attachment)}},iD.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},iD.prototype.animate=function(e,t,n){t=t||{},tD.isFunction(t)&&(n=t,t={});var r=tD.extend({},t),i=tD.extend({},this._opts);t=tD.extend(i,t);var s=this._easing(t.easing),o=this._resolveFromAndTo(e,s,r);this.stop(),this.path.getBoundingClientRect();var a=this._getComputedDashOffset(),l=this._progressToOffset(e),c=this;this._tweenable=new nD,this._tweenable.tween({from:tD.extend({offset:a},o.from),to:tD.extend({offset:l},o.to),duration:t.duration,delay:t.delay,easing:s,step:function(e){c.path.style.strokeDashoffset=e.offset;var n=t.shape||c;t.step(e,n,t.attachment)}}).then((function(e){tD.isFunction(n)&&n()}))},iD.prototype._getComputedDashOffset=function(){var e=window.getComputedStyle(this.path,null);return parseFloat(e.getPropertyValue("stroke-dashoffset"),10)},iD.prototype._progressToOffset=function(e){var t=this.path.getTotalLength();return t-e*t},iD.prototype._resolveFromAndTo=function(e,t,n){return n.from&&n.to?{from:n.from,to:n.to}:{from:this._calculateFrom(t),to:this._calculateTo(e,t)}},iD.prototype._calculateFrom=function(e){return eD.interpolate(this._opts.from,this._opts.to,this.value(),e)},iD.prototype._calculateTo=function(e,t){return eD.interpolate(this._opts.from,this._opts.to,e,t)},iD.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},iD.prototype._easing=function(e){return rD.hasOwnProperty(e)?rD[e]:e};var sD=iD,oD=sD,aD=ZR,lD="Object is destroyed",cD=function e(t,n){if(!(this instanceof e))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=aD.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},n,!0),aD.isObject(n)&&void 0!==n.svgStyle&&(this._opts.svgStyle=n.svgStyle),aD.isObject(n)&&aD.isObject(n.text)&&void 0!==n.text.style&&(this._opts.text.style=n.text.style);var r,i=this._createSvgView(this._opts);if(!(r=aD.isString(t)?document.querySelector(t):t))throw new Error("Container does not exist: "+t);this._container=r,this._container.appendChild(i.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&aD.setStyles(i.svg,this._opts.svgStyle),this.svg=i.svg,this.path=i.path,this.trail=i.trail,this.text=null;var s=aD.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new oD(i.path,s),aD.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}};cD.prototype.animate=function(e,t,n){if(null===this._progressPath)throw new Error(lD);this._progressPath.animate(e,t,n)},cD.prototype.stop=function(){if(null===this._progressPath)throw new Error(lD);void 0!==this._progressPath&&this._progressPath.stop()},cD.prototype.pause=function(){if(null===this._progressPath)throw new Error(lD);void 0!==this._progressPath&&this._progressPath._tweenable&&this._progressPath._tweenable.pause()},cD.prototype.resume=function(){if(null===this._progressPath)throw new Error(lD);void 0!==this._progressPath&&this._progressPath._tweenable&&this._progressPath._tweenable.resume()},cD.prototype.destroy=function(){if(null===this._progressPath)throw new Error(lD);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},cD.prototype.set=function(e){if(null===this._progressPath)throw new Error(lD);this._progressPath.set(e)},cD.prototype.value=function(){if(null===this._progressPath)throw new Error(lD);return void 0===this._progressPath?0:this._progressPath.value()},cD.prototype.setText=function(e){if(null===this._progressPath)throw new Error(lD);null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),aD.isObject(e)?(aD.removeChildren(this.text),this.text.appendChild(e)):this.text.innerHTML=e},cD.prototype._createSvgView=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(t,e);var n=null;(e.trailColor||e.trailWidth)&&(n=this._createTrail(e),t.appendChild(n));var r=this._createPath(e);return t.appendChild(r),{svg:t,path:r,trail:n}},cD.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 100")},cD.prototype._createPath=function(e){var t=this._pathString(e);return this._createPathElement(t,e)},cD.prototype._createTrail=function(e){var t=this._trailString(e),n=aD.extend({},e);return n.trailColor||(n.trailColor="#eee"),n.trailWidth||(n.trailWidth=n.strokeWidth),n.color=n.trailColor,n.strokeWidth=n.trailWidth,n.fill=null,this._createPathElement(t,n)},cD.prototype._createPathElement=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n.setAttribute("stroke",t.color),n.setAttribute("stroke-width",t.strokeWidth),t.fill?n.setAttribute("fill",t.fill):n.setAttribute("fill-opacity","0"),n},cD.prototype._createTextContainer=function(e,t){var n=document.createElement("div");n.className=e.text.className;var r=e.text.style;return r&&(e.text.autoStyleContainer&&(t.style.position="relative"),aD.setStyles(n,r),r.color||(n.style.color=e.color)),this._initializeTextContainer(e,t,n),n},cD.prototype._initializeTextContainer=function(e,t,n){},cD.prototype._pathString=function(e){throw new Error("Override this function for each progress bar")},cD.prototype._trailString=function(e){throw new Error("Override this function for each progress bar")},cD.prototype._warnContainerAspectRatio=function(e){if(this.containerAspectRatio){var t=window.getComputedStyle(e,null),n=parseFloat(t.getPropertyValue("width"),10),r=parseFloat(t.getPropertyValue("height"),10);aD.floatEquals(this.containerAspectRatio,n/r)||(console.warn("Incorrect aspect ratio of container","#"+e.id,"detected:",t.getPropertyValue("width")+"(width)","/",t.getPropertyValue("height")+"(height)","=",n/r),console.warn("Aspect ratio of should be",this.containerAspectRatio))}};var uD=cD,dD=uD,hD=ZR,fD=function(e,t){this._pathTemplate="M 0,{center} L 100,{center}",dD.apply(this,arguments)};(fD.prototype=new dD).constructor=fD,fD.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 "+t.strokeWidth),e.setAttribute("preserveAspectRatio","none")},fD.prototype._pathString=function(e){return hD.render(this._pathTemplate,{center:e.strokeWidth/2})},fD.prototype._trailString=function(e){return this._pathString(e)};var pD=fD,mD=uD,gD=ZR,yD=function(e,t){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,mD.apply(this,arguments)};(yD.prototype=new mD).constructor=yD,yD.prototype._pathString=function(e){var t=e.strokeWidth;e.trailWidth&&e.trailWidth>e.strokeWidth&&(t=e.trailWidth);var n=50-t/2;return gD.render(this._pathTemplate,{radius:n,"2radius":2*n})},yD.prototype._trailString=function(e){return this._pathString(e)};var vD=yD,bD=uD,wD=vD,_D=ZR,xD=function(e,t){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,bD.apply(this,arguments)};(xD.prototype=new bD).constructor=xD,xD.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 50")},xD.prototype._initializeTextContainer=function(e,t,n){e.text.style&&(n.style.top="auto",n.style.bottom="0",e.text.alignToBottom?_D.setStyle(n,"transform","translate(-50%, 0)"):_D.setStyle(n,"transform","translate(-50%, 50%)"))},xD.prototype._pathString=wD.prototype._pathString,xD.prototype._trailString=wD.prototype._trailString;var SD=xD,kD=uD,ED=ZR,TD=function(e,t){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",kD.apply(this,arguments)};(TD.prototype=new kD).constructor=TD,TD.prototype._pathString=function(e){var t=100-e.strokeWidth/2;return ED.render(this._pathTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2})},TD.prototype._trailString=function(e){var t=100-e.strokeWidth/2;return ED.render(this._trailTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2,startMargin:e.strokeWidth/2-e.trailWidth/2})};var CD,ID,ND={Line:pD,Circle:vD,SemiCircle:SD,Square:TD,Path:sD,Shape:uD,utils:ZR},PD=function(e){var t=e.animate,n=e.progressOptions,i=e.className,s=(0,r.useMemo)((function(){return CD=document.createElement("div"),new ND.Circle(CD,n)}),[]),o=(0,r.useCallback)((function(e){e&&e.appendChild(CD)}),[]);return(0,r.useEffect)((function(){s.animate(t)}),[t,s]),(0,CN.jsx)("div",{className:i,ref:o})},AD=function(){return AD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},AD.apply(this,arguments)},OD=function(e){var t,n,r,i,s,o,a,l,c,u,d,h,f,p={strokeWidth:2.3,color:"#efe",trailColor:"#aaa",trailWidth:1,step:function(e,t){var n,r;t.path.setAttribute("trail",null===(n=null==e?void 0:e.state)||void 0===n?void 0:n.color),t.path.setAttribute("trailwidth-width",null===(r=null==e?void 0:e.state)||void 0===r?void 0:r.width);var i=Math.round(100*t.value());0===i?t.setText(""):t.setText(i)}},m=(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.status)&&!0===(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.status.error);return(0,CN.jsxs)("div",AD({className:"rce-mbox-photo"},{children:[(0,CN.jsxs)("div",AD({className:"rce-mbox-photo--img",style:AD({},(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.width)&&(null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.height)&&{width:e.data.width,height:e.data.height})},{children:[(0,CN.jsx)("img",{src:null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.uri,alt:null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.alt,onClick:e.onOpen,onLoad:e.onLoad,onError:e.onPhotoError}),m&&(0,CN.jsx)("div",AD({className:"rce-mbox-photo--img__block"},{children:(0,CN.jsx)("span",AD({className:"rce-mbox-photo--img__block-item rce-mbox-photo--error"},{children:(0,CN.jsx)(qR,{})}))})),!m&&(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.status)&&!(null===(c=null===(l=null==e?void 0:e.data)||void 0===l?void 0:l.status)||void 0===c?void 0:c.download)&&(0,CN.jsxs)("div",AD({className:"rce-mbox-photo--img__block"},{children:[!(null===(u=null==e?void 0:e.data)||void 0===u?void 0:u.status.click)&&(0,CN.jsx)("button",AD({onClick:e.onDownload,className:"rce-mbox-photo--img__block-item rce-mbox-photo--download"},{children:(0,CN.jsx)(BR,{})})),"number"==typeof(null===(d=null==e?void 0:e.data)||void 0===d?void 0:d.status.loading)&&0!==(null===(h=null==e?void 0:e.data)||void 0===h?void 0:h.status.loading)&&(0,CN.jsx)(PD,{animate:null===(f=null==e?void 0:e.data)||void 0===f?void 0:f.status.loading,progressOptions:p,className:"rce-mbox-photo--img__block-item"})]}))]})),(null==e?void 0:e.text)&&(0,CN.jsx)("div",AD({className:"rce-mbox-text"},{children:e.text}))]}))},RD=function(){return RD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},RD.apply(this,arguments)},DD=function(e){var t,n,r,i,s,o,a,l,c,u={strokeWidth:5,color:"#333",trailColor:"#aaa",trailWidth:5,step:function(e,t){t.path.setAttribute("trail",e.color),t.path.setAttribute("trailwidth-width",e.width);var n=Math.round(100*t.value());0===n?t.setText(""):t.setText(n)}},d=(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.status)&&!0===(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.status.error);return(0,CN.jsx)("div",RD({className:"rce-mbox-file"},{children:(0,CN.jsxs)("button",RD({onClick:function(t){var n,r,i;(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.status)&&(!(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.status.download)&&e.onDownload instanceof Function?e.onDownload(t):(null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.status.download)&&e.onOpen instanceof Function&&e.onOpen(t))}},{children:[(0,CN.jsxs)("div",RD({className:"rce-mbox-file--icon"},{children:[(0,CN.jsx)(HR,{color:"#aaa"}),(0,CN.jsx)("div",RD({className:"rce-mbox-file--size"},{children:null==e?void 0:e.data.size}))]})),(0,CN.jsx)("div",RD({className:"rce-mbox-file--text"},{children:e.text})),(0,CN.jsxs)("div",RD({className:"rce-mbox-file--buttons"},{children:[d&&(0,CN.jsx)("span",RD({className:"rce-error-button"},{children:(0,CN.jsx)(qR,{color:"#ff3d3d"})})),!d&&(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.status)&&!(null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.status.download)&&!(null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.status.click)&&(0,CN.jsx)(BR,{color:"#aaa"}),!d&&(null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.status)&&"number"==typeof(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.status.loading)&&0!==(null===(l=null==e?void 0:e.data)||void 0===l?void 0:l.status.loading)&&(0,CN.jsx)(PD,{animate:null===(c=null==e?void 0:e.data)||void 0===c?void 0:c.status.loading,className:"rce-mbox-file--loading",progressOptions:u})]}))]}))}))},jD={exports:{}};ID=jD,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var s=typeof i;if("string"===s||"number"===s)n.push(i);else if(Array.isArray(i)){if(i.length){var o=t.apply(null,i);o&&n.push(o)}}else if("object"===s){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){n.push(i.toString());continue}for(var a in i)e.call(i,a)&&i[a]&&n.push(a)}}}return n.join(" ")}ID.exports?(t.default=t,ID.exports=t):window.classNames=t}();var LD=jD.exports,MD=function(){return MD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},MD.apply(this,arguments)},FD=function(e){return(0,CN.jsx)("div",MD({className:LD("rce-container-smsg",e.className)},{children:(0,CN.jsx)("div",MD({className:"rce-smsg"},{children:(0,CN.jsx)("div",MD({className:"rce-smsg-text"},{children:e.text}))}))}))},UD=function(){return UD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},UD.apply(this,arguments)},VD=function(e){var t,n=e.markerColor,r=void 0===n?"red":n,i=e.target,s=void 0===i?"_blank":i,o=e.zoom,a=void 0===o?"14":o,l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["markerColor","target","zoom"]),c=function(e){return e.replace(/LATITUDE/g,null==l?void 0:l.data.latitude).replace(/LONGITUDE/g,null==l?void 0:l.data.longitude).replace("MARKER_COLOR",r).replace("ZOOM",a).replace("KEY",l.apiKey)};return(0,CN.jsxs)("div",UD({className:"rce-container-lmsg"},{children:[(0,CN.jsx)("a",UD({onClick:l.onOpen,target:s,href:l.href||l.src||c(l.data.mapURL||"https://www.google.com/maps/search/?api=1&query=LATITUDE,LONGITUDE&zoom=ZOOM"),className:(t=LD("rce-mbox-location",l.className),l.text&&(t=LD(t,"rce-mbox-location-has-text")),t)},{children:(0,CN.jsx)("img",{onError:l.onError,className:"rce-mbox-location-img",src:l.src||c(l.data.staticURL||"https://maps.googleapis.com/maps/api/staticmap?markers=color:MARKER_COLOR|LATITUDE,LONGITUDE&zoom=ZOOM&size=270x200&scale=2&key=KEY")})})),l.text&&(0,CN.jsx)("div",UD({className:"rce-mbox-text rce-mbox-location-text"},{children:l.text}))]}))},zD=function(){return zD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zD.apply(this,arguments)},BD=function(e){var t=e.width,n=void 0===t?300:t,r=e.height,i=void 0===r?380:r,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["width","height"]);return s.uri?(0,CN.jsx)("div",zD({className:"rce-mbox-spotify"},{children:(0,CN.jsx)("iframe",{src:"https://open.spotify.com/embed?"+function(){var e=[];for(var t in s){var n=encodeURIComponent(t),r=encodeURIComponent(s[t]);e.push(n+"="+r)}return e.join("&")}(),width:n,height:i,frameBorder:"0",allowTransparency:!0})})):null},qD=function(){return qD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qD.apply(this,arguments)},HD=function(e){var t=e.onClick,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["onClick"]);return(0,CN.jsxs)("div",qD({className:LD("rce-mbox-reply",{"rce-mbox-reply-border":!!n.titleColor}),style:qD({},n.titleColor&&{borderColor:n.titleColor}),onClick:t},{children:[(0,CN.jsxs)("div",qD({className:"rce-mbox-reply-left"},{children:[(0,CN.jsx)("div",qD({style:qD({},n.titleColor&&{color:n.titleColor}),className:"rce-mbox-reply-owner"},{children:n.title||"Unknown"})),(0,CN.jsx)("div",qD({className:"rce-mbox-reply-message"},{children:n.message||"..."}))]})),n.photoURL&&(0,CN.jsx)("div",qD({className:"rce-mbox-reply-right"},{children:(0,CN.jsx)("img",{src:n.photoURL,alt:""})}))]}))};function WD(e){return MR({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"}}]})(e)}function GD(e){return MR({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M317.5 210.3c1.7-1.8 1.8-4.7 0-6.5l-19.8-21c-.8-.9-2-1.4-3.2-1.4-1.2 0-2.4.5-3.2 1.4l-66.5 69.1 26.4 27.1 66.3-68.7zM123.8 253.1c-.9-.9-2-1.4-3.2-1.4-1.2 0-2.3.5-3.2 1.4l-20.1 20.7c-1.8 1.8-1.8 4.8 0 6.6l63.2 65c4 4.2 9 6.6 13.2 6.6 6 0 11.1-4.5 13.1-6.4l.1-.1 13.4-13.8-76.5-78.6z"}},{tag:"path",attr:{d:"M414.7 182.4l-19.8-21c-.8-.9-2-1.4-3.2-1.4-1.2 0-2.4.5-3.2 1.4L250.7 304.1l-50.1-51.6c-.9-.9-2-1.4-3.2-1.4-1.2 0-2.3.5-3.2 1.4l-20.1 20.7c-1.8 1.8-1.8 4.8 0 6.6l63.2 65c4 4.2 9 6.6 13.2 6.6 6 0 11.1-4.5 13.1-6.4l.1-.1 151-156.1c1.7-1.7 1.7-4.6 0-6.4z"}}]})(e)}function KD(e){return MR({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M391.553 64H57.607C53.131 64 48 67.745 48 72.159v214.217c0 4.413 5.131 8.624 9.607 8.624H115v88.894L205.128 295h186.425c4.477 0 7.447-4.211 7.447-8.624V72.159c0-4.414-2.971-8.159-7.447-8.159z"}},{tag:"path",attr:{d:"M456.396 127H424v166.57c0 15.987-6.915 26.43-25.152 26.43H218.096l-38.905 39h129.688L399 448v-89h57.396c4.478 0 7.604-4.262 7.604-8.682V136.103c0-4.414-3.126-9.103-7.604-9.103z"}}]})(e)}function YD(e){return MR({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)}function QD(e){return MR({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"}}]})(e)}function XD(e){return MR({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}}]})(e)}function $D(e){return MR({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9A7.902 7.902 0 014 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1A7.902 7.902 0 0120 12c0 4.42-3.58 8-8 8z"}}]})(e)}function JD(e){return MR({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}},{tag:"path",attr:{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"}}]})(e)}function ZD(e){return MR({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}}]})(e)}function ej(e){return MR({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}}]})(e)}var tj=["second","minute","hour","day","week","month","year"],nj=["\u79d2","\u5206\u949f","\u5c0f\u65f6","\u5929","\u5468","\u4e2a\u6708","\u5e74"],rj={},ij=function(e,t){rj[e]=t},sj=[60,60,24,7,365/7/12,12];function oj(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}var aj=function(e,t,n){var r=function(e,t){return(+(t?oj(t):new Date)-+oj(e))/1e3}(e,n&&n.relativeDate);return function(e,t){for(var n=e<0?1:0,r=e=Math.abs(e),i=0;e>=sj[i]&&i<sj.length;i++)e/=sj[i];return(e=Math.floor(e))>(0==(i*=2)?9:1)&&(i+=1),t(e,i,r)[n].replace("%s",e.toString())}(r,function(e){return rj[e]||rj.en_US}(t))};ij("en_US",(function(e,t){if(0===t)return["just now","right now"];var n=tj[Math.floor(t/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]})),ij("zh_CN",(function(e,t){if(0===t)return["\u521a\u521a","\u7247\u523b\u540e"];var n=nj[~~(t/2)];return[e+" "+n+"\u524d",e+" "+n+"\u540e"]}));var lj=function(){return lj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},lj.apply(this,arguments)},cj=function(e){var t=e.type,n=void 0===t?"default":t,i=e.size,s=void 0===i?"default":i,o=e.lazyLoadingImage,a=void 0===o?void 0:o,l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["type","size","lazyLoadingImage"]),c=[],u=!1,d=l.src,h=!1;(0,r.useEffect)((function(){a&&(h=!0,f(d)?h=!1:(d=a,u||p(l.src)))}),[]);var f=function(e){return-1!==c.indexOf(e)},p=function(e){u=!0;var t=function(){c.push(e),u=!1},n=document.createElement("img");n.src=e,n.onload=t,n.onerror=t};return(0,CN.jsxs)("div",lj({className:LD("rce-avatar-container",n,s,l.className)},{children:[l.letterItem?(0,CN.jsx)("div",lj({className:"rce-avatar-letter-background",style:{backgroundColor:function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);var r="#";for(n=0;n<3;n++){var i=t>>8*n&255;r+=("00"+(i=i%150+50).toString(16)).substr(-2)}return r}(l.letterItem.id)}},{children:(0,CN.jsx)("span",lj({className:"rce-avatar-letter"},{children:l.letterItem.letter}))})):(0,CN.jsx)("img",{alt:l.alt,src:d,onError:l.onError,className:LD("rce-avatar",{"rce-avatar-lazy":h})}),l.sideElement]}))},uj=function(){return uj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},uj.apply(this,arguments)},dj=function(e){var t=e.disabled,n=void 0!==t&&t,r=e.backgroundColor,i=void 0===r?"#3979aa":r,s=e.color,o=void 0===s?"white":s,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["disabled","backgroundColor","color"]);return(0,CN.jsx)("button",uj({ref:a.buttonRef,title:a.title,className:LD("rce-button",a.type,a.className),style:{backgroundColor:i,color:o,borderColor:i},disabled:n,onClick:a.onClick},{children:a.icon?(0,CN.jsxs)("span",uj({className:"rce-button-icon--container"},{children:[("right"===a.icon.float||!a.icon.float)&&(0,CN.jsx)("span",{children:a.text}),(0,CN.jsx)("span",uj({style:{float:a.icon.float,fontSize:a.icon.size||12},className:"rce-button-icon"},{children:a.icon.component})),"left"===a.icon.float&&(0,CN.jsx)("span",{children:a.text})]})):(0,CN.jsx)("span",{children:a.text})}))},hj=function(){return hj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},hj.apply(this,arguments)},fj=function(e){var t,n=e.animationPosition,i=void 0===n?"nortwest":n,s=e.animationType,o=void 0===s?"default":s,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["animationPosition","animationType"]),l=(0,r.useState)(void 0),c=l[0],u=l[1];return(0,CN.jsxs)("div",hj({className:LD("rce-dropdown-container",a.className),onBlur:function(){!0===c&&u(!1)}},{children:[(0,CN.jsx)(dj,hj({},a.buttonProps,{onClick:function(){return u(!c)}})),(0,CN.jsx)("div",hj({className:LD("rce-dropdown",o,"rce-dropdown-open__"+i,{"dropdown-hide":!1===c},{"dropdown-show":!0===c})},{children:(0,CN.jsxs)("ul",{children:[a.title&&(0,CN.jsx)("span",hj({className:"rce-dropdown-title"},{children:a.title})),null===(t=a.items)||void 0===t?void 0:t.map((function(e,t){return(0,CN.jsx)("li",hj({onMouseDown:function(e){return a.onSelect(t)}},{children:e instanceof Object?e.icon?(0,CN.jsxs)("span",hj({className:"rce-button-icon--container"},{children:[("right"===e.icon.float||!e.icon.float)&&(0,CN.jsx)("a",{children:e.text}),(0,CN.jsx)("span",hj({style:{float:e.icon.float,color:e.icon.color,fontSize:e.icon.size||12},className:LD("rce-button-icon",e.icon.className)},{children:e.icon.component})),"left"===e.icon.float&&(0,CN.jsx)("a",{children:e.text})]})):(0,CN.jsx)("a",{children:e.text}):(0,CN.jsx)("a",{children:e})}),t)}))]})}))]}))},pj=function(){return pj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pj.apply(this,arguments)},mj=function(e){var t=e.date,n=e.dateString,i=e.title,s=e.subject,o=e.collapseTitle,a=e.moreItems,l=e.participants,c=e.dataSource,u=e.onClick,d=e.onMeetingTitleClick,h=e.onMeetingVideoLinkClick,f=e.onMeetingMoreSelect,p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["date","dateString","title","subject","collapseTitle","moreItems","participants","dataSource","onClick","onMeetingTitleClick","onMeetingVideoLinkClick","onMeetingMoreSelect"]),m=(0,r.useState)(!1),g=m[0],y=m[1],v=p.participantsLimit,b=n||t&&aj(t);return(0,CN.jsx)("div",pj({className:"rce-mbox-mtmg"},{children:(0,CN.jsxs)("div",pj({className:"rce-mtmg"},{children:[(0,CN.jsx)("div",pj({className:"rce-mtmg-subject"},{children:s||"Unknown Meeting"})),(0,CN.jsxs)("div",pj({className:"rce-mtmg-body",onClick:u},{children:[(0,CN.jsxs)("div",pj({className:"rce-mtmg-item"},{children:[(0,CN.jsx)(UR,{}),(0,CN.jsxs)("div",pj({className:"rce-mtmg-content"},{children:[(0,CN.jsx)("span",pj({className:"rce-mtmg-title"},{children:i})),(0,CN.jsx)("span",pj({className:"rce-mtmg-date"},{children:b}))]}))]})),f&&a&&a.length>0&&(0,CN.jsx)("div",{children:(0,CN.jsx)(fj,{animationType:"bottom",animationPosition:"norteast",buttonProps:{className:"rce-mtmg-right-icon",icon:{component:(0,CN.jsx)(ej,{}),size:24}},items:a,onSelect:f})})]})),(0,CN.jsx)("div",pj({className:"rce-mtmg-body-bottom",onClick:function(){y(!g)}},{children:(0,CN.jsxs)("div",!0===g?pj({className:"rce-mtmg-bottom--tptitle"},{children:[(0,CN.jsx)(VR,{}),(0,CN.jsx)("span",{children:o})]}):pj({className:"rce-mtmg-body-bottom--bttitle"},{children:[(0,CN.jsx)(zR,{}),(0,CN.jsxs)("span",{children:[null==l?void 0:l.slice(0,v).map((function(e){return e.title||"Unknow"})).join(", "),l&&v&&l.length>v&&", +".concat(l.length-v)]})]}))})),(0,CN.jsx)("div",pj({className:LD("rce-mtmg-toogleContent",{"rce-mtmg-toogleContent--click":!0===g})},{children:c&&c.map((function(e,t){return(0,CN.jsxs)("div",{children:[!e.event&&(0,CN.jsxs)("div",pj({className:"rce-mitem"},{children:[(0,CN.jsx)("div",pj({className:LD("rce-mitem avatar",{"rce-mitem no-avatar":!e.avatar})},{children:e.avatar?(0,CN.jsx)(cj,{src:e.avatar}):(0,CN.jsx)(KD,{})})),(0,CN.jsxs)("div",pj({className:"rce-mitem-body"},{children:[(0,CN.jsxs)("div",pj({className:"rce-mitem-body--top"},{children:[(0,CN.jsx)("div",pj({className:"rce-mitem-body--top-title",onClick:function(n){d instanceof Function&&d(e,t,n)}},{children:e.title})),(0,CN.jsx)("div",pj({className:"rce-mitem-body--top-time"},{children:e.dateString?e.dateString:e.date&&e.date&&aj(e.date)}))]})),(0,CN.jsx)("div",pj({className:"rce-mitem-body--bottom"},{children:(0,CN.jsx)("div",pj({className:"rce-mitem-body--bottom-title"},{children:e.message}))}))]}))]})),e.event&&(0,CN.jsx)("div",pj({className:"rce-mitem-event"},{children:(0,CN.jsxs)("div",pj({className:"rce-mitem-bottom-body"},{children:[(0,CN.jsx)("div",pj({className:"rce-mitem-body avatar"},{children:(0,CN.jsx)(WD,{})})),(0,CN.jsxs)("div",pj({className:"rce-mitem-bottom-body-top"},{children:[e.event.title,(0,CN.jsx)("div",pj({className:"rce-mitem-body--top-time"},{children:e.dateString?e.dateString:e.date&&aj(e.date)})),(0,CN.jsx)("div",pj({className:"rce-mitem-avatar-content"},{children:(0,CN.jsxs)("div",pj({className:"rce-mitem-avatar"},{children:[e.event.avatars&&e.event.avatars.slice(0,e.event.avatarsLimit).map((function(e,t){return(0,CN.jsx)(cj,{src:e.src},t)})),e.event.avatars&&e.event.avatarsLimit&&e.event.avatars.length>e.event.avatarsLimit&&(0,CN.jsx)("div",pj({className:"rce-mitem-length rce-mitem-tooltip",tooltip:e.event.avatars.slice(e.event.avatarsLimit,e.event.avatars.length).map((function(e){return e.title})).join(",").toString()},{children:(0,CN.jsx)("span",pj({className:"rce-mitem-tooltip-text"},{children:"+"+(e.event.avatars.length-e.event.avatarsLimit)}))}))]}))})),e.record&&(0,CN.jsx)("div",pj({className:"rce-mtmg-call-record"},{children:(0,CN.jsxs)("div",pj({className:"rce-mtmg-call-body"},{children:[(0,CN.jsxs)("div",pj({onClick:function(n){h instanceof Function&&h(e,t,n)},className:"rce-mtmg-call-avatars"},{children:[(0,CN.jsx)(cj,{className:"rce-mtmg-call-avatars",src:e.record.avatar}),(0,CN.jsx)("div",pj({className:"rce-mtmg-record-time"},{children:e.record.time}))]})),(0,CN.jsxs)("div",pj({className:"rce-mtmg-call-body-title"},{children:[(0,CN.jsx)("span",{children:e.record.title}),(0,CN.jsx)("div",pj({className:"rce-mtmg-call-body-bottom"},{children:e.record.savedBy}))]}))]}))}))]}))]}))}))]},t)}))}))]}))}))},gj=function(){return gj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},gj.apply(this,arguments)},yj=function(e){var t,n,r,i,s,o={strokeWidth:2.3,color:"#efe",trailColor:"#aaa",trailWidth:1,step:function(e,t){var n,r;t.path.setAttribute("trail",void 0!==e.state&&(null===(n=null==e?void 0:e.state)||void 0===n?void 0:n.color)||""),t.path.setAttribute("trailwidth-width",void 0!==e.state&&(null===(r=null==e?void 0:e.state)||void 0===r?void 0:r.width)||"");var i=Math.round(100*(null==t?void 0:t.value()));0===i?null==t||t.setText(""):null==t||t.setText(i)}},a=(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.status)&&!0===(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.status.error),l=(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.status)&&(null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.status.download);return(0,CN.jsxs)("div",gj({className:LD("rce-mbox-video",{"padding-time":!(null==e?void 0:e.text)})},{children:[(0,CN.jsxs)("div",gj({className:"rce-mbox-video--video",style:gj({},(null==e?void 0:e.data.width)&&(null==e?void 0:e.data.height)&&{width:e.data.width,height:e.data.height})},{children:[!l&&(0,CN.jsx)("img",{src:null==e?void 0:e.data.uri,alt:null==e?void 0:e.data.alt,onClick:e.onOpen,onLoad:e.onLoad,onError:e.onPhotoError}),l&&(0,CN.jsxs)("video",gj({controls:!0,controlsList:e.controlsList},{children:[(0,CN.jsx)("source",{src:null==e?void 0:e.data.videoURL,type:"video/mp4"}),"Your browser does not support HTML video."]})),a&&(0,CN.jsx)("div",gj({className:"rce-mbox-video--video__block"},{children:(0,CN.jsx)("span",gj({className:"rce-mbox-video--video__block-item rce-mbox-video--error"},{children:(0,CN.jsx)(qR,{})}))})),!a&&(null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.status)&&!l&&(0,CN.jsxs)("div",gj({className:"rce-mbox-video--video__block"},{children:[!e.data.status.click&&(0,CN.jsx)("button",gj({onClick:e.onDownload,className:"rce-mbox-video--video__block-item rce-mbox-video--download"},{children:(0,CN.jsx)(BR,{})})),"number"==typeof e.data.status.loading&&0!==e.data.status.loading&&(0,CN.jsx)(PD,{animate:e.data.status.loading,className:"rce-mbox-video--video__block-item",progressOptions:o})]}))]})),(null==e?void 0:e.text)&&(0,CN.jsx)("div",gj({className:"rce-mbox-text"},{children:e.text}))]}))},vj=function(){return vj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},vj.apply(this,arguments)},bj=function(e){var t=e.data.controlsList;return(0,CN.jsxs)("div",vj({className:"rce-mbox-audio",style:e.customStyle},{children:[(0,CN.jsxs)("audio",vj({},e.audioProps,{controls:!0,controlsList:t||"nodownload"},{children:[(0,CN.jsx)("source",{src:e.data.audioURL,type:e.data.audioType||"audio/mp3"}),"Your browser does not support the audio element."]})),e.text&&(0,CN.jsx)("div",vj({className:"rce-mbox-text"},{children:e.text}))]}))},wj=function(){return wj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wj.apply(this,arguments)},_j=function(e){var t;return(0,CN.jsx)("div",wj({className:"rce-mtlink"},{children:(0,CN.jsxs)("div",wj({className:"rce-mtlink-content"},{children:[(0,CN.jsx)("div",wj({className:"rce-mtlink-item"},{children:(0,CN.jsx)("div",wj({className:"rce-mtlink-title"},{children:e.text}))})),(0,CN.jsx)("div",wj({className:"rce-mtlink-btn"},{children:null===(t=null==e?void 0:e.actionButtons)||void 0===t?void 0:t.map((function(t){return(0,CN.jsx)("div",wj({className:"rce-mtlink-btn-content",onClick:function(){var n;return t.onClickButton(null!==(n=null==e?void 0:e.meetingID)&&void 0!==n?n:"")}},{children:(0,CN.jsx)(t.Component,{})}))}))}))]}))}))};function xj(e){return MR({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M13 14h-2a8.999 8.999 0 0 0-7.968 4.81A10.136 10.136 0 0 1 3 18C3 12.477 7.477 8 13 8V3l10 8-10 8v-5z"}}]}]})(e)}function Sj(e){return MR({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 5.499c-.256 0-.512.097-.707.292-.195.196-.293.452-.293.708v2.559c-4.5.498-8 4.309-8 8.941v1c2.245-3.423 5.25-3.92 8-3.989v2.489c0 .255.098.512.293.707s.451.293.707.293.512-.098.707-.293l6.293-6.207-6.293-6.208c-.195-.195-.451-.292-.707-.292z"}}]})(e)}var kj=function(){return kj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},kj.apply(this,arguments)},Ej=function(e){var t=e.focus,n=void 0!==t&&t,i=e.notch,s=void 0===i||i,o=e.styles,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["focus","notch","styles"]),l=(0,r.useRef)(n),c=(0,r.useRef)(null),u=LD("rce-mbox",{"rce-mbox-right":"right"===a.position}),d=!(/(text|video|file|meeting|audio)/g.test(a.type||"text")||"location"===a.type&&a.text),h=a.date&&(a.dateString||aj(a.date));return(0,r.useEffect)((function(){var e;l.current!==n&&!0===n&&c&&(null===(e=c.current)||void 0===e||e.scrollIntoView({block:"center",behavior:"smooth"}),a.onMessageFocused(l)),l.current=n}),[n,l]),(0,CN.jsxs)("div",kj({ref:c,className:LD("rce-container-mbox",a.className),onClick:a.onClick},{children:[a.renderAddCmp instanceof Function?a.renderAddCmp():a.renderAddCmp,"system"===a.type?(0,CN.jsx)(FD,kj({},a,{focus:n,notch:s})):(0,CN.jsxs)("div",kj({style:o,className:LD(u,{"rce-mbox--clear-padding":d},{"rce-mbox--clear-notch":!s},{"message-focus":n})},{children:[(0,CN.jsxs)("div",kj({className:"rce-mbox-body",onContextMenu:a.onContextMenu},{children:[!a.retracted&&!0===a.forwarded&&(0,CN.jsx)("div",kj({className:LD("rce-mbox-forward",{"rce-mbox-forward-right":"left"===a.position},{"rce-mbox-forward-left":"right"===a.position}),onClick:a.onForwardClick},{children:(0,CN.jsx)(xj,{})})),!a.retracted&&!0===a.replyButton&&(0,CN.jsx)("div",kj({className:!0!==a.forwarded?LD("rce-mbox-forward",{"rce-mbox-forward-right":"left"===a.position},{"rce-mbox-forward-left":"right"===a.position}):LD("rce-mbox-forward",{"rce-mbox-reply-btn-right":"left"===a.position},{"rce-mbox-reply-btn-left":"right"===a.position}),onClick:a.onReplyClick},{children:(0,CN.jsx)(XD,{})})),!a.retracted&&!0===a.removeButton&&(0,CN.jsx)("div",kj({className:!0===a.forwarded?LD("rce-mbox-remove",{"rce-mbox-remove-right":"left"===a.position},{"rce-mbox-remove-left":"right"===a.position}):LD("rce-mbox-forward",{"rce-mbox-reply-btn-right":"left"===a.position},{"rce-mbox-reply-btn-left":"right"===a.position}),onClick:a.onRemoveMessageClick},{children:(0,CN.jsx)(YD,{})})),(a.title||a.avatar)&&(0,CN.jsxs)("div",kj({style:kj({},a.titleColor&&{color:a.titleColor}),onClick:a.onTitleClick,className:LD("rce-mbox-title",{"rce-mbox-title--clear":"text"===a.type})},{children:[a.avatar&&(0,CN.jsx)(cj,{letterItem:a.letterItem,src:a.avatar}),a.title&&(0,CN.jsx)("span",{children:a.title})]})),a.forwardedMessageText?(0,CN.jsx)("div",kj({className:"rce-mbox-forwardedMessage"},{children:(0,CN.jsxs)("div",kj({className:"rce-mbox-forwarded-message"},{children:[(0,CN.jsx)(Sj,{fontSize:18}),(0,CN.jsxs)("i",kj({style:{margin:"0 3px 1px 0"}},{children:[" ",a.forwardedMessageText]}))]}))})):null,!a.forwardedMessageText&&a.reply?(0,CN.jsx)(HD,kj({onClick:a.onReplyMessageClick},a.reply)):null,"text"===a.type&&(0,CN.jsxs)("div",kj({className:LD("rce-mbox-text",{"rce-mbox-text-retracted":a.retracted,left:"left"===a.position,right:"right"===a.position})},{children:[a.retracted&&(0,CN.jsx)($D,{}),a.text]})),"location"===a.type&&(0,CN.jsx)(VD,kj({focus:n,notch:s},a)),"photo"===a.type&&(0,CN.jsx)(OD,kj({focus:n,notch:s},a)),"video"===a.type&&(0,CN.jsx)(yj,kj({focus:n,notch:s},a)),"file"===a.type&&(0,CN.jsx)(DD,kj({focus:n,notch:s},a)),"spotify"===a.type&&(0,CN.jsx)(BD,kj({focus:n,notch:s},a)),"meeting"===a.type&&(0,CN.jsx)(mj,kj({focus:n,notch:s},a)),"audio"===a.type&&(0,CN.jsx)(bj,kj({focus:n,notch:s},a)),"meetingLink"===a.type&&(0,CN.jsx)(_j,kj({focus:n,notch:s},a,{actionButtons:null==a?void 0:a.actionButtons})),(0,CN.jsxs)("div",kj({title:a.statusTitle,className:LD("rce-mbox-time",{"rce-mbox-time-block":d},{"non-copiable":!a.copiableDate}),"data-text":a.copiableDate?void 0:h},{children:[a.copiableDate&&a.date&&(a.dateString||aj(a.date)),a.status&&(0,CN.jsxs)("span",kj({className:"rce-mbox-status"},{children:["waiting"===a.status&&(0,CN.jsx)(JD,{}),"sent"===a.status&&(0,CN.jsx)(ZD,{}),"received"===a.status&&(0,CN.jsx)(GD,{}),"read"===a.status&&(0,CN.jsx)(QD,{color:"#4FC3F7"})]}))]}))]})),s&&("right"===a.position?(0,CN.jsx)("svg",kj({style:a.notchStyle,className:LD("rce-mbox-right-notch",{"message-focus":n}),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},{children:(0,CN.jsx)("path",{d:"M0 0v20L20 0"})})):(0,CN.jsx)("div",{children:(0,CN.jsxs)("svg",kj({style:a.notchStyle,className:LD("rce-mbox-left-notch",{"message-focus":n}),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},{children:[(0,CN.jsx)("defs",{children:(0,CN.jsxs)("filter",kj({id:"filter1",x:"0",y:"0"},{children:[(0,CN.jsx)("feOffset",{result:"offOut",in:"SourceAlpha",dx:"-2",dy:"-5"}),(0,CN.jsx)("feGaussianBlur",{result:"blurOut",in:"offOut",stdDeviation:"3"}),(0,CN.jsx)("feBlend",{in:"SourceGraphic",in2:"blurOut",mode:"normal"})]}))}),(0,CN.jsx)("path",{d:"M20 0v20L0 0",filter:"url(#filter1)"})]}))}))]}))]}))};const Tj=e=>{const{position:t,text:n,timestamp:i,senderId:s,senderName:o,senderPhoto:a,messages:l}=e,c=o.slice(0,20),u=(0,r.useRef)(null),d=s===vN.currentUser.uid,h={backgroundColor:d?"blue":"orange",color:d?"white":"black"};(0,r.useEffect)((()=>{u.current&&u.current.scrollIntoView({behavior:"smooth"})}),[l]);const f=(e=>{const t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""})(n);return(0,CN.jsx)(Ce,{to:"/author/".concat(s),children:(0,CN.jsxs)("div",{children:[(0,CN.jsx)(Ej,{className:"p-1 text-start font-body bg-blue-400 ".concat(d?"text-right":"text-left"),position:t,type:"text",text:f,date:i?i.toDate():null,title:c,avatar:a,titleColor:d?"blue":"red",forwardedRef:l[l.length-1]===l?u:null,style:{maxWidth:"80%",width:n.length<20?"".concat(10*n.length,"px"):"auto",color:d?"white":"black",textAlign:d?"right":"left",...h,wordWrap:"break-word"},customStyle:h}),(0,CN.jsx)("div",{className:"text-start",ref:u})]},l.id)})},Cj=e=>{let{messages:t}=e;return(0,CN.jsx)("div",{children:t.map((e=>(0,CN.jsx)(Tj,{className:"text-start ",position:e.senderId===vN.currentUser.uid?"right":"left",text:e.message,timestamp:e.timestamp,senderId:e.senderId,senderName:e.senderName,senderPhoto:e.senderPhoto,messages:t},e.id)))})},Ij=e=>{let{user:t,messages:n}=e;const i=(0,r.useRef)(null),[s,o]=(0,r.useState)(0),[a,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=()=>{const e=n.filter((e=>!e.read)).length;o(e);const t=parseInt(localStorage.getItem("unreadMessagesCount"))||0;o(t)};e();const t=SN.onSnapshot((()=>e()));return l(window.innerWidth<=768),()=>t()}),[n]);const m=async()=>{if(""!==c.trim()&&!f){p(!0);try{const e={senderId:vN.currentUser.uid,message:c,timestamp:new Date,senderName:t.displayName,senderPhoto:t.photoURL,read:!1};await SN.add(e),u("");const n=parseInt(localStorage.getItem("unreadMessagesCount"))+1;localStorage.setItem("unreadMessagesCount",n),o(n)}catch($S){console.error("Error sending message:",$S)}finally{p(!1)}}},g=()=>{h(!1)},y=(0,r.useCallback)((e=>{if(d&&i.current&&!i.current.contains(e.target)){const t=document.querySelector(".chat-box");if(t&&t.contains(e.target))return;g()}}),[d]);(0,r.useEffect)((()=>(document.addEventListener("click",y),()=>{document.removeEventListener("click",y)})),[y]);return(0,CN.jsxs)(CN.Fragment,{children:[t&&(0,CN.jsxs)("div",{ref:i,className:"fixed bottom-8 right-8 bg-secondary-500 hover:bg-white p-2 rounded-full cursor-pointer chat-button ".concat(a?"md:right-10 md:bottom-8":""),onClick:()=>{h((e=>(e||(o(0),localStorage.setItem("unreadMessagesCount",0)),!e)))},children:[(0,CN.jsx)(xR,{icon:ER,size:"lg",color:"accent-500"}),s>0&&(0,CN.jsx)("div",{className:"absolute top-0 right-0 rounded-full h-5 w-5 flex items-center justify-center text-xs",children:s})]}),t&&d&&(0,CN.jsx)(WN(),{handle:".drag-handle",nodeRef:i,children:(0,CN.jsx)("div",{className:"fixed bottom-4 right-6 sm:max-w-sm md:max-w-md lg:max-w-md xl:max-w-xl text-primary logo chat-box ".concat(d?"block":"hidden"),children:(0,CN.jsxs)("div",{className:"rounded shadow-md",children:[(0,CN.jsxs)("div",{className:"flex justify-between bg-primary-600 p-2 md:p-2 rounded-t-lg drag-handle",children:[(0,CN.jsx)("h3",{className:"text-secondary-500 font-bold",children:"Chat"}),(0,CN.jsx)("button",{className:"text-white hover:text-gray-300 focus:outline-none",onClick:g,children:(0,CN.jsx)(xR,{icon:PR})})]}),(0,CN.jsx)("div",{className:"bg-primary-200 h-60 w-80 md:max-w-md lg:max-w-md xl:max-w-xl overflow-y-auto",children:(0,CN.jsx)(Cj,{className:"bg-primary-500 p-2",messages:n,user:t,setIsChatOpen:h})}),(0,CN.jsx)("div",{className:"bg-primary-600 p-2",children:(0,CN.jsxs)("div",{className:"flex",children:[(0,CN.jsx)("input",{className:"rounded-md w-full p-2",placeholder:"Type a message...",value:c,onChange:e=>u(e.target.value),onKeyPress:e=>{"Enter"!==e.key||f||(e.preventDefault(),m())}}),(0,CN.jsx)("button",{type:"submit",className:"bg-accent-500 hover:bg-secondary-500 text-white font-semibold py-2 px-4 ml-2 rounded-md",onClick:m,disabled:f,children:(0,CN.jsx)(xR,{icon:AR})})]})})]})})})]})},Nj=(0,r.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Pj=(0,r.createContext)({}),Aj=(0,r.createContext)(null),Oj="undefined"!==typeof document,Rj=Oj?r.useLayoutEffect:r.useEffect,Dj=(0,r.createContext)({strict:!1}),jj=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Lj="data-"+jj("framerAppearId");function Mj(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Fj(e){return"string"===typeof e||Array.isArray(e)}function Uj(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const Vj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zj=["initial",...Vj];function Bj(e){return Uj(e.animate)||zj.some((t=>Fj(e[t])))}function qj(e){return Boolean(Bj(e)||e.variants)}function Hj(e){const{initial:t,animate:n}=function(e,t){if(Bj(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Fj(t)?t:void 0,animate:Fj(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(Pj));return(0,r.useMemo)((()=>({initial:t,animate:n})),[Wj(t),Wj(n)])}function Wj(e){return Array.isArray(e)?e.join(" "):e}const Gj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kj={};for(const n in Gj)Kj[n]={isEnabled:e=>Gj[n].some((t=>!!e[t]))};const Yj=(0,r.createContext)({}),Qj=(0,r.createContext)({}),Xj=Symbol.for("motionComponentSymbol");function $j(e){let{preloadedFeatures:t,createVisualElement:n,useRender:i,useVisualState:s,Component:o}=e;t&&function(e){for(const t in e)Kj[t]={...Kj[t],...e[t]}}(t);const a=(0,r.forwardRef)((function(e,a){let l;const c={...(0,r.useContext)(Nj),...e,layoutId:Jj(e)},{isStatic:u}=c,d=Hj(e),h=s(e,u);if(!u&&Oj){d.visualElement=function(e,t,n,i){const{visualElement:s}=(0,r.useContext)(Pj),o=(0,r.useContext)(Dj),a=(0,r.useContext)(Aj),l=(0,r.useContext)(Nj).reducedMotion,c=(0,r.useRef)();i=i||o.renderer,!c.current&&i&&(c.current=i(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:!!a&&!1===a.initial,reducedMotionConfig:l}));const u=c.current;(0,r.useInsertionEffect)((()=>{u&&u.update(n,a)}));const d=(0,r.useRef)(Boolean(n[Lj]&&!window.HandoffComplete));return Rj((()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())})),(0,r.useEffect)((()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))})),u}(o,h,c,n);const e=(0,r.useContext)(Qj),i=(0,r.useContext)(Dj).strict;d.visualElement&&(l=d.visualElement.loadFeatures(c,i,t,e))}return r.createElement(Pj.Provider,{value:d},l&&d.visualElement?r.createElement(l,{visualElement:d.visualElement,...c}):null,i(o,e,function(e,t,n){return(0,r.useCallback)((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Mj(n)&&(n.current=r))}),[t])}(h,d.visualElement,a),h,u,d.visualElement))}));return a[Xj]=o,a}function Jj(e){let{layoutId:t}=e;const n=(0,r.useContext)(Yj).id;return n&&void 0!==t?n+"-"+t:t}function Zj(e){function t(t){return $j(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const eL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tL(e){return"string"===typeof e&&!e.includes("-")&&!!(eL.indexOf(e)>-1||/[A-Z]/.test(e))}const nL={};const rL=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],iL=new Set(rL);function sL(e,t){let{layout:n,layoutId:r}=t;return iL.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!nL[e]||"opacity"===e)}const oL=e=>Boolean(e&&e.getVelocity),aL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lL=rL.length;const cL=e=>t=>"string"===typeof t&&t.startsWith(e),uL=cL("--"),dL=cL("var(--"),hL=(e,t)=>t&&"number"===typeof e?t.transform(e):e,fL=(e,t,n)=>Math.min(Math.max(n,e),t),pL={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},mL={...pL,transform:e=>fL(0,1,e)},gL={...pL,default:1},yL=e=>Math.round(1e5*e)/1e5,vL=/(-)?([\d]*\.?[\d])+/g,bL=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,wL=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function _L(e){return"string"===typeof e}const xL=e=>({test:t=>_L(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),SL=xL("deg"),kL=xL("%"),EL=xL("px"),TL=xL("vh"),CL=xL("vw"),IL={...kL,parse:e=>kL.parse(e)/100,transform:e=>kL.transform(100*e)},NL={...pL,transform:Math.round},PL={borderWidth:EL,borderTopWidth:EL,borderRightWidth:EL,borderBottomWidth:EL,borderLeftWidth:EL,borderRadius:EL,radius:EL,borderTopLeftRadius:EL,borderTopRightRadius:EL,borderBottomRightRadius:EL,borderBottomLeftRadius:EL,width:EL,maxWidth:EL,height:EL,maxHeight:EL,size:EL,top:EL,right:EL,bottom:EL,left:EL,padding:EL,paddingTop:EL,paddingRight:EL,paddingBottom:EL,paddingLeft:EL,margin:EL,marginTop:EL,marginRight:EL,marginBottom:EL,marginLeft:EL,rotate:SL,rotateX:SL,rotateY:SL,rotateZ:SL,scale:gL,scaleX:gL,scaleY:gL,scaleZ:gL,skew:SL,skewX:SL,skewY:SL,distance:EL,translateX:EL,translateY:EL,translateZ:EL,x:EL,y:EL,z:EL,perspective:EL,transformPerspective:EL,opacity:mL,originX:IL,originY:IL,originZ:EL,zIndex:NL,fillOpacity:mL,strokeOpacity:mL,numOctaves:NL};function AL(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=e;let l=!1,c=!1,u=!0;for(const d in t){const e=t[d];if(uL(d)){s[d]=e;continue}const n=PL[d],r=hL(e,n);if(iL.has(d)){if(l=!0,o[d]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=r):i[d]=r}if(t.transform||(l||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:s=!0}=t,o="";for(let a=0;a<lL;a++){const t=rL[a];if(void 0!==e[t]){const n=aL[t]||t;o+="".concat(n,"(").concat(e[t],") ")}}return i&&!e.z&&(o+="translateZ(0)"),o=o.trim(),r?o=r(e,n?"":o):s&&n&&(o="none"),o}(e.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const OL=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function RL(e,t,n){for(const r in t)oL(t[r])||sL(r,n)||(e[r]=t[r])}function DL(e,t,n){const i={};return RL(i,e.style||{},e),Object.assign(i,function(e,t,n){let{transformTemplate:i}=e;return(0,r.useMemo)((()=>{const e=OL();return AL(e,t,{enableHardwareAcceleration:!n},i),Object.assign({},e.vars,e.style)}),[t])}(e,t,n)),e.transformValues?e.transformValues(i):i}function jL(e,t,n){const r={},i=DL(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const LL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ML(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||LL.has(e)}let FL=e=>!ML(e);try{(UL=require("@emotion/is-prop-valid").default)&&(FL=e=>e.startsWith("on")?!ML(e):UL(e))}catch(NH){}var UL;function VL(e,t,n){return"string"===typeof e?e:EL.transform(t+n*e)}const zL={offset:"stroke-dashoffset",array:"stroke-dasharray"},BL={offset:"strokeDashoffset",array:"strokeDasharray"};function qL(e,t,n,r,i){let{attrX:s,attrY:o,attrScale:a,originX:l,originY:c,pathLength:u,pathSpacing:d=1,pathOffset:h=0,...f}=t;if(AL(e,f,n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:g}=e;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(void 0!==l||void 0!==c||m.transform)&&(m.transformOrigin=function(e,t,n){const r=VL(t,e.x,e.width),i=VL(n,e.y,e.height);return"".concat(r," ").concat(i)}(g,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==s&&(p.x=s),void 0!==o&&(p.y=o),void 0!==a&&(p.scale=a),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?zL:BL;e[s.offset]=EL.transform(-r);const o=EL.transform(t),a=EL.transform(n);e[s.array]="".concat(o," ").concat(a)}(p,u,d,h,!1)}const HL=()=>({...OL(),attrs:{}}),WL=e=>"string"===typeof e&&"svg"===e.toLowerCase();function GL(e,t,n,i){const s=(0,r.useMemo)((()=>{const n=HL();return qL(n,t,{enableHardwareAcceleration:!1},WL(i),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};RL(t,e.style,e),s.style={...t,...s.style}}return s}function KL(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,i,s,o)=>{let{latestValues:a}=s;const l=(tL(t)?GL:jL)(n,a,o,t),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(FL(i)||!0===n&&ML(i)||!t&&!ML(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),u={...c,...l,ref:i},{children:d}=n,h=(0,r.useMemo)((()=>oL(d)?d.get():d),[d]);return(0,r.createElement)(t,{...u,children:h})}}function YL(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const o in s)e.style.setProperty(o,s[o])}const QL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function XL(e,t,n,r){YL(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(QL.has(i)?i:jj(i),t.attrs[i])}function $L(e,t){const{style:n}=e,r={};for(const i in n)(oL(n[i])||t.style&&oL(t.style[i])||sL(i,e))&&(r[i]=n[i]);return r}function JL(e,t){const n=$L(e,t);for(const r in e)if(oL(e[r])||oL(t[r])){n[-1!==rL.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function ZL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}const eM=e=>Array.isArray(e),tM=e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue),nM=e=>eM(e)?e[e.length-1]||0:e;function rM(e){const t=oL(e)?e.get():e;return tM(t)?t.toValue():t}const iM=e=>(t,n)=>{const i=(0,r.useContext)(Pj),s=(0,r.useContext)(Aj),o=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onMount:o}=e;const a={latestValues:sM(t,n,r,i),renderState:s()};return o&&(a.mount=e=>o(t,e,a)),a}(e,t,i,s);return n?o():function(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}(o)};function sM(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=rM(s[h]);let{initial:o,animate:a}=e;const l=Bj(e),c=qj(e);t&&c&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let u=!!n&&!1===n.initial;u=u||!1===o;const d=u?a:o;if(d&&"boolean"!==typeof d&&!Uj(d)){(Array.isArray(d)?d:[d]).forEach((t=>{const n=ZL(e,t);if(!n)return;const{transitionEnd:r,transition:s,...o}=n;for(const e in o){let t=o[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]}))}return i}const oM=e=>e;class aM{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const lM=["prepare","read","update","preRender","render","postRender"];const{schedule:cM,cancel:uM,state:dM,steps:hM}=function(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=lM.reduce(((e,t)=>(e[t]=function(e){let t=new aM,n=new aM,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:function(e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,a=s?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),a.add(e)&&s&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),o.delete(e)},process:l=>{if(i)s=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),o.has(r)&&(a.schedule(r),e())}i=!1,s&&(s=!1,a.process(l))}}};return a}((()=>n=!0)),e)),{}),o=e=>s[e].process(i),a=()=>{const s=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,lM.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(a))},l=lM.reduce(((t,o)=>{const l=s[o];return t[o]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(a)),l.schedule(t,s,o)},t}),{});return{schedule:l,cancel:e=>lM.forEach((t=>s[t].cancel(e))),state:i,steps:s}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:oM,!0),fM={useVisualState:iM({scrapeMotionValuesFromProps:JL,createRenderState:HL,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;cM.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(IH){r.dimensions={x:0,y:0,width:0,height:0}}})),cM.render((()=>{qL(r,i,{enableHardwareAcceleration:!1},WL(t.tagName),e.transformTemplate),XL(t,r)}))}})},pM={useVisualState:iM({scrapeMotionValuesFromProps:$L,createRenderState:OL})};function mM(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const gM=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function yM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const vM=e=>t=>gM(t)&&e(t,yM(t));function bM(e,t,n,r){return mM(e,t,vM(n),r)}const wM=(e,t)=>n=>t(e(n)),_M=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(wM)};function xM(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const SM=xM("dragHorizontal"),kM=xM("dragVertical");function EM(e){let t=!1;if("y"===e)t=kM();else if("x"===e)t=SM();else{const e=SM(),n=kM();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function TM(){const e=EM(!0);return!e||(e(),!1)}class CM{constructor(e){this.isMounted=!1,this.node=e}update(){}}function IM(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return bM(e.current,n,((n,i)=>{if("touch"===n.pointerType||TM())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&cM.update((()=>s[r](n,i)))}),{passive:!e.getProps()[r]})}const NM=(e,t)=>!!t&&(e===t||NM(e,t.parentElement));function PM(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,yM(n))}const AM=new WeakMap,OM=new WeakMap,RM=e=>{const t=AM.get(e.target);t&&t(e)},DM=e=>{e.forEach(RM)};function jM(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;OM.has(r)||OM.set(r,{});const i=OM.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(DM,{root:t,...n})),i[s]}(t);return AM.set(e,n),r.observe(e),()=>{AM.delete(e),r.unobserve(e)}}const LM={some:0,all:1};const MM={inView:{Feature:class extends CM{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:LM[r]};return jM(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends CM{constructor(){super(...arguments),this.removeStartListeners=oM,this.removeEndListeners=oM,this.removeAccessibleListeners=oM,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=bM(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps();cM.update((()=>{i||NM(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)}))}),{passive:!(n.onTap||n.onPointerUp)}),i=bM(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=_M(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=mM(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=mM(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&PM("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&cM.update((()=>n(e,t)))}))})),PM("down",((e,t)=>{this.startPress(e,t)}))})),t=mM(this.node.current,"blur",(()=>{this.isPressing&&PM("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=_M(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&cM.update((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!TM()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&cM.update((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=bM(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=mM(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=_M(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends CM{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(IH){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_M(mM(this.node.current,"focus",(()=>this.onFocus())),mM(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends CM{mount(){this.unmount=_M(IM(this.node,!0),IM(this.node,!1))}unmount(){}}}};function FM(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function UM(e,t,n){const r=e.getProps();return ZL(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.get())),t}(e),function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.getVelocity())),t}(e))}let VM=oM,zM=oM;const BM=e=>1e3*e,qM=e=>e/1e3,HM=!1,WM=e=>Array.isArray(e)&&"number"===typeof e[0];function GM(e){return Boolean(!e||"string"===typeof e&&YM[e]||WM(e)||Array.isArray(e)&&e.every(GM))}const KM=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},YM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:KM([0,.65,.55,1]),circOut:KM([.55,0,1,.45]),backIn:KM([.31,.01,.66,-.59]),backOut:KM([.33,1.53,.69,.99])};function QM(e){if(e)return WM(e)?KM(e):Array.isArray(e)?e.map(QM):YM[e]}const XM=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,$M=1e-7,JM=12;function ZM(e,t,n,r){if(e===t&&n===r)return oM;const i=t=>function(e,t,n,r,i){let s,o,a=0;do{o=t+(n-t)/2,s=XM(o,r,i)-e,s>0?n=o:t=o}while(Math.abs(s)>$M&&++a<JM);return o}(t,0,1,e,n);return e=>0===e||1===e?e:XM(i(e),t,r)}const eF=ZM(.42,0,1,1),tF=ZM(0,0,.58,1),nF=ZM(.42,0,.58,1),rF=e=>Array.isArray(e)&&"number"!==typeof e[0],iF=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sF=e=>t=>1-e(1-t),oF=e=>1-Math.sin(Math.acos(e)),aF=sF(oF),lF=iF(oF),cF=ZM(.33,1.53,.69,.99),uF=sF(cF),dF=iF(uF),hF={linear:oM,easeIn:eF,easeInOut:nF,easeOut:tF,circIn:oF,circInOut:lF,circOut:aF,backIn:uF,backInOut:dF,backOut:cF,anticipate:e=>(e*=2)<1?.5*uF(e):.5*(2-Math.pow(2,-10*(e-1)))},fF=e=>{if(Array.isArray(e)){zM(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return ZM(t,n,r,i)}return"string"===typeof e?(zM(void 0!==hF[e],"Invalid easing type '".concat(e,"'")),hF[e]):e},pF=(e,t)=>n=>Boolean(_L(n)&&wL.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),mF=(e,t,n)=>r=>{if(!_L(r))return r;const[i,s,o,a]=r.match(vL);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},gF={...pL,transform:e=>Math.round((e=>fL(0,255,e))(e))},yF={test:pF("rgb","red"),parse:mF("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+gF.transform(t)+", "+gF.transform(n)+", "+gF.transform(r)+", "+yL(mL.transform(i))+")"}};const vF={test:pF("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:yF.transform},bF={test:pF("hsl","hue"),parse:mF("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+kL.transform(yL(n))+", "+kL.transform(yL(r))+", "+yL(mL.transform(i))+")"}},wF={test:e=>yF.test(e)||vF.test(e)||bF.test(e),parse:e=>yF.test(e)?yF.parse(e):bF.test(e)?bF.parse(e):vF.parse(e),transform:e=>_L(e)?e:e.hasOwnProperty("red")?yF.transform(e):bF.transform(e)},_F=(e,t,n)=>-n*e+n*t+e;function xF(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const SF=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},kF=[vF,yF,bF];function EF(e){const t=(e=>kF.find((t=>t.test(e))))(e);zM(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let n=t.parse(e);return t===bF&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,o=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=xF(i,e,t+1/3),o=xF(i,e,t),a=xF(i,e,t-1/3)}else s=o=a=r;return{red:Math.round(255*s),green:Math.round(255*o),blue:Math.round(255*a),alpha:i}}(n)),n}const TF=(e,t)=>{const n=EF(e),r=EF(t),i={...n};return e=>(i.red=SF(n.red,r.red,e),i.green=SF(n.green,r.green,e),i.blue=SF(n.blue,r.blue,e),i.alpha=_F(n.alpha,r.alpha,e),yF.transform(i))};const CF={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:oM},IF={regex:bL,countKey:"Colors",token:"${c}",parse:wF.parse},NF={regex:vL,countKey:"Numbers",token:"${n}",parse:pL.parse};function PF(e,t){let{regex:n,countKey:r,token:i,parse:s}=t;const o=e.tokenised.match(n);o&&(e["num"+r]=o.length,e.tokenised=e.tokenised.replace(n,i),e.values.push(...o.map(s)))}function AF(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&PF(n,CF),PF(n,IF),PF(n,NF),n}function OF(e){return AF(e).values}function RF(e){const{values:t,numColors:n,numVars:r,tokenised:i}=AF(e),s=t.length;return e=>{let t=i;for(let i=0;i<s;i++)t=i<r?t.replace(CF.token,e[i]):i<r+n?t.replace(IF.token,wF.transform(e[i])):t.replace(NF.token,yL(e[i]));return t}}const DF=e=>"number"===typeof e?0:e;const jF={test:function(e){var t,n;return isNaN(e)&&_L(e)&&((null===(t=e.match(vL))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(bL))||void 0===n?void 0:n.length)||0)>0},parse:OF,createTransformer:RF,getAnimatableNone:function(e){const t=OF(e);return RF(e)(t.map(DF))}},LF=(e,t)=>n=>"".concat(n>0?t:e);function MF(e,t){return"number"===typeof e?n=>_F(e,t,n):wF.test(e)?TF(e,t):e.startsWith("var(")?LF(e,t):VF(e,t)}const FF=(e,t)=>{const n=[...e],r=n.length,i=e.map(((e,n)=>MF(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},UF=(e,t)=>{const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=MF(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},VF=(e,t)=>{const n=jF.createTransformer(t),r=AF(e),i=AF(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?_M(FF(r.values,i.values),n):(VM(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),LF(e,t))},zF=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},BF=(e,t)=>n=>_F(e,t,n);function qF(e,t,n){const r=[],i=n||function(e){return"number"===typeof e?BF:"string"===typeof e?wF.test(e)?TF:VF:Array.isArray(e)?FF:"object"===typeof e?UF:BF}(e[0]),s=e.length-1;for(let o=0;o<s;o++){let n=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||oM:t;n=_M(e,n)}r.push(n)}return r}function HF(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(zM(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=qF(t,r,i),a=o.length,l=t=>{let n=0;if(a>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=zF(e[n],e[n+1],t);return o[n](r)};return n?t=>l(fL(e[0],e[s-1],t)):l}function WF(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=zF(0,t,r);e.push(_F(n,1,i))}}(t,e.length-1),t}function GF(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=rF(i)?i.map(fF):fF(i),o={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:WF(n),t),l=HF(a,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map((()=>u||nF)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}function KF(e,t){return t?e*(1e3/t):0}const YF=5;function QF(e,t,n){const r=Math.max(t-YF,0);return KF(n-e(r),t-r)}const XF=.001,$F=.01,JF=10,ZF=.05,eU=1;function tU(e){let t,n,{duration:r=800,bounce:i=.25,velocity:s=0,mass:o=1}=e;VM(r<=BM(JF),"Spring duration must be 10 seconds or less");let a=1-i;a=fL(ZF,eU,a),r=fL($F,JF,qM(r)),a<1?(t=e=>{const t=e*a,n=t*r,i=t-s,o=rU(e,a),l=Math.exp(-n);return XF-i/o*l},n=e=>{const n=e*a*r,i=n*s+s,o=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=rU(Math.pow(e,2),a);return(-t(e)+XF>0?-1:1)*((i-o)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-XF,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<nU;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=BM(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*o;return{stiffness:e,damping:2*a*Math.sqrt(o*e),duration:r}}}const nU=12;function rU(e,t){return e*Math.sqrt(1-t*t)}const iU=["duration","bounce"],sU=["stiffness","damping","mass"];function oU(e,t){return t.some((t=>void 0!==e[t]))}function aU(e){let{keyframes:t,restDelta:n,restSpeed:r,...i}=e;const s=t[0],o=t[t.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!oU(e,sU)&&oU(e,iU)){const n=tU(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...i,velocity:-qM(i.velocity||0)}),p=h||0,m=c/(2*Math.sqrt(l*u)),g=o-s,y=qM(Math.sqrt(l/u)),v=Math.abs(g)<5;let b;if(r||(r=v?.01:2),n||(n=v?.005:.5),m<1){const e=rU(y,m);b=t=>{const n=Math.exp(-m*y*t);return o-n*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>o-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return o-n*((p+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)a.done=e>=d;else{let i=p;0!==e&&(i=m<1?QF(b,e,t):0);const s=Math.abs(i)<=r,l=Math.abs(o-t)<=n;a.done=s&&l}return a.value=a.done?o:t,a}}}function lU(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,y=void 0===a?g:a(g);y!==g&&(m=y-h);const v=e=>-m*Math.exp(-e/i),b=e=>y+v(e),w=e=>{const t=v(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let _,x;const S=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(_=e,x=aU({keyframes:[f.value,p(f.value)],velocity:QF(b,e,f.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return x||void 0!==_||(t=!0,w(e),S(e)),void 0!==_&&e>_?x.next(e-_):(!t&&w(e),f)}}}const cU=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>cM.update(t,!0),stop:()=>uM(t),now:()=>dM.isProcessing?dM.timestamp:performance.now()}},uU=2e4;function dU(e){let t=0;let n=e.next(t);for(;!n.done&&t<uU;)t+=50,n=e.next(t);return t>=uU?1/0:t}const hU={decay:lU,inertia:lU,tween:GF,keyframes:GF,spring:aU};function fU(e){let t,n,{autoplay:r=!0,delay:i=0,driver:s=cU,keyframes:o,type:a="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:d,onStop:h,onComplete:f,onUpdate:p,...m}=e,g=1,y=!1;const v=()=>{n=new Promise((e=>{t=e}))};let b;v();const w=hU[a]||GF;let _;w!==GF&&"number"!==typeof o[0]&&(_=HF([0,100],o,{clamp:!1}),o=[0,100]);const x=w({...m,keyframes:o});let S;"mirror"===u&&(S=w({...m,keyframes:[...o].reverse(),velocity:-(m.velocity||0)}));let k="idle",E=null,T=null,C=null;null===x.calculatedDuration&&l&&(x.calculatedDuration=dU(x));const{calculatedDuration:I}=x;let N=1/0,P=1/0;null!==I&&(N=I+c,P=N*(l+1)-c);let A=0;const O=e=>{if(null===T)return;g>0&&(T=Math.min(T,e)),g<0&&(T=Math.min(e-P/g,T)),A=null!==E?E:Math.round(e-T)*g;const t=A-i*(g>=0?1:-1),n=g>=0?t<0:t>P;A=Math.max(t,0),"finished"===k&&null===E&&(A=P);let r=A,s=x;if(l){const e=Math.min(A,P)/N;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===u?(n=1-n,c&&(n-=c/N)):"mirror"===u&&(s=S)),r=fL(0,1,n)*N}const a=n?{done:!1,value:o[0]}:s.next(r);_&&(a.value=_(a.value));let{done:d}=a;n||null===I||(d=g>=0?A>=P:A<=0);const h=null===E&&("finished"===k||"running"===k&&d);return p&&p(a.value),h&&j(),a},R=()=>{b&&b.stop(),b=void 0},D=()=>{k="idle",R(),t(),v(),T=C=null},j=()=>{k="finished",f&&f(),R(),t()},L=()=>{if(y)return;b||(b=s(O));const e=b.now();d&&d(),null!==E?T=e-E:T&&"finished"!==k||(T=e),"finished"===k&&v(),C=T,E=null,k="running",b.start()};r&&L();const M={then:(e,t)=>n.then(e,t),get time(){return qM(A)},set time(e){e=BM(e),A=e,null===E&&b&&0!==g?T=b.now()-e/g:E=e},get duration(){const e=null===x.calculatedDuration?dU(x):x.calculatedDuration;return qM(e)},get speed(){return g},set speed(e){e!==g&&b&&(g=e,M.time=qM(A))},get state(){return k},play:L,pause:()=>{k="paused",E=A},stop:()=>{y=!0,"idle"!==k&&(k="idle",h&&h(),D())},cancel:()=>{null!==C&&O(C),D()},complete:()=>{k="finished"},sample:e=>(T=0,O(e))};return M}const pU=function(e){let t;return()=>(void 0===t&&(t=e()),t)}((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),mU=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function gU(e,t,n){let{onUpdate:r,onComplete:i,...s}=n;if(!(pU()&&mU.has(t)&&!s.repeatDelay&&"mirror"!==s.repeatType&&0!==s.damping&&"inertia"!==s.type))return!1;let o,a,l=!1,c=!1;const u=()=>{a=new Promise((e=>{o=e}))};u();let{keyframes:d,duration:h=300,ease:f,times:p}=s;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!GM(t.ease))(t,s)){const e=fU({...s,repeat:0,delay:0});let t={done:!1,value:d[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;p=void 0,d=n,h=r-10,f="linear"}const m=function(e,t,n){let{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=QM(a);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"})}(e.owner.current,t,d,{...s,duration:h,ease:f,times:p}),g=()=>{c=!1,m.cancel()},y=()=>{c=!0,cM.update(g),o(),u()};m.onfinish=()=>{c||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(d,s)),i&&i(),y())};return{then:(e,t)=>a.then(e,t),attachTimeline:e=>(m.timeline=e,m.onfinish=null,oM),get time(){return qM(m.currentTime||0)},set time(e){m.currentTime=BM(e)},get speed(){return m.playbackRate},set speed(e){m.playbackRate=e},get duration(){return qM(h)},play:()=>{l||(m.play(),uM(g))},pause:()=>m.pause(),stop:()=>{if(l=!0,"idle"===m.playState)return;const{currentTime:t}=m;if(t){const n=fU({...s,autoplay:!1});e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}y()},complete:()=>{c||m.finish()},cancel:y}}const yU={type:"spring",stiffness:500,damping:25,restSpeed:10},vU={type:"keyframes",duration:.8},bU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wU=(e,t)=>{let{keyframes:n}=t;return n.length>2?vU:iL.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:yU:bU},_U=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!jF.test(t)&&"0"!==t||t.startsWith("url("))),xU=new Set(["brightness","contrast","saturate","opacity"]);function SU(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(vL)||[];if(!r)return e;const i=n.replace(r,"");let s=xU.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const kU=/([a-z-]*)\(.*?\)/g,EU={...jF,getAnimatableNone:e=>{const t=e.match(kU);return t?t.map(SU).join(" "):e}},TU={...PL,color:wF,backgroundColor:wF,outlineColor:wF,fill:wF,stroke:wF,borderColor:wF,borderTopColor:wF,borderRightColor:wF,borderBottomColor:wF,borderLeftColor:wF,filter:EU,WebkitFilter:EU},CU=e=>TU[e];function IU(e,t){let n=CU(e);return n!==EU&&(n=jF),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const NU=e=>/^0[^.\s]+$/.test(e);function PU(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||NU(e):void 0}function AU(e,t){return e[t]||e.default||e}const OU=!1,RU=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const s=AU(r,e)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a-=BM(o);const l=function(e,t,n,r){const i=_U(t,n);let s;s=Array.isArray(n)?[...n]:[null,n];const o=void 0!==r.from?r.from:e.get();let a;const l=[];for(let c=0;c<s.length;c++)null===s[c]&&(s[c]=0===c?o:s[c-1]),PU(s[c])&&l.push(c),"string"===typeof s[c]&&"none"!==s[c]&&"0"!==s[c]&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++)s[l[c]]=IU(t,a);return s}(t,e,n,s),c=l[0],u=l[l.length-1],d=_U(e,c),h=_U(e,u);VM(d===h,"You are trying to animate ".concat(e,' from "').concat(c,'" to "').concat(u,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(u," via the `style` property."));let f={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}=e;return!!Object.keys(d).length}(s)||(f={...f,...wU(e,f)}),f.duration&&(f.duration=BM(f.duration)),f.repeatDelay&&(f.repeatDelay=BM(f.repeatDelay)),!d||!h||HM||!1===s.type||OU)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:i}=e;const s=()=>(r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:oM,pause:oM,stop:oM,then:e=>(e(),Promise.resolve()),cancel:oM,complete:oM});return n?fU({keyframes:[0,1],duration:0,delay:n,onComplete:s}):s()}(HM?{...f,delay:0}:f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=gU(t,e,f);if(n)return n}return fU(f)}};function DU(e){return Boolean(oL(e)&&e.add)}const jU=e=>/^\-?\d*\.?\d+$/.test(e);function LU(e,t){-1===e.indexOf(t)&&e.push(t)}function MU(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class FU{constructor(){this.subscriptions=[]}add(e){return LU(this.subscriptions,e),()=>MU(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const UU={current:void 0};class VU{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:i}=dM;t.lastUpdated!==i&&(t.timeDelta=r,t.lastUpdated=i,cM.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>cM.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new FU);const n=this.events[e].add(t);return"change"===e?()=>{n(),cM.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return UU.current&&UU.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?KF(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zU(e,t){return new VU(e,t)}const BU=e=>t=>t.test(e),qU=[pL,EL,kL,SL,CL,TL,{test:e=>"auto"===e,parse:e=>e}],HU=e=>qU.find(BU(e)),WU=[...qU,wF,jF],GU=e=>WU.find(BU(e));function KU(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,zU(n))}function YU(e,t){const n=UM(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){KU(e,o,nM(s[o]))}}function QU(e,t){if(!t)return;return(t[e]||t.default||t).from}function XU(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function $U(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function JU(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(s=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in a){const t=e.getValue(d),r=a[d];if(!t||void 0===r||u&&XU(u,d))continue;const i={delay:n,elapsed:0,...AU(s||{},d)};if(window.HandoffAppearAnimations){const n=e.getProps()[Lj];if(n){const e=window.HandoffAppearAnimations(n,d,t,cM);null!==e&&(i.elapsed=e,i.isHandoff=!0)}}let o=!i.isHandoff&&!$U(t,r);if("spring"===i.type&&(t.getVelocity()||i.velocity)&&(o=!1),t.animation&&(o=!1),o)continue;t.start(RU(d,t,r,e.shouldReduceMotion&&iL.has(d)?{type:!1}:i));const h=t.animation;DU(l)&&(l.add(d),h.then((()=>l.remove(d)))),c.push(h)}return o&&Promise.all(c).then((()=>{o&&YU(e,o)})),c}function ZU(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=UM(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(JU(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:o,staggerDirection:a}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const o=[],a=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(eV).forEach(((e,r)=>{e.notify("AnimationStart",t),o.push(ZU(e,t,{...s,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(o)}(e,t,s+r,o,a,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[e,t]="beforeChildren"===a?[s,o]:[o,s];return e().then((()=>t()))}return Promise.all([s(),o(n.delay)])}function eV(e,t){return e.sortNodePosition(t)}const tV=[...Vj].reverse(),nV=Vj.length;function rV(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>ZU(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=ZU(e,t,r);else{const i="function"===typeof t?UM(e,t,r.custom):t;n=Promise.all(JU(e,i,r))}return n.then((()=>e.notify("AnimationComplete",t)))}(e,n,r)})))}function iV(e){let t=rV(e);const n={animate:oV(!0),whileInView:oV(),whileHover:oV(),whileTap:oV(),whileDrag:oV(),whileFocus:oV(),exit:oV()};let r=!0;const i=(t,n)=>{const r=UM(e,n);if(r){const{transition:e,transitionEnd:n,...i}=r;t={...t,...i,...n}}return t};function s(s,o){const a=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set;let d={},h=1/0;for(let t=0;t<nV;t++){const f=tV[t],p=n[f],m=void 0!==a[f]?a[f]:l[f],g=Fj(m),y=f===o?p.isActive:null;!1===y&&(h=t);let v=m===l[f]&&m!==a[f]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),p.protectedKeys={...d},!p.isActive&&null===y||!m&&!p.prevProp||Uj(m)||"boolean"===typeof m)continue;let b=sV(p.prevProp,m)||f===o&&p.isActive&&!v&&g||t>h&&g,w=!1;const _=Array.isArray(m)?m:[m];let x=_.reduce(i,{});!1===y&&(x={});const{prevResolvedValues:S={}}=p,k={...S,...x},E=e=>{b=!0,u.has(e)&&(w=!0,u.delete(e)),p.needsAnimating[e]=!0};for(const e in k){const t=x[e],n=S[e];if(d.hasOwnProperty(e))continue;let r=!1;r=eM(t)&&eM(n)?!FM(t,n):t!==n,r?void 0!==t?E(e):u.add(e):void 0!==t&&u.has(e)?E(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=x,p.isActive&&(d={...d,...x}),r&&e.blockInitialAnimation&&(b=!1),!b||v&&!w||c.push(..._.map((e=>({animation:e,options:{type:f,...s}}))))}if(u.size){const t={};u.forEach((n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)})),c.push({animation:t})}let f=Boolean(c.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(c):Promise.resolve()}return{animateChanges:s,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const a=s(i,t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function sV(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!FM(t,e)}function oV(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let aV=0;const lV={animation:{Feature:class extends CM{constructor(e){super(e),e.animationState||(e.animationState=iV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Uj(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends CM{constructor(){super(...arguments),this.id=aV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},cV=(e,t)=>Math.abs(e-t);class uV{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=fV(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=cV(e.x,t.x),r=cV(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=dM;this.history.push({...r,timestamp:i});const{onStart:s,onMove:o}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=dV(t,this.transformPagePoint),cM.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=fV("pointercancel"===e.type?this.lastMoveEventInfo:dV(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!gM(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=dV(yM(e),this.transformPagePoint),{point:o}=s,{timestamp:a}=dM;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,fV(s,this.history)),this.removeListeners=_M(bM(this.contextWindow,"pointermove",this.handlePointerMove),bM(this.contextWindow,"pointerup",this.handlePointerUp),bM(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),uM(this.updatePoint)}}function dV(e,t){return t?{point:t(e.point)}:e}function hV(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fV(e,t){let{point:n}=e;return{point:n,delta:hV(n,mV(t)),offset:hV(n,pV(t)),velocity:gV(t,.1)}}function pV(e){return e[0]}function mV(e){return e[e.length-1]}function gV(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=mV(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>BM(t)));)n--;if(!r)return{x:0,y:0};const s=qM(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function yV(e){return e.max-e.min}function vV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function bV(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=_F(t.min,t.max,e.origin),e.scale=yV(n)/yV(t),(vV(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=_F(n.min,n.max,e.origin)-e.originPoint,(vV(e.translate)||isNaN(e.translate))&&(e.translate=0)}function wV(e,t,n,r){bV(e.x,t.x,n.x,r?r.originX:void 0),bV(e.y,t.y,n.y,r?r.originY:void 0)}function _V(e,t,n){e.min=n.min+t.min,e.max=e.min+yV(t)}function xV(e,t,n){e.min=t.min-n.min,e.max=e.min+yV(t)}function SV(e,t,n){xV(e.x,t.x,n.x),xV(e.y,t.y,n.y)}function kV(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function EV(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const TV=.35;function CV(e,t,n){return{min:IV(e,t),max:IV(e,n)}}function IV(e,t){return"number"===typeof e?e:e[t]||0}const NV=()=>({x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}),PV=()=>({x:{min:0,max:0},y:{min:0,max:0}});function AV(e){return[e("x"),e("y")]}function OV(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function RV(e){return void 0===e||1===e}function DV(e){let{scale:t,scaleX:n,scaleY:r}=e;return!RV(t)||!RV(n)||!RV(r)}function jV(e){return DV(e)||LV(e)||e.z||e.rotate||e.rotateX||e.rotateY}function LV(e){return MV(e.x)||MV(e.y)}function MV(e){return e&&"0%"!==e}function FV(e,t,n){return n+t*(e-n)}function UV(e,t,n,r,i){return void 0!==i&&(e=FV(e,i,r)),FV(e,n,r)+t}function VV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=UV(e.min,t,n,r,i),e.max=UV(e.max,t,n,r,i)}function zV(e,t){let{x:n,y:r}=t;VV(e.x,n.translate,n.scale,n.originPoint),VV(e.y,r.translate,r.scale,r.originPoint)}function BV(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function qV(e,t){e.min=e.min+t,e.max=e.max+t}function HV(e,t,n){let[r,i,s]=n;const o=void 0!==t[s]?t[s]:.5,a=_F(e.min,e.max,o);VV(e,t[r],t[i],a,t.scale)}const WV=["x","scaleX","originX"],GV=["y","scaleY","originY"];function KV(e,t){HV(e.x,t,WV),HV(e.y,t,GV)}function YV(e,t){return OV(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const QV=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},XV=new WeakMap;class $V{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=PV(),this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new uV(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(yM(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=EM(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),AV((e=>{let t=this.getAxisMotionValue(e).get()||0;if(kL.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=yV(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&cM.update((()=>i(e,t)),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>AV((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:QV(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&cM.update((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!JV(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?_F(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?_F(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&Mj(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:kV(e.x,r,s),y:kV(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TV;return!1===e?e=0:!0===e&&(e=TV),{x:CV(e,"left","right"),y:CV(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&AV((e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Mj(e))return!1;const n=e.current;zM(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=YV(e,n),{scroll:i}=t;return i&&(qV(r.x,i.offset.x),qV(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:EV(e.x,t.x),y:EV(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=OV(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=AV((o=>{if(!JV(o,t,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d={type:"inertia",velocity:n?e[o]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(o,d)}));return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(RU(e,n,0,t))}stopAnimation(){AV((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){AV((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){AV((t=>{const{drag:n}=this.getProps();if(!JV(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-_F(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Mj(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};AV((e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=yV(e),i=yV(t);return i>r?n=zF(t.min,t.max-r,e.min):r>i&&(n=zF(e.min,e.max-i,t.min)),fL(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),AV((t=>{if(!JV(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(_F(i,s,r[t]))}))}addListeners(){if(!this.visualElement.current)return;XV.set(this.visualElement,this);const e=bM(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Mj(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=mM(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(AV((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=TV,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function JV(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const ZV=e=>(t,n)=>{e&&cM.update((()=>e(t,n)))};const ez={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tz(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const nz={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!EL.test(e))return e;e=parseFloat(e)}const n=tz(e,t.target.x),r=tz(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},rz={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=jF.parse(e);if(s.length>5)return i;const o=jF.createTransformer(e),a="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+a]/=l,s[1+a]/=c;const u=_F(l,c,.5);return"number"===typeof s[2+a]&&(s[2+a]/=u),"number"===typeof s[3+a]&&(s[3+a]/=u),o(s)}};class iz extends r.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var s;s=oz,Object.assign(nL,s),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ez.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||cM.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sz(e){const[t,n]=function(){const e=(0,r.useContext)(Aj);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,s=(0,r.useId)();return(0,r.useEffect)((()=>i(s)),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}(),i=(0,r.useContext)(Yj);return r.createElement(iz,{...e,layoutGroup:i,switchLayoutGroup:(0,r.useContext)(Qj),isPresent:t,safeToRemove:n})}const oz={borderRadius:{...nz,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nz,borderTopRightRadius:nz,borderBottomLeftRadius:nz,borderBottomRightRadius:nz,boxShadow:rz},az=["TopLeft","TopRight","BottomLeft","BottomRight"],lz=az.length,cz=e=>"string"===typeof e?parseFloat(e):e,uz=e=>"number"===typeof e||EL.test(e);function dz(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const hz=pz(0,.5,aF),fz=pz(.5,.95,oM);function pz(e,t,n){return r=>r<e?0:r>t?1:n(zF(e,t,r))}function mz(e,t){e.min=t.min,e.max=t.max}function gz(e,t){mz(e.x,t.x),mz(e.y,t.y)}function yz(e,t,n,r,i){return e=FV(e-=t,1/n,r),void 0!==i&&(e=FV(e,1/i,r)),e}function vz(e,t,n,r,i){let[s,o,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;kL.test(t)&&(t=parseFloat(t),t=_F(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let a=_F(s.min,s.max,r);e===s&&(a-=t),e.min=yz(e.min,t,n,a,i),e.max=yz(e.max,t,n,a,i)}(e,t[s],t[o],t[a],t.scale,r,i)}const bz=["x","scaleX","originX"],wz=["y","scaleY","originY"];function _z(e,t,n,r){vz(e.x,t,bz,n?n.x:void 0,r?r.x:void 0),vz(e.y,t,wz,n?n.y:void 0,r?r.y:void 0)}function xz(e){return 0===e.translate&&1===e.scale}function Sz(e){return xz(e.x)&&xz(e.y)}function kz(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Ez(e){return yV(e.x)/yV(e.y)}class Tz{constructor(){this.members=[]}add(e){LU(this.members,e),e.scheduleRender()}remove(e){if(MU(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Cz(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r="translate3d(".concat(i,"px, ").concat(s,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) "))}const o=e.x.scale*t.x,a=e.y.scale*t.y;return 1===o&&1===a||(r+="scale(".concat(o,", ").concat(a,")")),r||"none"}const Iz=(e,t)=>e.depth-t.depth;class Nz{constructor(){this.children=[],this.isDirty=!1}add(e){LU(this.children,e),this.isDirty=!0}remove(e){MU(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Iz),this.isDirty=!1,this.children.forEach(e)}}const Pz=["","X","Y","Z"],Az={visibility:"hidden"};let Oz=0;const Rz={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Dz(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Oz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{var e;this.projectionUpdateScheduled=!1,Rz.totalNodes=Rz.resolvedTargetDeltas=Rz.recalculatedProjection=0,this.nodes.forEach(Mz),this.nodes.forEach(Hz),this.nodes.forEach(Wz),this.nodes.forEach(Fz),e=Rz,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Nz)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new FU),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=i=>{let{timestamp:s}=i;const o=s-n;o>=t&&(uM(r),e(o-t))};return cM.read(r,!0),()=>uM(r)}(r,250),ez.hasAnimatedSinceResize&&(ez.hasAnimatedSinceResize=!1,this.nodes.forEach(qz))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&o&&(i||s)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||o.getDefaultTransition()||$z,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),c=!this.targetLayout||!kz(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={...AU(s,"layout"),onPlay:a,onComplete:l};(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||qz(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,uM(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Gz),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Vz);this.isUpdating||this.nodes.forEach(zz),this.isUpdating=!1,this.nodes.forEach(Bz),this.nodes.forEach(jz),this.nodes.forEach(Lz),this.clearAllSnapshots();const e=performance.now();dM.delta=fL(0,1e3/60,e-dM.timestamp),dM.timestamp=e,dM.isProcessing=!0,hM.update.process(dM),hM.preRender.process(dM),hM.render.process(dM),dM.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(Uz),this.sharedNodes.forEach(Kz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,cM.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){cM.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=PV(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!Sz(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||jV(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),eB((r=n).x),eB(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return PV();const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(qV(t.x,n.offset.x),qV(t.y,n.offset.y)),t}removeElementScroll(e){const t=PV();gz(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:s}=r;if(r!==this.root&&i&&s.layoutScroll){if(i.isRoot){gz(t,e);const{scroll:n}=this.root;n&&(qV(t.x,-n.offset.x),qV(t.y,-n.offset.y))}qV(t.x,i.offset.x),qV(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=PV();gz(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&KV(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),jV(e.latestValues)&&KV(n,e.latestValues)}return jV(this.latestValues)&&KV(n,this.latestValues),n}removeTransform(e){const t=PV();gz(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!jV(e.latestValues))continue;DV(e.latestValues)&&e.updateSnapshot();const r=PV();gz(r,e.measurePageBox()),_z(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return jV(this.latestValues)&&_z(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dM.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=dM.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=PV(),this.relativeTargetOrigin=PV(),SV(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),gz(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,a,l;if(this.target||(this.target=PV(),this.targetWithTransforms=PV()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,_V(o.x,a.x,l.x),_V(o.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):gz(this.target,this.layout.layoutBox),zV(this.target,this.targetDelta)):gz(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=PV(),this.relativeTargetOrigin=PV(),SV(this.relativeTargetOrigin,this.target,e.target),gz(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Rz.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!DV(this.parent.latestValues)&&!LV(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===dM.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;gz(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,o;t.x=t.y=1;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const i=s.instance;i&&i.style&&"contents"===i.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&KV(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,zV(e,o)),r&&jV(s.latestValues)&&KV(e,s.latestValues))}t.x=BV(t.x),t.y=BV(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta=NV(),this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta=NV(),this.projectionDeltaWithTransform=NV());const c=this.projectionTransform;wV(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=Cz(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===o&&this.treeScale.y===a||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Rz.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},s=NV();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o=PV(),a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(Xz));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;Yz(s.x,e.x,n),Yz(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(SV(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){Qz(e.x,t.x,n.x,r),Qz(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,o,n),d&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d=PV()),gz(d,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=_F(0,void 0!==n.opacity?n.opacity:1,hz(r)),e.opacityExit=_F(void 0!==t.opacity?t.opacity:1,0,fz(r))):s&&(e.opacity=_F(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let o=0;o<lz;o++){const i="border".concat(az[o],"Radius");let s=dz(t,i),a=dz(n,i);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||uz(s)===uz(a)?(e[i]=Math.max(_F(cz(s),cz(a),r),0),(kL.test(a)||kL.test(s))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=_F(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(uM(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=cM.update((()=>{ez.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=oL(e)?e:zU(e);return r.start(RU("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&tB(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||PV();const t=yV(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=yV(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}gz(t,n),KV(t,i),wV(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Tz);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<Pz.length;i++){const t="rotate"+Pz[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Az;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=rM(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=rM(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!jV(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const o=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=Cz(this.projectionDeltaWithTransform,this.treeScale,o),i&&(r.transform=i(o,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*a.origin,"% ").concat(100*l.origin,"% 0"),s.animationValues?r.opacity=s===this?null!==(n=null!==(t=o.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:r.opacity=s===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const c in nL){if(void 0===o[c])continue;const{correct:e,applyTo:t}=nL[c],n="none"===r.transform?o[c]:e(o[c],s);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=s===this?rM(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(Vz),this.root.sharedNodes.clear()}}}function jz(e){e.updateLayout()}function Lz(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?AV((e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=yV(r);r.min=t[e].min,r.max=r.min+i})):tB(i,n.layoutBox,t)&&AV((r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],o=yV(t[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)}));const o=NV();wV(o,t,n.layoutBox);const a=NV();s?wV(a,e.applyTransform(r,!0),n.measuredBox):wV(a,t,n.layoutBox);const l=!Sz(o);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const o=PV();SV(o,n.layoutBox,i.layoutBox);const a=PV();SV(a,t,s.layoutBox),kz(o,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Mz(e){Rz.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Fz(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Uz(e){e.clearSnapshot()}function Vz(e){e.clearMeasurements()}function zz(e){e.isLayoutDirty=!1}function Bz(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function qz(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Hz(e){e.resolveTargetDelta()}function Wz(e){e.calcProjection()}function Gz(e){e.resetRotation()}function Kz(e){e.removeLeadSnapshot()}function Yz(e,t,n){e.translate=_F(t.translate,0,n),e.scale=_F(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Qz(e,t,n,r){e.min=_F(t.min,n.min,r),e.max=_F(t.max,n.max,r)}function Xz(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const $z={duration:.45,ease:[.4,0,.1,1]},Jz=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),Zz=Jz("applewebkit/")&&!Jz("chrome/")?Math.round:oM;function eB(e){e.min=Zz(e.min),e.max=Zz(e.max)}function tB(e,t,n){return"position"===e||"preserve-aspect"===e&&!vV(Ez(t),Ez(n),.2)}const nB=Dz({attachResizeListener:(e,t)=>mM(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rB={current:void 0},iB=Dz({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rB.current){const e=new nB({});e.mount(window),e.setOptions({layoutScroll:!0}),rB.current=e}return rB.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),sB={pan:{Feature:class extends CM{constructor(){super(...arguments),this.removePointerDownListener=oM}onPointerDown(e){this.session=new uV(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QV(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:ZV(e),onStart:ZV(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&cM.update((()=>r(e,t)))}}}mount(){this.removePointerDownListener=bM(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends CM{constructor(e){super(e),this.removeGroupControls=oM,this.removeListeners=oM,this.controls=new $V(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oM}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:iB,MeasureLayout:sz}},oB=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;const aB=4;function lB(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;zM(n<=aB,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=oB.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return jU(e)?parseFloat(e):e}return dL(i)?lB(i,t,n+1):i}const cB=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),uB=e=>cB.has(e),dB=e=>e===pL||e===EL,hB=(e,t)=>parseFloat(e.split(", ")[t]),fB=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/);if(s)return hB(s[1],t);{const t=i.match(/^matrix\((.+)\)$/);return t?hB(t[1],e):0}},pB=new Set(["x","y","z"]),mB=rL.filter((e=>!pB.has(e)));const gB={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:fB(4,13),y:fB(5,14)};gB.translateX=gB.x,gB.translateY=gB.y;const yB=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t={...t},r={...r};const i=Object.keys(t).filter(uB);let s=[],o=!1;const a=[];if(i.forEach((i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let c=n[i],u=HU(c);const d=t[i];let h;if(eM(d)){const e=d.length,t=null===d[0]?1:0;c=d[t],u=HU(c);for(let n=t;n<e&&null!==d[n];n++)h?zM(HU(d[n])===h,"All keyframes must be of the same type"):(h=HU(d[n]),zM(h===u||dB(u)&&dB(h),"Keyframes must be of the same dimension as the current value"))}else h=HU(d);if(u!==h)if(dB(u)&&dB(h)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof d?t[i]=parseFloat(d):Array.isArray(d)&&h===EL&&(t[i]=d.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===h||void 0===h?void 0:h.transform)&&(0===c||0===d)?0===c?l.set(h.transform(c)):t[i]=u.transform(d):(o||(s=function(e){const t=[];return mB.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),o=!0),a.push(i),r[i]=void 0!==r[i]?r[i]:t[i],l.jump(d))})),a.length){const n=a.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,a={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((e=>{a[e]=gB[e](r,s)})),t.render();const l=t.measureViewportBox();return n.forEach((n=>{const r=t.getValue(n);r&&r.jump(a[n]),e[n]=gB[n](l,s)})),e})(t,e,a);return s.length&&s.forEach((t=>{let[n,r]=t;e.getValue(n).set(r)})),e.render(),Oj&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function vB(e,t,n,r){return(e=>Object.keys(e).some(uB))(t)?yB(e,t,n,r):{target:t,transitionEnd:r}}const bB=(e,t,n,r)=>{const i=function(e,t,n){let{...r}=t;const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n={...n}),e.values.forEach((e=>{const t=e.get();if(!dL(t))return;const n=lB(t,i);n&&e.set(n)}));for(const s in r){const e=r[s];if(!dL(e))continue;const t=lB(e,i);t&&(r[s]=t,n||(n={}),void 0===n[s]&&(n[s]=e))}return{target:r,transitionEnd:n}}(e,t,r);return vB(e,t=i.target,n,r=i.transitionEnd)},wB={current:null},_B={current:!1};const xB=new WeakMap,SB=Object.keys(Kj),kB=SB.length,EB=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],TB=zj.length;class CB{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>cM.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Bj(n),this.isVariantNode=qj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const e=u[d];void 0!==a[d]&&oL(e)&&(e.set(a[d],!1),DU(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,xB.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),_B.current||function(){if(_B.current=!0,Oj)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wB.current=e.matches;e.addListener(t),t()}else wB.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||wB.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){xB.delete(this.current),this.projection&&this.projection.unmount(),uM(this.notifyUpdate),uM(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=iL.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&cM.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),i()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let i,s,{children:o,...a}=e;for(let l=0;l<kB;l++){const e=SB[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:o}=Kj[e];r&&(i=r),t(a)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),o&&(s=o))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:s,layoutScroll:o,layoutRoot:l}=a;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||s&&Mj(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:o,layoutRoot:l})}return s}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):PV()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<EB.length;n++){const t=EB[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(oL(s))e.addValue(i,s),DU(r)&&r.add(i);else if(oL(o))e.addValue(i,zU(s,{owner:e})),DU(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(s)}else{const t=e.getStaticValue(i);e.addValue(i,zU(void 0!==t?t:s,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<TB;t++){const n=zj[t],r=this.props[n];(Fj(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=zU(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=ZL(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||oL(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new FU),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class IB extends CB{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:i,...s}=e,{transformValues:o}=t,a=function(e,t,n){const r={};for(const i in e){const e=QU(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(s,r||{},this);if(o&&(i&&(i=o(i)),s&&(s=o(s)),a&&(a=o(a))),n){!function(e,t,n){var r,i;const s=Object.keys(t).filter((t=>!e.hasValue(t))),o=s.length;if(o)for(let a=0;a<o;a++){const o=s[a],l=t[o];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(i=null!==(r=n[o])&&void 0!==r?r:e.readValue(o))&&void 0!==i?i:t[o]),void 0!==c&&null!==c&&("string"===typeof c&&(jU(c)||NU(c))?c=parseFloat(c):!GU(c)&&jF.test(l)&&(c=IU(o,l)),e.addValue(o,zU(c,{owner:e})),void 0===n[o]&&(n[o]=c),null!==c&&e.setBaseTarget(o,c))}}(this,s,a);const e=bB(this,s,a,i);i=e.transitionEnd,s=e.target}return{transition:r,transitionEnd:i,...s}}}class NB extends IB{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(iL.has(t)){const e=CU(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(uL(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return YV(e,n)}build(e,t,n,r){AL(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return $L(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;oL(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}renderInstance(e,t,n,r){YL(e,t,n,r)}}class PB extends IB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(iL.has(t)){const e=CU(t);return e&&e.default||0}return t=QL.has(t)?t:jj(t),e.getAttribute(t)}measureInstanceViewportBox(){return PV()}scrapeMotionValuesFromProps(e,t){return JL(e,t)}build(e,t,n,r){qL(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){XL(e,t,0,r)}mount(e){this.isSVGTag=WL(e.tagName),super.mount(e)}}const AB=(e,t)=>tL(e)?new PB(t,{enableHardwareAcceleration:!1}):new NB(t,{enableHardwareAcceleration:!0}),OB={...lV,...MM,...sB,...{layout:{ProjectionNode:iB,MeasureLayout:sz}}},RB=Zj(((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;return{...tL(e)?fM:pM,preloadedFeatures:n,useRender:KL(i),createVisualElement:r,Component:e}}(e,t,OB,AB)));function DB(e){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M352.92 80C288 80 256 144 256 144s-32-64-96.92-64c-52.76 0-94.54 44.14-95.08 96.81-1.1 109.33 86.73 187.08 183 252.42a16 16 0 0018 0c96.26-65.34 184.09-143.09 183-252.42-.54-52.67-42.32-96.81-95.08-96.81z"}}]})(e)}function jB(e){return je({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 448a32 32 0 01-18-5.57c-78.59-53.35-112.62-89.93-131.39-112.8-40-48.75-59.15-98.8-58.61-153C48.63 114.52 98.46 64 159.08 64c44.08 0 74.61 24.83 92.39 45.51a6 6 0 009.06 0C278.31 88.81 308.84 64 352.92 64c60.62 0 110.45 50.52 111.08 112.64.54 54.21-18.63 104.26-58.61 153-18.77 22.87-52.8 59.45-131.39 112.8a32 32 0 01-18 5.56z"}}]})(e)}const LB=e=>{let{recipeId:t}=e;const[n,i]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(async()=>{try{const e=vN.currentUser;if(e){const n=bN.collection("users").doc(e.uid),r=await n.get();if(r.exists){const e=r.data().favorites||[];i(e.includes(t))}}}catch($S){console.error("Error checking favorite status:",$S)}})()}),[t]);const s=async()=>{try{const e=vN.currentUser;if(e){const n=bN.collection("users").doc(e.uid),r=await n.get();if(r.exists){const e=r.data().favorites||[];if(e.includes(t)){const r=e.filter((e=>e!==t));await n.update({favorites:r}),i(!1)}else await n.update({favorites:[...e,t]}),i(!0)}}}catch($S){console.error("Error adding/removing from favorites:",$S)}};return(0,CN.jsxs)("div",{className:"flex flex-col items-end text-center justify-center",children:[(0,CN.jsx)("button",{className:"rounded p-2 text-gray-500 hover:text-red-500 transition ".concat(n?"hidden":"block"),onClick:s,children:(0,CN.jsx)(DB,{size:30})}),(0,CN.jsx)("button",{className:"rounded p-2 text-red-500 hover:text-gray-500 transition ".concat(n?"block":"hidden"),onClick:s,children:(0,CN.jsx)(jB,{size:30})}),(0,CN.jsx)("span",{className:"text-xs font-logo",children:n?"Remove Favorites":"Add Favorites"})]})},MB=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(0),[s,o]=(0,r.useState)(!0),[a,l]=(0,r.useState)(null);(0,r.useEffect)((()=>{(async()=>{try{const e=(await Kr.firestore().collection("recipes").get()).docs.map((e=>({id:e.id,...e.data()})));e.forEach((e=>{const t=e.rating||0;e.trendScore=t})),e.sort(((e,t)=>t.trendScore-e.trendScore)),t(e),o(!1)}catch($S){console.error("Error fetching trending recipes:",$S),o(!1)}})()}),[]);const c=e.slice(n,n+8);return(0,CN.jsx)("div",{className:"relative bg-gradient-to-bl from-accent-500 via-wavy-purple to-secondary-500 h-min-screen",children:(0,CN.jsxs)("div",{className:"container mx-auto px-8 py-4",children:[(0,CN.jsx)("h2",{className:"text-3xl font-logo mb-4 text-secondary-900",children:"Resep Lagi Trending"}),s?(0,CN.jsxs)("div",{className:"flex justify-center items-center font-logo min-h-screen",children:[(0,CN.jsx)(AN(),{})," LOADING..."]}):a?(0,CN.jsxs)("div",{className:"text-red-500",children:["Error: ",l]}):(0,CN.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:c.map(((e,t)=>(0,CN.jsxs)(RB.div,{className:"border-2 p-4 bg-wavy-purple rounded-lg hover:shadow-lg\r transition duration-100 transform hover:scale-105\r text-center mb-4 shadow-lg-dark",initial:{opacity:0,scale:1},animate:{opacity:1,scale:.9,rotate:0},exit:{opacity:1},whileHover:{scale:1,opacity:1,rotate:15},children:[(0,CN.jsxs)("div",{className:"relative mb-4",children:[(0,CN.jsx)("img",{src:e.recipeImage,alt:e.title,className:"rounded-lg object-cover w-full h-auto"}),(0,CN.jsx)("div",{className:"absolute inset-0 rounded-lg bg-black opacity-20"}),(0,CN.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,CN.jsx)("img",{src:e.creatorPhoto||"userProfilePhotoURL",alt:"User Profile",className:"rounded-full w-14 h-14 object-cover border-2 border-white"})})]}),(0,CN.jsx)("h3",{className:"text-xl mb-2 font-bold",children:e.title}),(0,CN.jsx)("p",{className:"mb-4 font-logo",children:e.description.length>30?"".concat(e.description.slice(0,30),"..."):e.description}),(0,CN.jsx)(Ce,{to:"/recipes/".concat(e.id),className:"text-white px-2 mb-4 hover:bg-yellow-500 border rounded",children:"Lihat Resep"}),(0,CN.jsxs)("p",{className:"text-secondary-900 mt-2 mb-2",children:["Author: ",e.author]}),(0,CN.jsx)("div",{children:(0,CN.jsx)(LB,{userId:vN.currentUser?vN.currentUser.uid:null,recipeId:e.id})})]},e.id)))}),(0,CN.jsxs)("div",{className:"flex justify-center mt-4",children:[(0,CN.jsx)(RB.button,{onClick:()=>{i((e=>Math.max(e-8,0)))},className:"px-2 py-2 font-logo rounded-full bg-gray-300 hover:bg-gray-400 transition duration-300 mr-2",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,CN.jsx)(ze,{})}),(0,CN.jsx)(RB.button,{onClick:()=>{i((e=>e+8))},className:"px-2 py-2 font-logo rounded-full bg-gray-300 hover:bg-gray-400 transition duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,CN.jsx)(Be,{})})]})]})})},FB=()=>{const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(0),[s,o]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=Kr.auth().currentUser;if(e){const t=bN.collection("onlineStatus").doc(e.uid);return t.set({online:!0}),()=>{t.set({online:!1})}}}),[]),(0,r.useEffect)((()=>{const e=Kr.auth().currentUser;if(e){bN.collection("onlineStatus").doc(e.uid).onSnapshot((e=>{const n=e.data();t(!0===n.online)})),bN.collection("onlineStatus").where("online","==",!0).onSnapshot((e=>{const t=e.docs.length;i(t)}))}}),[]),(0,r.useEffect)((()=>{const e=setInterval((()=>{o((e=>!e))}),1e3);return()=>{clearInterval(e)}}),[]),(0,CN.jsxs)("div",{className:"mt-4 font-logo mb-4 ",children:[e?(0,CN.jsxs)("span",{className:"text-success ".concat(s?"animate__flash":""),children:[(0,CN.jsx)("i",{className:"fa fa-circle text-yellow-500 ".concat(s?"animate__flash":"")})," Online"]}):(0,CN.jsxs)("span",{className:"text-danger ".concat(s?"animate__flash":""),children:[(0,CN.jsx)("i",{className:"fa fa-circle ".concat(s?"animate__flash":"")})," Offline"]}),(0,CN.jsxs)("div",{className:"mt-2",children:["User Online: ",n]})]})},UB=e=>{let{isChatOpen:t,userAuth:n}=e;const[i,s]=(0,r.useState)([]),[o,a]=(0,r.useState)(null),[l,c]=(0,r.useState)(!0),[u,d]=(0,r.useState)([]),h=(0,r.useRef)(null),[f,p]=(0,r.useState)("");return(0,r.useEffect)((()=>{const e=()=>{const e=new Date,t=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0"),r=e.getSeconds().toString().padStart(2,"0");p("".concat(t,":").concat(n,":").concat(r))};e();const t=setInterval(e,1e3);return()=>clearInterval(t)}),[]),(0,r.useEffect)((()=>{const e=SN.orderBy("timestamp").limit(50).onSnapshot((e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));d(t)}));return()=>e()}),[]),(0,r.useEffect)((()=>{const e=vN.onAuthStateChanged((e=>{if(e){const t=async()=>{try{const t=xN.doc(e.uid),n=await t.get();if(n.exists){const e=n.data(),t=e.activity&&e.activity.slice(-5);a({...e,activity:t,photoURL:e.photoURL})}else console.log("User data does not exist.")}catch($S){console.error("Error fetching user data",$S)}};t()}else console.log("Current user not found.");c(!1)}));return()=>e()}),[]),(0,r.useEffect)((()=>{const e=SN.orderBy("timestamp").onSnapshot((e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));d(t)}));return()=>e()}),[]),(0,r.useEffect)((()=>{(async()=>{const e=(await _N.get()).docs.map((e=>({id:e.id,...e.data()})));s(e)})()}),[s,i]),(0,r.useEffect)((()=>{t&&h.current&&h.current.scrollIntoView({behavior:"smooth"})}),[u,t]),l?(0,CN.jsx)("div",{className:"bg-gradient-to-tr from-primary-500 via-wavy-purple to-accent-400",children:(0,CN.jsxs)("div",{className:"flex items-center justify-center min-h-screen",children:[(0,CN.jsx)(AN(),{})," LOADING..."]})}):(0,CN.jsxs)("div",{className:"min-h-screen flex flex-col justify-between text-center\r bg-gradient-to-bl from-accent-500 via-wavy-purple to-secondary-500 text-sm",children:[(0,CN.jsxs)("div",{children:[(0,CN.jsxs)("div",{className:"m-4 text-white",children:[(0,CN.jsx)("span",{className:"border-b-2 border-t-2 border-white",children:f.split(":")[0]}),(0,CN.jsx)("span",{className:"mx-2",children:":"}),(0,CN.jsx)("span",{className:"border-b-2 border-t-2 border-white",children:f.split(":")[1]}),(0,CN.jsx)("span",{className:"mx-2",children:":"}),(0,CN.jsx)("span",{className:"border-b-2 border-t-2 border-white",children:f.split(":")[2]})]}),(0,CN.jsx)("div",{className:"text-2xl font-logo m-4 text-secondary-600 animate__animated animate__fadeIn",children:"Selamat Datang di Resep Masakan Indonesia!"}),(0,CN.jsx)("p",{className:"m-4 text-center text-1x1",children:"Temukan berbagai resep masakan yang lezat dan nikmati pengalaman memasak yang menyenangkan."}),(0,CN.jsx)("p",{className:"m-4 text-center font-logo",children:"Daftar Sekarang Juga , Anda Bisa Membuat Resep Favorite Anda Sendiri."}),(0,CN.jsx)("div",{children:(0,CN.jsx)(FB,{user:o})}),(0,CN.jsx)("div",{id:"recipelist-section",className:"mb-4",children:(0,CN.jsx)(jN,{userAuth:n})}),(0,CN.jsx)("div",{id:"tranding-section",children:(0,CN.jsx)(MB,{})}),(0,CN.jsx)("div",{id:"recomen-section",children:(0,CN.jsx)(qN,{setUserRecipes:s})})]}),(0,CN.jsx)(Ij,{user:o,messages:u})]})},VB=e=>{let{onClick:t,commentId:n}=e;const[i,s]=(0,r.useState)(!1),[o,a]=(0,r.useState)(""),[l,c]=(0,r.useState)([]);(0,r.useEffect)((()=>{(async()=>{try{const e=(await bN.collection("comments").doc(n).collection("replies").orderBy("createdAt","asc").get()).docs.map((e=>({id:e.id,...e.data()})));c(e)}catch($S){console.error("Error fetching replies:",$S)}})()}),[n]);return(0,CN.jsx)("div",{children:i?(0,CN.jsxs)("div",{className:"flex items-center border-t border-gray-300 mt-4 pt-4",children:[(0,CN.jsx)("textarea",{className:"flex-grow border border-gray-300 rounded p-2 resize-none",placeholder:"Reply to this comment...",value:o,onChange:e=>a(e.target.value)}),(0,CN.jsxs)("div",{className:"flex items-center ml-4",children:[(0,CN.jsx)("button",{className:"text-blue-500 hover:text-blue-700",onClick:async()=>{if(""!==o.trim()){t(o,n),s(!1),a("");try{const e=(await bN.collection("comments").doc(n).collection("replies").orderBy("createdAt","asc").get()).docs.map((e=>({id:e.id,...e.data()})));c(e)}catch($S){console.error("Error fetching replies:",$S)}}},children:(0,CN.jsx)(xR,{icon:TR})}),(0,CN.jsx)("button",{className:"text-gray-500 hover:text-gray-700 ml-2",onClick:()=>{s(!1),a("")},children:(0,CN.jsx)(xR,{icon:PR})})]})]}):(0,CN.jsxs)("div",{children:[(0,CN.jsxs)("button",{className:"text-blue-500 hover:text-blue-700 ml-4",onClick:()=>{s(!0)},children:[(0,CN.jsx)(xR,{icon:TR})," Reply"]}),l&&l.length>0&&(0,CN.jsx)("ul",{className:"pl-8 mt-4 mb-6",children:l.map((e=>(0,CN.jsx)("li",{className:"border-t border-gray-300 py-2",children:e.content},e.id)))})]})})},zB=e=>{let{commentId:t,user:n}=e;const[i,s]=(0,r.useState)(0),[o,a]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=bN.collection("comments").doc(t).collection("likes");e.get().then((e=>{s(e.size)})),vN.currentUser&&e.doc(vN.currentUser.uid).get().then((e=>{a(e.exists)}))}),[t]);return(0,CN.jsxs)("button",{className:"flex items-center ".concat(o?"text-blue-500":"text-gray-500"," hover:text-blue-500 transition-colors"),onClick:async()=>{if(!vN.currentUser)return;const e=vN.currentUser,n=bN.collection("comments").doc(t).collection("likes").doc(e.uid);o?(await n.delete(),s((e=>e-1))):(await n.set({likedAt:new Date}),s((e=>e+1))),a(!o)},disabled:!vN.currentUser,children:[(0,CN.jsx)(Ye,{className:"w-4 h-4 mr-1 ".concat(o?"text-blue-500":"text-gray-500")}),(0,CN.jsx)("span",{children:i})]})},BB=e=>{const[t,n]=(0,r.useState)(null),[i,s]=(0,r.useState)(!1),[o,a]=(0,r.useState)(0),l=pN,[c,u]=(0,r.useState)(Array.isArray(e.comment.likes)?e.comment.likes.length:0),[d,h]=(0,r.useState)(i);(0,r.useEffect)((()=>{const e=vN.currentUser;n(e?{displayName:e.displayName,imageURL:e.photoURL}:null)}),[]),(0,r.useEffect)((()=>{t&&Array.isArray(e.comment.likes)?s(e.comment.likes.includes(t.uid)):s(!1),a(Array.isArray(e.comment.likes)?e.comment.likes.length:0)}),[e.comment.likes,t,o]);const f=async()=>{if(t)try{const n=d?e.comment.likes.filter((e=>e!==t.displayName)):[...e.comment.likes,t.displayName];await kN.doc(e.comment.id).update({likes:n}),h(!d),u(n.length),e.onToggleLike&&e.onToggleLike()}catch($S){console.error("Error handling like reply:",$S)}else alert("You need to be logged in to like replies.")};return(0,CN.jsx)("div",{className:"comment-item ml-4",children:(0,CN.jsxs)("div",{className:"flex items-start",children:[e.comment.user&&e.comment.user.imageURL?(0,CN.jsx)("img",{src:e.comment.user.imageURL,alt:"User",className:"w-6 h-6 rounded-full object-cover"}):(0,CN.jsx)("img",{src:e.comment.user&&e.comment.user.imageURL?e.comment.user.imageURL:e.userPhotoURL||l,alt:"User",className:"w-6 h-6 rounded-full object-cover"}),(0,CN.jsxs)("div",{className:"ml-3 flex-grow mb-4",children:[(0,CN.jsx)("div",{className:"flex items-center mb-1",children:(0,CN.jsx)("strong",{className:"text-sm font-medium",children:e.comment.user&&e.comment.user.displayName?e.comment.user.displayName:"Anonymous"})}),(0,CN.jsx)("div",{className:"text-sm text-gray-700",children:e.comment.content}),(0,CN.jsx)("div",{className:"flex items-center mt-2 text-sm text-gray-500",children:(0,CN.jsx)(zB,{commentId:e.comment.id,initialLikes:Array.isArray(e.comment.likes)?e.comment.likes.length:0,isLiked:i,onToggleLike:f})}),e.comment.replies&&e.comment.replies.length>0&&(0,CN.jsx)("div",{className:"pl-8 mt-4",children:e.comment.replies.map((t=>(0,CN.jsxs)("div",{className:"flex items-start",children:[t.user&&t.user.imageURL?(0,CN.jsx)("img",{src:t.user.imageURL,alt:"User",className:"w-8 h-8 rounded-full object-cover"}):(0,CN.jsx)("img",{src:e.userPhotoURL||l,alt:"User",className:"w-8 h-8 rounded-full object-cover"}),(0,CN.jsxs)("div",{className:"ml-3 flex-grow",children:[(0,CN.jsx)("div",{className:"flex items-center mb-1",children:(0,CN.jsx)("strong",{className:"text-sm font-medium",children:t.user&&t.user.displayName?t.user.displayName:"Anonymous"})}),(0,CN.jsx)("div",{className:"text-sm text-gray-700",children:t.content}),(0,CN.jsx)("div",{className:"flex items-center mt-2 text-sm text-gray-500",children:(0,CN.jsx)(zB,{commentId:t.id,initialLikes:c,isLiked:d,onToggleLike:f})})]})]},t.id)))})]})]})})},qB=e=>{let{onSubmit:t,user:n}=e;const[i,s]=(0,r.useState)(""),[o,a]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=vN.currentUser;a(!e)}),[]);return(0,CN.jsxs)("div",{className:"flex flex-col items-start mb-4",children:[o&&(0,CN.jsxs)("div",{className:"text-red-500 mb-4",children:["Please\xa0",(0,CN.jsx)(Ce,{to:"/login",className:"text-blue-500",children:"Login"}),"\xa0or\xa0",(0,CN.jsx)(Ce,{to:"/signup",className:"text-blue-500",children:"SignUp"}),"\xa0to like or comment."]}),(0,CN.jsx)("div",{className:"w-full px-4",children:(0,CN.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),""!==i.trim()){t({content:i}),s("")}},children:[(0,CN.jsxs)("div",{className:"flex items-center mb-2",children:[n&&n.imageURL?(0,CN.jsx)("img",{src:n.imageURL,alt:"User",className:"w-8 h-8 rounded-full object-cover border"}):(0,CN.jsx)($e,{className:"w-8 h-8 text-gray-500"}),(0,CN.jsx)("span",{className:"ml-2 font-medium",children:n&&n.displayName?n.displayName:"Anonymous"})]}),(0,CN.jsx)("label",{htmlFor:"commentInput",className:"sr-only",children:"Add a public comment"}),(0,CN.jsx)("textarea",{id:"commentInput",value:i,onChange:e=>{s(e.target.value)},placeholder:"Add a public comment...",className:"w-full p-2 border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",style:{minHeight:"80px"}}),(0,CN.jsx)("div",{className:"flex justify-end mt-2",children:(0,CN.jsx)("button",{type:"submit",className:"bg-blue-500 text-white rounded px-4 py-2 text-sm hover:bg-blue-600 transition-colors duration-300 focus:outline-none",disabled:!i.trim()||o,children:"Comment"})})]})})]})},HB=e=>{let{id:t}=e;const[n,i]=(0,r.useState)(null),[s,o]=(0,r.useState)([]),[a,l]=(0,r.useState)({}),[c,u]=(0,r.useState)(null);(0,r.useEffect)((()=>{const e=vN.currentUser;e?(i({displayName:e.displayName,imageURL:e.photoURL}),u(e.uid)):(i(null),u(null)),d(t)}),[t]);const d=async e=>{try{const t=await bN.collection("comments").where("recipeId","==",e).get(),n=[];for(const e of t.docs){const t={id:e.id,...e.data()},r=(await e.ref.collection("replies").get()).docs.map((e=>({id:e.id,...e.data()})));t.replies=r,n.push(t)}o(n)}catch($S){console.error("Error fetching comments:",$S)}},h=async(e,t)=>{try{e?await kN.doc(e).collection("replies").add({content:t.content,user:{displayName:n&&n.displayName?n.displayName:"Anonymous",imageURL:n&&n.imageURL?n.imageURL:null,photoURL:n&&n.photoURL?n.photoURL:null},likes:0}):console.error("Parent ID is missing for reply.")}catch($S){console.error("Error replying to comment:",$S)}},f=e=>{let n=0;return"number"===typeof e.likes?n=e.likes:e.likes&&"object"===typeof e.likes&&e.likes[c]&&(n=e.likes[c].likes),e.replies&&Array.isArray(e.replies)&&(n+=e.replies.reduce(((e,t)=>e+t.likes),0)),(0,CN.jsxs)("div",{children:[(0,CN.jsx)("div",{className:"mb-4 item-center",children:(0,CN.jsxs)("div",{className:"flex items-start",children:[e.user&&e.user.imageURL?(0,CN.jsx)("img",{src:e.user.imageURL,alt:"User",className:"w-8 h-8 border-2 border-blue-500 rounded-full object-cover"}):(0,CN.jsx)($e,{className:"w-6 h-6 text-gray-500 border-2 border-blue-500"}),(0,CN.jsxs)("div",{className:"ml-3 flex-grow mb-2 max-h-screen",children:[(0,CN.jsx)("div",{className:"flex items-center mb-1",children:(0,CN.jsx)("strong",{className:"text-sm font-medium",children:e.user&&e.user.displayName?e.user.displayName:"Anonymous"})}),(0,CN.jsxs)("div",{className:"text-sm text-gray-700",children:[e.content,(0,CN.jsx)("div",{className:"text-sm text-gray-500 mt-2",children:e.timestamp&&e.timestamp.seconds?function(e){const t=new Date,n=Math.floor((t-e)/1e3);if(n<60)return"".concat(n," seconds ago");if(n<3600){const e=Math.floor(n/60);return"".concat(e," minutes ago")}if(n<86400){const e=Math.floor(n/3600);return"".concat(e," hours ago")}{const e=Math.floor(n/86400);return"".concat(e," days ago")}}(1e3*e.timestamp.seconds):""})]}),(0,CN.jsxs)("div",{className:"flex items-center mt-2 text-sm text-gray-500",children:[(0,CN.jsx)(zB,{commentId:e.id,initialLikes:n,isLiked:e.likes&&e.likes[c]&&e.likes[c].likedAt,onToggleLike:()=>(async e=>{try{const n=kN.doc(e),r=await n.get();if(!r.exists)return void console.error("Comment does not exist.");const i=r.data(),s=vN.currentUser,o=[...i.likes||[]],a=s?s.displayName:"Anonymous";o.includes(a)?o.splice(o.indexOf(a),1):o.push(a),await n.update({likes:o}),d(t)}catch($S){console.error("Error handling like toggle:",$S)}})(e.id)}),(0,CN.jsxs)(VB,{onClick:n=>{h(e.id,{content:n}),d(t)},children:[(0,CN.jsx)(xR,{icon:TR})," "]}),e.replies&&e.replies.length>0&&(0,CN.jsx)("button",{className:"ml-2 item-center text-center text-blue-500",onClick:()=>{return t=e.id,void l((e=>({...e,[t]:!e[t]})));var t},children:a[e.id]?(0,CN.jsx)(xR,{icon:CR}):(0,CN.jsx)(xR,{icon:IR})})]})]})]})}),a[e.id]&&e.replies&&e.replies.length>0&&(0,CN.jsx)("div",{className:"pl-8 mt-4",children:e.replies.map((t=>(0,CN.jsx)(BB,{comment:t,onReplyComment:t=>h(e.id,{content:t}),onToggleLike:d},t.id)))})]},e.id)};return(0,CN.jsxs)("div",{className:"mt-6 justify-center item-center",children:[(0,CN.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Comments"}),(0,CN.jsx)("div",{className:"mb-4",children:(0,CN.jsx)(qB,{onSubmit:async e=>{try{const r=await kN.add({recipeId:t,content:e.content,user:{displayName:n&&n.displayName?n.displayName:"Anonymous",imageURL:n&&n.imageURL?n.imageURL:null,photoURL:n&&n.photoURL?n.photoURL:null},likes:0,timestamp:Kr.firestore.FieldValue.serverTimestamp()});o((i=>[...i,{id:r.id,recipeId:t,content:e.content,user:{displayName:n&&n.displayName?n.displayName:"Anonymous",imageURL:n&&n.imageURL?n.imageURL:null,photoURL:n&&n.photoURL?n.photoURL:null},likes:0}]))}catch($S){console.error("Error submitting comment:",$S)}},user:n})}),(0,CN.jsx)("div",{style:{maxHeight:"300px",overflowY:"auto"},children:0===s.length?(0,CN.jsx)("p",{children:"No comments yet."}):(0,CN.jsx)("div",{children:s.map((e=>(0,CN.jsx)(r.Fragment,{children:f(e)},e.id)))})}),(0,CN.jsx)("div",{className:"mt-4 text-center underline text-italic",children:(0,CN.jsx)("p",{children:"Note: Silahkan Reload Page jika Comment Anda Tidak Tampil"})})]})};function WB(e){return je({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"}}]})(e)}function GB(e){return je({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}},{tag:"path",attr:{d:"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"}}]})(e)}const KB=e=>{let{recipeId:t,initialRating:n,onChange:i}=e;const[s,o]=(0,r.useState)(parseFloat(n)),[a,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(0),[d,h]=(0,r.useState)(0);(0,r.useEffect)((()=>{o(parseFloat(n))}),[n]),(0,r.useEffect)((()=>{(async()=>{try{const e=vN.currentUser;if(e){const n=e.uid,r=bN.collection("recipes").doc(t).collection("ratings").doc(n),i=await r.get();if(i.exists){const e=i.data().rating;u(e),l(!0)}}}catch($S){console.error("Error fetching user rating:",$S)}})()}),[t]);return(0,CN.jsx)("div",{children:(0,CN.jsxs)("div",{className:"flex items-center mb-2",children:[[...Array(5)].map(((e,n)=>{const r=n+1,c=r<=s,f=r===Math.ceil(s)&&s%1!==0,p=a?"text-yellow-500":"text-gray-400",m=r<=d;return(0,CN.jsx)("span",{className:"text-3xl cursor-pointer ".concat(m?"text-yellow-500":p),onMouseEnter:()=>h(r),onMouseLeave:()=>h(0),onClick:()=>(async e=>{const n=parseFloat(e);if(!a){o(n),u(n),l(!0),i(n);try{const e=vN.currentUser;if(e){const r=e.uid,i=bN.collection("recipes").doc(t).collection("ratings").doc(r);await i.set({rating:n});const s=bN.collection("recipes").doc(t),o=await s.get();if(o.exists){const e=o.data().comments||[];e.push({userId:r,rating:n});const t=e.reduce(((e,t)=>e+t.rating),0),i=t/e.length;await s.update({rating:i.toFixed(1),comments:e})}}}catch($S){console.error("Error updating user rating:",$S)}}})(r),children:c?(0,CN.jsx)(Ke,{className:a?"text-yellow-500":"text-gray-400"}):f?(0,CN.jsx)(Ge,{className:a?"text-yellow-500":"text-gray-400"}):(0,CN.jsx)(Ke,{className:" text-gray-300 "})},n)})),(0,CN.jsx)("span",{className:"ml-2",children:a?c.toFixed(1):s.toFixed(1)})]})})};var YB=n(8819),QB=n.n(YB);const XB=e=>{let{authorId:t,photoURL:n,user:i,setAverageRating:s}=e;const{id:o}=ne(),[a,l]=(0,r.useState)(null),[c,u]=(0,r.useState)([]),[d,h]=(0,r.useState)(0),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!0),[y,v]=(0,r.useState)(0),[b,w]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(async()=>{try{g(!0);const e=await bN.collection("recipes").doc(o).get();if(e.exists){const r={id:e.id,...e.data(),createdAt:e.data().createdAt.toDate()},i=r.authorId;if(i!==t){const e=await bN.collection("users").doc(i).get();if(e.exists){const t=e.data();r.creatorPhoto=t.photoURL||n||pN}}else r.creatorPhoto=n||pN;l(r)}}catch($S){console.error("Error fetching recipe:",$S)}finally{g(!1)}})()}),[o,t,n]),(0,r.useEffect)((()=>{(async()=>{try{const e=(await kN.where("recipeId","==",o).get()).docs.map((e=>({id:e.id,...e.data()})));u(e),g(!1)}catch($S){console.error("Error fetching comments:",$S),g(!1)}})()}),[o]);const _=()=>{w(!b)};return m||!a?(0,CN.jsxs)("div",{className:"flex items-center justify-center min-h-screen bg-accent-300",children:[(0,CN.jsx)(AN(),{})," LOADING...."]}):(0,CN.jsxs)("div",{className:"p-6 lg:px-12 xl:px-24 bg-purple-200",children:[(0,CN.jsx)(Ce,{to:"/recipe-list",className:"text-blue-500 font-bold hover:underline",children:"< Back to Recipes"}),(0,CN.jsx)("h2",{className:"text-3xl font-semibold text-center mt-4",children:a.title}),(0,CN.jsxs)("div",{className:"relative mt-4",children:[a.recipeImage&&(0,CN.jsx)("img",{src:a.recipeImage,alt:"Recipe",className:"h-64 w-full object-cover rounded-md shadow-xl-dark"}),(0,CN.jsx)("div",{className:"absolute  bottom-0 left-0 right-0 p-4 bg-black bg-opacity-50 text-white",children:(0,CN.jsxs)("div",{className:"flex flex-row items-center mb-2",children:[(0,CN.jsx)("img",{src:a.creatorPhoto||i.photoURL,alt:"Creator",className:"rounded-full h-12 w-12 object-cover mr-2 border-2"}),(0,CN.jsxs)("p",{className:"text-white font-bold text-lg",children:[" ",a.author]})]})})]}),(0,CN.jsx)("div",{children:(0,CN.jsx)("p",{className:"text-center text-gray-700 mt-4",children:a.description})}),(0,CN.jsxs)("div",{className:"mt-8 bg-white bg-gradient-to-br from-white to-gray-300 p-4 rounded-md shadow-lg",children:[(0,CN.jsx)("h3",{className:"shadow-lg text-center text-xl font-semibold bg-blue-500 text-white py-2 rounded-t-lg",children:"Bahan-Bahan:"}),(0,CN.jsx)("ul",{className:"list-disc ml-8 mt-4 space-y-2",children:a.ingredients.map(((e,t)=>(0,CN.jsxs)("li",{className:"flex items-start",children:[(0,CN.jsx)("div",{className:"w-6 h-6 flex items-center justify-center rounded-full bg-blue-500 mr-2",children:(0,CN.jsx)(GB,{className:"text-white text-xl"})}),(0,CN.jsx)("span",{children:e})]},t)))})]}),(0,CN.jsxs)("div",{className:"mt-8 bg-white bg-gradient-to-br from-white to-gray-300 p-4 rounded-md shadow-lg",children:[(0,CN.jsx)("h3",{className:"shadow-lg text-center text-xl font-semibold bg-blue-500 text-white py-2 rounded-t-lg",children:"Cara Membuat :"}),(0,CN.jsx)("ol",{className:"list-decimal ml-8 mt-4 space-y-2",children:a.instructions.map(((e,t)=>(0,CN.jsxs)("li",{className:"flex items-start",children:[(0,CN.jsx)("div",{className:"w-6 h-6 flex items-center justify-center rounded-full bg-blue-500 mr-2",children:(0,CN.jsx)(Ze,{className:"text-white text-xl"})}),(0,CN.jsx)("span",{children:e})]},t)))})]}),a.recipeVideo&&(0,CN.jsx)("div",{className:"video-frame h-auto w-full mt-4",children:(0,CN.jsx)("div",{className:"video-curtain ".concat(b?"played":""),onClick:_,children:b?(0,CN.jsx)(QB(),{url:a.recipeVideo,width:"100%",height:"315px",controls:!0}):(0,CN.jsx)("button",{className:"mt-2 bg-blue-500 text-white px-4 py-2 rounded-md shadow-md",onClick:_,children:"Play Video"})})}),(0,CN.jsxs)("div",{className:"flex flex-col items-center justify-center my-4",children:[(0,CN.jsx)("p",{className:"text-center",children:"Tekan Bintang Untuk Memberikan Rating"}),(0,CN.jsxs)("div",{className:"px-2 py-2 items-center text-center mt-4",children:["Your Rating",(0,CN.jsx)(KB,{recipeId:o,initialRating:d,onChange:e=>{h(e),p(!0),v(e)}})]})]}),(0,CN.jsxs)("div",{className:"flex items-center justify-center mt-4",children:[(0,CN.jsx)("p",{className:"mr-2",children:"Average Rating: "}),(0,CN.jsxs)("div",{className:"p-2 bg-blue-500 rounded-full flex items-center justify-center",children:[(0,CN.jsx)(WB,{className:"text-yellow-400 inline-block"}),(0,CN.jsx)("span",{className:"text-white text-sm font-bold ml-1",children:a.rating})]})]}),(0,CN.jsx)("div",{className:"mt-8 text-center font-semibold",children:(0,CN.jsx)("h2",{className:"text-xl text-gray-800",children:"Share Resep ke Sosial Media Anda"})}),(0,CN.jsxs)("div",{className:"flex mx-auto m-4 justify-center space-x-1",children:[(0,CN.jsxs)("button",{className:"px-2 py-1 text-sm bg-blue-500 text-white rounded-lg flex items-center hover:bg-blue-600 transition-colors duration-300",onClick:()=>(e=>{const t="https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent("".concat(window.location.origin,"/recipes/").concat(e.id)));window.open(t,"_blank")})(a),children:[(0,CN.jsx)(Me,{className:"mr-1 text-sm"}),"Facebook"]}),(0,CN.jsxs)("button",{className:"px-2 py-1 text-sm bg-purple-700 text-white rounded-lg flex items-center hover:bg-purple-800 transition-colors duration-300",onClick:()=>{alert("Belum Berfungsi hehehe, Silahkan copy url di browser ")},children:[(0,CN.jsx)(Ue,{className:"mr-1 text-sm"}),"Instagram"]}),(0,CN.jsxs)("button",{className:"px-2 py-1 text-sm bg-green-500 text-white rounded-lg flex items-center hover:bg-green-600 transition-colors duration-300",onClick:()=>(e=>{const t="Check out this delicious recipe: ".concat(e.title,"\n\n").concat(e.description,"\n\n").concat(window.location.href),n="https://api.whatsapp.com/send?text=".concat(encodeURIComponent(t));window.open(n,"_blank")})(a),children:[(0,CN.jsx)(Ve,{className:"mr-1 text-sm"}),"WhatsApp"]})]}),(0,CN.jsx)("div",{className:"mt-8",children:(0,CN.jsx)(HB,{comments:c,id:o,setComments:u,user:i})})]})},$B=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(null),[s,o]=(0,r.useState)(!1),[a,l]=(0,r.useState)(!1);return(0,CN.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-r from-blue-500 to-purple-600",children:(0,CN.jsxs)("div",{className:"bg-white p-8 rounded shadow-md m-4 opacity-90",children:[(0,CN.jsx)("h2",{className:"text-2xl text-center font-bold text-gray-800 mb-4 animate__animated animate__fadeIn",children:"Forgot Password"}),s?(0,CN.jsxs)("div",{className:"text-center item-center ",children:[(0,CN.jsx)("p",{className:"text-green-500 mb-2 animate__animated animate__fadeIn",children:"Please check your email to reset your password."}),(0,CN.jsx)("p",{className:"text-gray-600 animate__animated animate__fadeIn",children:"If you don't receive an email, please check your spam folder or try again later."})]}):(0,CN.jsxs)(CN.Fragment,{children:[n&&(0,CN.jsx)("p",{className:"text-red-500 text-center mb-4 animate__animated animate__shakeX",children:n}),(0,CN.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e)try{l(!0),i(null),await vN.sendPasswordResetEmail(e),o(!0)}catch(n){"auth/too-many-requests"===n.code?i("We have blocked all requests from this device due to unusual activity. Try again later."):i(n.message)}finally{l(!1)}else i("Please enter your email")},className:"space-y-4 text-center",children:[(0,CN.jsxs)("label",{className:"block",children:[(0,CN.jsx)("span",{className:"text-gray-700",children:"Enter your email:"}),(0,CN.jsx)("input",{type:"email",value:e,onChange:e=>{t(e.target.value)},className:"mt-1 text-center block w-full h-auto rounded-md bg-primary-200 border-2 border-accent-500 focus:border-red-500 focus:ring focus:ring-secondary-500"})]}),(0,CN.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white py-2 px-2 rounded-md animate__animated ".concat(a?"opacity-75 cursor-not-allowed":"animate__fadeIn"),disabled:a,children:a?"Sending...":"Reset Password"})]})]})]})})};function JB(e){return je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"}}]})(e)}function ZB(e){return je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(e)}function eq(e){return je({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function tq(e){return je({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z"}}]})(e)}const nq=e=>{let{authorId:t}=e;const[n,i]=(0,r.useState)([]),[s,o]=(0,r.useState)(!0),[a,l]=(0,r.useState)(null),c=e=>e.length>5?e.slice(0,5):e;return(0,r.useEffect)((()=>{(async()=>{try{o(!0);const e=bN.collection("users").doc(t),n=await e.get();if(n.exists){const e=n.data(),t=e.activity||[];t.reverse();const r=c(t);i(r),l(e)}o(!1)}catch($S){console.error("Error fetching activities:",$S)}})()}),[t]),(0,r.useEffect)((()=>{const e=bN.collection("users").doc(t).onSnapshot((e=>{const t=e.data(),n=t.activity||[];n.reverse();const r=c(n);i(r),l(t)}));return()=>e()}),[t,n]),(0,CN.jsx)(CN.Fragment,{children:s?(0,CN.jsx)("div",{className:"fixed inset-0 flex justify-center items-center bg-opacity-50 bg-white z-50",children:(0,CN.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-blue-500 border-solid"})}):(0,CN.jsxs)("div",{className:"mx-auto w-64 p-2",children:[a&&(0,CN.jsxs)("h2",{className:"text-sm font-semibold mb-2 font-logo",children:[" ",a.displayName," Activity"]}),(0,CN.jsx)("ul",{className:"space-y-1",children:n.map(((e,t)=>(0,CN.jsxs)("li",{className:"p-2 border border-gray-300 rounded-lg ".concat(0===t?"bg-yellow-100":"bg-white"),children:[(0,CN.jsx)("p",{className:"font-10 mb-2 text-center font-logo",children:"New Recipe Add: "}),(0,CN.jsx)("p",{className:"text-orange-500 font-semibold mb-2",children:e.recipeName}),(0,CN.jsxs)("p",{className:"text-gray-500",children:["Date:"," ",new Date(1e3*e.date.seconds).toLocaleString()]})]},t)))})]})})},rq=e=>{let{authorId:t}=e;const[n,i]=(0,r.useState)(!1),s=(0,r.useRef)(null),o=(0,r.useRef)(null),[a,l]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{(async()=>{try{l(!1),await new Promise((e=>setTimeout(e,2e3))),l(!1)}catch($S){console.error("Error fetching activities:",$S),l(!1)}})()}),[]),(0,r.useEffect)((()=>{const e=e=>{n&&o.current&&!o.current.contains(e.target)&&i(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[n]),(0,CN.jsxs)("div",{className:"fixed bottom-4 md:bottom-8 right-4 z-30",children:[(0,CN.jsx)(WN(),{nodeRef:s,children:(0,CN.jsx)("div",{ref:s,children:(0,CN.jsx)("button",{className:"bg-yellow-500 text-blue rounded-full p-3 shadow hover:bg-purple-600 cursor-pointer focus:outline-none",onClick:()=>{i((e=>!e))},onTouchStart:()=>{i((e=>!e))},ref:o,children:(0,CN.jsx)(JB,{size:24})})})}),n&&(0,CN.jsx)("div",{className:"bg-blue-300 rounded-lg p-3 shadow mt-2 text-xs md:text-sm",children:a?(0,CN.jsx)("div",{className:"flex justify-center items-center h-16 w-16",children:(0,CN.jsx)(BN,{color:"#000000",loading:a,size:16})}):(0,CN.jsx)("ul",{children:(0,CN.jsx)(nq,{authorId:t})})})]})},iq=e=>{let{authorId:t}=e;const[n,i]=(0,r.useState)([]),[s,o]=(0,r.useState)({});(0,r.useEffect)((()=>{(async()=>{try{if(t){const e=bN.collection("recipes").where("authorId","==",t),n=(await e.get()).docs.map((e=>{const t=e.data(),n=t.createdAt?t.createdAt.toDate():null;return{id:e.id,...t,dateCreated:n}})),r=[...new Set(n.map((e=>e.authorId)))],s=(await bN.collection("users").where("authorId","in",r).get()).docs.map((e=>({id:e.id,...e.data()}))),o=n.map((e=>{const t=s.find((t=>t.authorId===e.authorId));return{...e,creatorPhoto:(null===t||void 0===t?void 0:t.photoURL)||(null===t||void 0===t?void 0:t.imageURL)||""}}));o.sort(((e,t)=>t.dateCreated-e.dateCreated)),i(o)}else i([])}catch($S){console.error("Error fetching user recipes:",$S)}})()}),[t]);const a=e=>()=>{o((t=>({...t,[e]:!t[e]})))},l=e=>{if(!e)return!1;const t=new Date;return Math.floor((t-e)/864e5)<=7};return(0,CN.jsxs)("div",{className:"mx-auto bg-primary-200 min-h-screen p-6",children:[(0,CN.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center text-secondary",children:"Resep Collection"}),0===n.length?(0,CN.jsx)("p",{className:"text-secondary font-logo text-center",children:"Tidak ada resep yang dibuat."}):(0,CN.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:n.map((e=>{var n;return(0,CN.jsxs)("div",{className:"transition-transform transform hover:scale-105 border rounded-lg overflow-hidden shadow-md hover:shadow-lg bg-gradient-to-br from-purple-700 to-pink-500 relative transition duration-300",children:[l(e.dateCreated)&&(0,CN.jsx)("div",{className:"absolute top-0 left-0 font-bold text-orange-700 mt-3 px-2 rounded-b-lg transform -rotate-45 underline text-white",children:"New!!"}),(0,CN.jsxs)("div",{className:"p-4",children:[(0,CN.jsx)(Ce,{to:"/recipes/".concat(e.id),children:(0,CN.jsx)("h3",{className:"text-xl font-bold text-center mb-2 text-primary hover:text-accent-500",children:e.title})}),(0,CN.jsx)(Ce,{to:"/author/".concat(t),className:"text-secondary",children:(0,CN.jsxs)("div",{className:"flex items-center mb-2 text-white font-bold hover:underline",children:[(0,CN.jsx)("img",{src:e.creatorPhoto||pN,alt:"Creator",className:"w-8 h-8 border-2 rounded-full object-cover mr-2"}),e.author]})}),(0,CN.jsx)(Ce,{to:"/recipes/".concat(e.id),children:e.recipeImage&&(0,CN.jsx)("img",{src:e.recipeImage,alt:e.title,className:"w-full h-auto object-cover mb-2 border rounded-lg"})}),(0,CN.jsx)("div",{className:"text-center rounded-lg p-2",children:(0,CN.jsx)("p",{className:"".concat(s[e.id]?"h-auto":"h-12"," overflow-hidden text-white"),onClick:a(e.id),style:{cursor:"pointer"},children:e.description})}),!s[e.id]&&e.description.split(" ").length>12&&(0,CN.jsx)("button",{className:"text-white hover:text-primary-500 focus:outline-none mt-2",onClick:a(e.id),children:"Lihat Selengkapnya"}),(0,CN.jsxs)("p",{className:"mt-2 text-sm",children:["Kategori: ",e.category]}),(0,CN.jsxs)("p",{className:"text-white text-sm mt-2",children:["Created: ",null===(n=e.dateCreated)||void 0===n?void 0:n.toLocaleDateString()]}),(0,CN.jsxs)("div",{className:"flex mt-4 justify-center space-x-4",children:[(0,CN.jsxs)("button",{className:"px-3 py-1 text-sm bg-red-500 text-white rounded-lg flex items-center hover:bg-red-600 transition-colors duration-300",onClick:()=>(async e=>{try{await bN.collection("recipes").doc(e).delete(),i((t=>t.filter((t=>t.id!==e)))),console.log("Recipe deleted successfully!")}catch($S){console.error("Error deleting recipe:",$S)}})(e.id),children:[(0,CN.jsx)(eq,{className:"mr-1 text-sm"}),"Delete"]}),(0,CN.jsxs)(Ce,{to:"/recipes/edit/".concat(e.id),className:"px-3 py-1 text-sm bg-blue-500 text-white rounded-lg flex items-center hover:bg-blue-600 transition-colors duration-300",children:[(0,CN.jsx)(ZB,{className:"mr-1 text-sm"}),"Edit"]})]}),(0,CN.jsx)("div",{children:(0,CN.jsx)(LB,{userId:vN.currentUser.uid,recipeId:e.id})})]})]},e.id)}))})]})},sq=e=>{let{userId:t,authorId:n,photoURL:i}=e;const[s,o]=(0,r.useState)([]),{id:a}=ne(),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{(async()=>{try{const e=bN.collection("users").doc(t),n=await e.get();if(n.exists){const e=n.data().favorites||[],t=await Promise.all(e.map((async e=>{const t=bN.collection("recipes").doc(e),n=await t.get();return n.exists?{id:e,...n.data()}:null})));o(t.filter((e=>e)))}}catch($S){console.error("Error fetching favorite recipes:",$S)}})()}),[t]),(0,r.useEffect)((()=>{(async()=>{try{d(!0);const e=await bN.collection("recipes").doc(a).get();if(e.exists){const t={id:e.id,...e.data(),createdAt:e.data().createdAt.toDate()},r=t.authorId;if(r!==n){const e=await bN.collection("users").doc(r).get();if(e.exists){const n=e.data();t.creatorPhoto=n.photoURL||pN}}else t.creatorPhoto=i||pN;c(t)}}catch($S){console.error("Error fetching recipe:",$S)}finally{d(!1)}})()}),[a,n,i]),(0,CN.jsxs)("div",{className:"mx-auto bg-primary-200 min-h-screen p-4",children:[(0,CN.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center text-secondary",children:"Favorite Recipes"}),0===s.length?(0,CN.jsx)("p",{className:"text-secondary text-center font-logo",children:"No favorite recipes found."}):(0,CN.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:s.map((e=>(0,CN.jsxs)("div",{className:"border rounded-lg overflow-hidden shadow-md hover:shadow-lg bg-gradient-to-br from-purple-700 to-pink-500 relative transition-transform transform hover:scale-105 duration-300",children:[(0,CN.jsxs)(Ce,{className:"block text-xl font-bold text-white hover:text-secondary-700 transition-colors p-2",to:"/recipes/".concat(e.id),children:[(0,CN.jsx)("div",{className:"mb-2 text-center",children:e.title}),e.recipeImage&&(0,CN.jsx)("div",{className:"mb-4 relative",children:(0,CN.jsx)("img",{src:e.recipeImage,alt:"Recipe",className:"h-32 md:h-40 w-full object-cover rounded-t"})})]}),(0,CN.jsx)(Ce,{to:"/author/".concat(e.authorId),children:(0,CN.jsxs)("div",{className:"flex flex-row items-center mb-2 p-2",children:[(0,CN.jsx)("img",{src:e.creatorPhoto,alt:"Creator",className:"rounded-full border-2 h-8 w-8 object-cover mr-2"}),(0,CN.jsx)("p",{className:"text-white font-bold",children:e.author})]})})]},e.id)))})]})},oq=e=>{let{recipe:t}=e;const[n,i]=(0,r.useState)(null),{authorId:s}=ne(),[o,a]=(0,r.useState)(null),[l,c]=(0,r.useState)(!0),[u,d]=(0,r.useState)(pN),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(""),[g,y]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=vN.onAuthStateChanged((async e=>{if(e)try{await EN(e);const t=bN.collection("users").doc(e.uid),n=await t.get();if(n.exists){const e=n.data();i(e),d(e.photoURL||pN)}else{const n={displayName:e.displayName||"UNKNOWN",email:e.email,photoURL:e.photoURL||pN};await t.set(n),i(n),d(pN)}}catch($S){console.error("Error fetching user data:",$S)}finally{c(!1),y(!0)}else i(null),c(!1),y(!0)}));return()=>e()}),[l]),(0,r.useEffect)((()=>{n&&!u&&(async()=>{try{const e=bN.collection("users").doc(s),t=await e.get();if(t.exists){const{photoURL:e}=t.data();d(e||u)}else d(u)}catch($S){console.error("Error retrieving default profile image URL:",$S)}})()}),[n,u,s,o]);const v=async(e,t,n)=>{try{const r=bN.collection("recipes").where("authorId","==",e),i=await r.get(),s=bN.batch();i.forEach((e=>{const r=bN.collection("recipes").doc(e.id);s.update(r,{author:t,photoURL:n})})),await s.commit()}catch($S){console.error("Error updating recipes author:",$S)}},b=()=>{console.log("Popup Closed"),f(!1),m(n.displayName||""),localStorage.removeItem("newDisplayName")};return g?n?(0,CN.jsxs)(CN.Fragment,{children:[(0,CN.jsxs)("div",{className:"flex flex-col items-center px-4 py-4 \r bg-gradient-to-br from-accent-500 to-secondary-300",children:[(0,CN.jsxs)("div",{className:"w-32 h-32 relative rounded-full",children:[n.photoURL?(0,CN.jsx)("img",{src:n.photoURL,alt:"Profile Preview",className:"w-full h-full object-cover border-2 rounded-full"}):(0,CN.jsx)("img",{src:u,alt:"Profile",className:"w-full h-full object-cover rounded-full border-2"}),(0,CN.jsxs)("label",{htmlFor:"photoUpload",className:"absolute bottom-0 right-0 bg-white rounded-full p-1\r cursor-pointer transition-opacity hover:opacity-75",children:[(0,CN.jsx)(tq,{className:"h-6 w-6 text-blue-500"}),(0,CN.jsx)("input",{id:"photoUpload",type:"file",accept:"image/*",className:"hidden",onChange:async e=>{const t=e.target.files[0];a(t);try{if(c(!0),t){const e=await(async(e,t,n)=>{if(!e||!t)return null;try{const n=wN.ref().child("photo/".concat(e.uid,"/").concat(t.name)),r=await n.put(t),i=await r.ref.getDownloadURL();return await vN.currentUser.updateProfile({photoURL:i}),i}catch($S){return console.error("Error uploading photo:",$S),null}finally{n(!1)}})(vN.currentUser,t,c);if(e){const t={photoURL:e};await EN(vN.currentUser,t),i((t=>({...t,photoURL:e}))),v(vN.currentUser.uid,n.displayName,e)}else console.error("Invalid image URL.")}else i((e=>({...e,photoURL:n.photoURL||pN})))}catch($S){console.error("Error uploading photo:",$S)}finally{c(!1)}}})]})]}),(0,CN.jsxs)("div",{className:"flex flex-row items-center mt-4",children:[(0,CN.jsx)("p",{className:"text-xl text-white text-center item-center justify-center",children:n.displayName}),(0,CN.jsx)("div",{className:"flex flex-col items-center text-blue-500 m-1 cursor-pointer transition-opacity hover:opacity-75",onClick:()=>{f(!0),m(n.displayName||"")},children:(0,CN.jsx)(ZB,{className:"mr-1"})})]}),(0,CN.jsx)("p",{className:"text-primary-500 m-4 font-logo",children:n.email}),h&&(0,CN.jsx)("div",{className:"fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center bg-purple-200 bg-opacity-50 z-10",children:(0,CN.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-lg",children:[(0,CN.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Edit Display Name"}),(0,CN.jsx)("input",{type:"text",className:"w-full border border-gray-300 p-2 rounded mb-4",placeholder:"Enter new display name",value:p,onChange:e=>m(e.target.value)}),(0,CN.jsxs)("div",{className:"flex justify-end",children:[(0,CN.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded mr-2",onClick:async()=>{c(!0);try{await vN.currentUser.updateProfile({displayName:p}),await EN(vN.currentUser,{displayName:p});const e=bN.collection("recipes").where("authorId","==",vN.currentUser.uid),t=(await e.get()).docs.map((async e=>{const t=bN.collection("recipes").doc(e.id);await t.update({author:p})}));await Promise.all(t),i((e=>({...e,displayName:p}))),m(p),localStorage.setItem("newDisplayName",p),c(!1),b()}catch($S){console.error("Error updating display name:",$S),c(!1)}},children:"Update"}),(0,CN.jsx)("button",{className:"px-4 py-2 bg-red-500 text-white rounded",onClick:b,children:"Cancel"})]})]})})]}),(0,CN.jsx)("div",{children:(0,CN.jsx)(iq,{authorId:vN.currentUser.uid})}),(0,CN.jsx)(sq,{userId:vN.currentUser.uid}),(0,CN.jsx)("div",{children:(0,CN.jsx)(rq,{authorId:vN.currentUser.uid})})]}):(0,CN.jsx)("div",{className:"flex flex-col font-logo items-center px-4 py-4 bg-purple-600 border-top",children:"You are not logged in."}):(0,CN.jsxs)("div",{className:"flex flex-col justify-center font-logo min-h-screen items-center px-4 py-4\r bg-gradient-to-br from-accent-500 to-secondary-300 border-top",children:[(0,CN.jsx)(BN,{})," LOADING..."]})};var aq=n(1097),lq=n.n(aq);const cq={type:lR().string,tooltip:lR().bool,as:lR().elementType},uq=r.forwardRef(((e,t)=>{let{as:n="div",className:r,type:i="valid",tooltip:s=!1,...o}=e;return(0,CN.jsx)(n,{...o,ref:t,className:lq()(r,"".concat(i,"-").concat(s?"tooltip":"feedback"))})}));uq.displayName="Feedback",uq.propTypes=cq;const dq=uq,hq=r.createContext({}),fq=["xxl","xl","lg","md","sm","xs"],pq="xs",mq=r.createContext({prefixes:{},breakpoints:fq,minBreakpoint:pq}),{Consumer:gq,Provider:yq}=mq;function vq(e,t){const{prefixes:n}=(0,r.useContext)(mq);return e||n[t]||t}const bq=r.forwardRef(((e,t)=>{let{id:n,bsPrefix:i,className:s,type:o="checkbox",isValid:a=!1,isInvalid:l=!1,as:c="input",...u}=e;const{controlId:d}=(0,r.useContext)(hq);return i=vq(i,"form-check-input"),(0,CN.jsx)(c,{...u,ref:t,type:o,id:n||d,className:lq()(s,i,a&&"is-valid",l&&"is-invalid")})}));bq.displayName="FormCheckInput";const wq=bq,_q=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,htmlFor:s,...o}=e;const{controlId:a}=(0,r.useContext)(hq);return n=vq(n,"form-check-label"),(0,CN.jsx)("label",{...o,ref:t,htmlFor:s||a,className:lq()(i,n)})}));_q.displayName="FormCheckLabel";const xq=_q;const Sq=r.forwardRef(((e,t)=>{let{id:n,bsPrefix:i,bsSwitchPrefix:s,inline:o=!1,reverse:a=!1,disabled:l=!1,isValid:c=!1,isInvalid:u=!1,feedbackTooltip:d=!1,feedback:h,feedbackType:f,className:p,style:m,title:g="",type:y="checkbox",label:v,children:b,as:w="input",..._}=e;i=vq(i,"form-check"),s=vq(s,"form-switch");const{controlId:x}=(0,r.useContext)(hq),S=(0,r.useMemo)((()=>({controlId:n||x})),[x,n]),k=!b&&null!=v&&!1!==v||function(e,t){return r.Children.toArray(e).some((e=>r.isValidElement(e)&&e.type===t))}(b,xq),E=(0,CN.jsx)(wq,{..._,type:"switch"===y?"checkbox":y,ref:t,isValid:c,isInvalid:u,disabled:l,as:w});return(0,CN.jsx)(hq.Provider,{value:S,children:(0,CN.jsx)("div",{style:m,className:lq()(p,k&&i,o&&"".concat(i,"-inline"),a&&"".concat(i,"-reverse"),"switch"===y&&s),children:b||(0,CN.jsxs)(CN.Fragment,{children:[E,k&&(0,CN.jsx)(xq,{title:g,children:v}),h&&(0,CN.jsx)(dq,{type:f,tooltip:d,children:h})]})})})}));Sq.displayName="FormCheck";const kq=Object.assign(Sq,{Input:wq,Label:xq});n(6568);const Eq=r.forwardRef(((e,t)=>{let{bsPrefix:n,type:i,size:s,htmlSize:o,id:a,className:l,isValid:c=!1,isInvalid:u=!1,plaintext:d,readOnly:h,as:f="input",...p}=e;const{controlId:m}=(0,r.useContext)(hq);return n=vq(n,"form-control"),(0,CN.jsx)(f,{...p,type:i,size:o,ref:t,readOnly:h,id:a||m,className:lq()(l,d?"".concat(n,"-plaintext"):n,s&&"".concat(n,"-").concat(s),"color"===i&&"".concat(n,"-color"),c&&"is-valid",u&&"is-invalid")})}));Eq.displayName="FormControl";const Tq=Object.assign(Eq,{Feedback:dq}),Cq=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=vq(r,"form-floating"),(0,CN.jsx)(i,{ref:t,className:lq()(n,r),...s})}));Cq.displayName="FormFloating";const Iq=Cq,Nq=r.forwardRef(((e,t)=>{let{controlId:n,as:i="div",...s}=e;const o=(0,r.useMemo)((()=>({controlId:n})),[n]);return(0,CN.jsx)(hq.Provider,{value:o,children:(0,CN.jsx)(i,{...s,ref:t})})}));Nq.displayName="FormGroup";const Pq=Nq;function Aq(e){let{as:t,bsPrefix:n,className:i,...s}=e;n=vq(n,"col");const o=function(){const{breakpoints:e}=(0,r.useContext)(mq);return e}(),a=function(){const{minBreakpoint:e}=(0,r.useContext)(mq);return e}(),l=[],c=[];return o.forEach((e=>{const t=s[e];let r,i,o;delete s[e],"object"===typeof t&&null!=t?({span:r,offset:i,order:o}=t):r=t;const u=e!==a?"-".concat(e):"";r&&l.push(!0===r?"".concat(n).concat(u):"".concat(n).concat(u,"-").concat(r)),null!=o&&c.push("order".concat(u,"-").concat(o)),null!=i&&c.push("offset".concat(u,"-").concat(i))})),[{...s,className:lq()(i,...l,...c)},{as:t,bsPrefix:n,spans:l}]}const Oq=r.forwardRef(((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=Aq(e);return(0,CN.jsx)(i,{...r,ref:t,className:lq()(n,!o.length&&s)})}));Oq.displayName="Col";const Rq=Oq,Dq=r.forwardRef(((e,t)=>{let{as:n="label",bsPrefix:i,column:s=!1,visuallyHidden:o=!1,className:a,htmlFor:l,...c}=e;const{controlId:u}=(0,r.useContext)(hq);i=vq(i,"form-label");let d="col-form-label";"string"===typeof s&&(d="".concat(d," ").concat(d,"-").concat(s));const h=lq()(a,i,o&&"visually-hidden",s&&d);return l=l||u,s?(0,CN.jsx)(Rq,{ref:t,as:"label",className:h,htmlFor:l,...c}):(0,CN.jsx)(n,{ref:t,className:h,htmlFor:l,...c})}));Dq.displayName="FormLabel";const jq=Dq,Lq=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,id:s,...o}=e;const{controlId:a}=(0,r.useContext)(hq);return n=vq(n,"form-range"),(0,CN.jsx)("input",{...o,type:"range",ref:t,className:lq()(i,n),id:s||a})}));Lq.displayName="FormRange";const Mq=Lq,Fq=r.forwardRef(((e,t)=>{let{bsPrefix:n,size:i,htmlSize:s,className:o,isValid:a=!1,isInvalid:l=!1,id:c,...u}=e;const{controlId:d}=(0,r.useContext)(hq);return n=vq(n,"form-select"),(0,CN.jsx)("select",{...u,size:s,ref:t,className:lq()(o,n,i&&"".concat(n,"-").concat(i),a&&"is-valid",l&&"is-invalid"),id:c||d})}));Fq.displayName="FormSelect";const Uq=Fq,Vq=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="small",muted:s,...o}=e;return n=vq(n,"form-text"),(0,CN.jsx)(i,{...o,ref:t,className:lq()(r,n,s&&"text-muted")})}));Vq.displayName="FormText";const zq=Vq,Bq=r.forwardRef(((e,t)=>(0,CN.jsx)(kq,{...e,ref:t,type:"switch"})));Bq.displayName="Switch";const qq=Object.assign(Bq,{Input:kq.Input,Label:kq.Label}),Hq=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:i,controlId:s,label:o,...a}=e;return n=vq(n,"form-floating"),(0,CN.jsxs)(Pq,{ref:t,className:lq()(r,n),controlId:s,...a,children:[i,(0,CN.jsx)("label",{htmlFor:s,children:o})]})}));Hq.displayName="FloatingLabel";const Wq=Hq,Gq={_ref:lR().any,validated:lR().bool,as:lR().elementType},Kq=r.forwardRef(((e,t)=>{let{className:n,validated:r,as:i="form",...s}=e;return(0,CN.jsx)(i,{...s,ref:t,className:lq()(n,r&&"was-validated")})}));Kq.displayName="Form",Kq.propTypes=Gq;const Yq=Object.assign(Kq,{Group:Pq,Control:Tq,Floating:Iq,Check:kq,Switch:qq,Label:jq,Text:zq,Range:Mq,Select:Uq,FloatingLabel:Wq}),Qq=["as","disabled"];function Xq(e){let{tagName:t,disabled:n,href:r,target:i,rel:s,role:o,onClick:a,tabIndex:l=0,type:c}=e;t||(t=null!=r||null!=i||null!=s?"a":"button");const u={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},u];const d=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==a||a(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?s:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},u]}const $q=r.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Qq);const[s,{tagName:o}]=Xq(Object.assign({tagName:n,disabled:r},i));return(0,CN.jsx)(o,Object.assign({},i,s,{ref:t}))}));$q.displayName="Button";const Jq=r.forwardRef(((e,t)=>{let{as:n,bsPrefix:r,variant:i="primary",size:s,active:o=!1,disabled:a=!1,className:l,...c}=e;const u=vq(r,"btn"),[d,{tagName:h}]=Xq({tagName:n,disabled:a,...c}),f=h;return(0,CN.jsx)(f,{...d,...c,ref:t,disabled:a,className:lq()(l,u,o&&"active",i&&"".concat(u,"-").concat(i),s&&"".concat(u,"-").concat(s),c.href&&a&&"disabled")})}));Jq.displayName="Button";const Zq=Jq;var eH=["color","size","title","className"];function tH(){return tH=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tH.apply(this,arguments)}function nH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var rH=(0,r.forwardRef)((function(e,t){var n=e.color,i=e.size,s=e.title,o=e.className,a=nH(e,eH);return r.createElement("svg",tH({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:n,className:["bi","bi-trash",o].filter(Boolean).join(" ")},a),s?r.createElement("title",null,s):null,r.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"}),r.createElement("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"}))}));rH.propTypes={color:lR().string,size:lR().oneOfType([lR().string,lR().number]),title:lR().string,className:lR().string},rH.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const iH=rH;var sH,oH=new Uint8Array(16);function aH(){if(!sH&&!(sH="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sH(oH)}const lH=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const cH=function(e){return"string"===typeof e&&lH.test(e)};for(var uH=[],dH=0;dH<256;++dH)uH.push((dH+256).toString(16).substr(1));const hH=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(uH[e[t+0]]+uH[e[t+1]]+uH[e[t+2]]+uH[e[t+3]]+"-"+uH[e[t+4]]+uH[e[t+5]]+"-"+uH[e[t+6]]+uH[e[t+7]]+"-"+uH[e[t+8]]+uH[e[t+9]]+"-"+uH[e[t+10]]+uH[e[t+11]]+uH[e[t+12]]+uH[e[t+13]]+uH[e[t+14]]+uH[e[t+15]]).toLowerCase();if(!cH(n))throw TypeError("Stringified UUID is invalid");return n};const fH=function(e,t,n){var r=(e=e||{}).random||(e.rng||aH)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return hH(r)},pH=e=>{let{userAuth:t}=e;const[n,i]=(0,r.useState)({title:"",description:"",ingredients:[""],instructions:[""],author:(null===t||void 0===t?void 0:t.displayName)||"",authorId:(null===t||void 0===t?void 0:t.uid)||"",creatorPhoto:(null===t||void 0===t?void 0:t.photoURL)||(null===t||void 0===t?void 0:t.imageURL)||"",createdAt:"",recipeImage:"",recipeVideo:"",category:"",rating:""}),s=te(),[o,a]=(0,r.useState)(null),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!1),[v,b]=(0,r.useState)(!1),[w,_]=(0,r.useState)(!1);(0,r.useEffect)((()=>{if(t){const{displayName:e,email:n,imageURL:r,photoURL:s}=t,o=t.uid;EN(t,{displayName:e||"Unknown",email:n||"",photoURL:s||r||""}),i((t=>({...t,author:e||"Unknown",creatorPhoto:s||r||"",authorId:o})))}}),[t,o,h,v]);const x=async e=>{try{m(!0);const n=t.uid,r=_N.doc(e.recipeId);await r.set(e);const i=bN.collection("users").doc(n);await i.update({activity:Kr.firestore.FieldValue.arrayUnion({recipeId:e.recipeId,recipeName:e.title,date:Kr.firestore.Timestamp.fromDate(new Date)})}),m(!1),_(!0),console.log("Recipe added with ID:",e.recipeId)}catch(o){m(!1),console.error("Error adding recipe:",o)}},S=(e,t,r)=>{const{value:s}=e.target;if("ingredients"===r){const e=[...n.ingredients];e[t]=s,i((t=>({...t,ingredients:e})))}else if("instructions"===r){const e=[...n.instructions];e[t]=s,i((t=>({...t,instructions:e})))}else i((e=>({...e,[r]:s})))},k=e=>{"ingredients"===e?i((e=>({...e,ingredients:[...e.ingredients,""]}))):"instructions"===e&&i((e=>({...e,instructions:[...e.instructions,""]})))},E=(e,t)=>{if("ingredients"===e){const e=[...n.ingredients];e.splice(t,1),i((t=>({...t,ingredients:e})))}else if("instructions"===e){const e=[...n.instructions];e.splice(t,1),i((t=>({...t,instructions:e})))}};return(0,CN.jsxs)("div",{className:"p-4 bg-secondary-700 justify-center",children:[(0,CN.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center text-white",children:"FORM RECIPE"}),(0,CN.jsx)("h2",{className:"text-xl font-bold mb-4 text-center text-white",children:"Resep Masakan Indonesia"}),(0,CN.jsxs)(Yq,{onSubmit:async e=>{if(e.preventDefault(),t){if(!p&&!g)try{if(y(!0),!n.title||!n.description||0===n.ingredients.length||0===n.instructions.length)return a("Please fill in all required fields."),void y(!1);const e=(null===t||void 0===t?void 0:t.displayName)||"Unknown",r=(null===t||void 0===t?void 0:t.photoURL)||(null===t||void 0===t?void 0:t.imageURL)||"Unknown",s=t.uid,c=fH(),d=Kr.firestore.Timestamp.now();let h=n.recipeImage,p=n.recipeVideo;if(!l)try{if(h){const e="".concat(fH(),"-").concat(Date.now(),"-").concat(h.name);h=await(async(e,t)=>{try{const n=wN.ref().child("images/".concat(t)),r=await n.put(e);return await r.ref.getDownloadURL()}catch(o){throw console.error("Error uploading image:",o),o}})(h,e)}else h=await(async()=>{try{const e=wN.ref().child("images/undefined.png");return await e.getDownloadURL()}catch(o){return console.error("Error uploading default image:",o),""}})()}catch(o){return console.error("Error uploading image:",o),f(!0),void y(!1)}if(u)p=p.trim();else if(p instanceof File)try{const e="".concat(fH(),"-").concat(Date.now(),"-").concat(p.name);p=await(async(e,t)=>{try{const n=wN.ref().child("videos/".concat(t)),r=await n.put(e);return await r.ref.getDownloadURL()}catch(o){throw console.error("Error uploading video:",o),o}})(p,e)}catch(o){return console.error("Error uploading video:",o),f(!0),void y(!1)}const m={title:n.title,description:n.description,ingredients:n.ingredients,instructions:n.instructions,author:e,authorId:s,creatorPhoto:r,createdAt:d,recipeImage:h,recipeVideo:p,recipeId:c,category:n.category,rating:n.rating};await x(m),i({title:"",description:"",ingredients:[""],instructions:[""],author:"",authorId:"",creatorPhoto:"",createdAt:"",recipeImage:"",recipeVideo:"",recipeId:"",category:"",rating:""}),f(!0)}catch(o){console.error("Error adding recipe:",o),b(!0)}finally{y(!1)}}else console.error("User is not authenticated.")},children:[(0,CN.jsxs)(Yq.Group,{controlId:"title",children:[(0,CN.jsx)(Yq.Label,{className:"text-white",children:"Nama Resep"}),(0,CN.jsx)(Tq,{as:"textarea",name:"title",defaultValue:n.title,onChange:e=>S(e,null,"title"),placeholder:"Nama Resep",className:"custom-input w-full h-12 md:h-16 rounded resize-none","aria-label":"Nama Resep"})]}),(0,CN.jsxs)(Yq.Group,{controlId:"description",children:[(0,CN.jsx)(Yq.Label,{className:"text-white",children:"Deskripsi"}),(0,CN.jsx)(Tq,{as:"textarea",name:"description",defaultValue:n.description,onChange:e=>S(e,null,"description"),placeholder:"Deskripsi",className:"custom-input w-full h-20 md:h-26 rounded resize-vertical","aria-label":"Deskripsi"})]}),(0,CN.jsxs)("div",{className:"mb-4",children:[(0,CN.jsx)("h4",{className:"text-lg font-semibold mb-2 text-white",children:"Bahan-Bahan"}),n.ingredients.map(((e,t)=>(0,CN.jsxs)("div",{className:"flex items-center mb-2",children:[(0,CN.jsxs)("span",{className:"mr-2",children:[t+1,"."]}),(0,CN.jsx)("div",{className:"custom-input-group flex-grow",children:(0,CN.jsx)("textarea",{type:"text",value:e,onChange:e=>S(e,t,"ingredients"),placeholder:"Bahan","aria-label":"Bahan",className:"custom-input w-full rounded"})}),(0,CN.jsx)(Zq,{onClick:()=>E("ingredients",t),variant:"danger",className:"ml-3 btn-icon text-red-500 hover:text-red-700",children:(0,CN.jsx)(iH,{})})]},"ingredient-".concat(t)))),(0,CN.jsx)(Zq,{onClick:()=>k("ingredients"),variant:"primary",className:"btn-icon bg-white rounded-full px-2 text-center text-orange-500 hover:text-secondary-700",children:"Add"})]}),(0,CN.jsxs)("div",{className:"mb-4",children:[(0,CN.jsx)("h4",{className:"text-lg font-semibold mb-2 text-white",children:"Cara Membuat"}),n.instructions.map(((e,t)=>(0,CN.jsxs)("div",{className:"flex items-center mb-2",children:[(0,CN.jsxs)("span",{className:"mr-2",children:[t+1,"."]}),(0,CN.jsx)("div",{className:"custom-input-group flex-grow",children:(0,CN.jsx)("textarea",{type:"text",value:e,onChange:e=>S(e,t,"instructions"),placeholder:"Cara Membuat","aria-label":"Cara Membuat",className:"custom-input w-full rounded"})}),(0,CN.jsx)(Zq,{onClick:()=>E("instructions",t),variant:"danger",className:"ml-3 btn-icon text-red-500 hover:text-red-700",children:(0,CN.jsx)(iH,{})})]},"instruction-".concat(t)))),(0,CN.jsx)(Zq,{onClick:()=>k("instructions"),variant:"primary",className:"btn-icon bg-white rounded-full px-2 text-center text-orange-500 hover:text-secondary-700",children:"Add"})]}),(0,CN.jsx)("div",{className:"flex justify-center",children:(0,CN.jsxs)(Yq.Group,{controlId:"category",className:"text-white",children:[(0,CN.jsx)(Yq.Label,{className:"mr-2",children:"Kategori"}),(0,CN.jsxs)(Yq.Control,{as:"select",name:"category",value:n.category,onChange:e=>S(e,null,"category"),className:"custom-select rounded w-54 bg-yellow-500",children:[(0,CN.jsx)("option",{value:"",children:"-- Pilih Kategori --"}),["Sarapan","Makan Siang","Makan Malam","Camilan","Seafood","Hidangan Pembuka","Hidangan Utama","Hidangan Penutup","Kue/Roti","Minuman","Hidangan Tradisional","Hidangan Sehat","Hidangan Vegetarian"].map((e=>(0,CN.jsx)("option",{value:e,children:e},e)))]})]})}),(0,CN.jsx)("div",{className:"flex text-center item-center justify-center mt-4 p-2",children:(0,CN.jsxs)("div",{className:"border rounded p-2",children:[(0,CN.jsx)("label",{className:"text-center text-white font-bold mb-2 px-2 bg-yellow-500 rounded",children:"Gambar"}),(0,CN.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,CN.jsxs)("div",{children:[(0,CN.jsx)("input",{type:"radio",id:"imageFromStorage",name:"imageSource",checked:!l,onChange:()=>{c(!1),i((e=>({...e,recipeImage:""})))},"aria-label":"Pilih Gambar dari Penyimpanan"}),(0,CN.jsx)("label",{htmlFor:"imageFromStorage",className:"mr-2",children:"Pilih dari Penyimpanan"})]}),(0,CN.jsxs)("div",{children:[(0,CN.jsx)("input",{type:"radio",id:"imageFromUrl",name:"imageSource",checked:l,onChange:()=>c(!0),"aria-label":"Masukkan URL Gambar"}),(0,CN.jsx)("label",{htmlFor:"imageFromUrl",children:"Masukkan URL"})]})]}),l?(0,CN.jsx)("div",{children:(0,CN.jsx)("input",{type:"text",id:"imageUrl",value:n.recipeImage,onChange:e=>{const t=e.target.value;i((e=>({...e,recipeImage:t}))),c(!0)},placeholder:"URL Gambar","aria-label":"URL Gambar",className:"custom-input"})}):(0,CN.jsx)("div",{children:(0,CN.jsx)("input",{type:"file",accept:"image/*",id:"image",onChange:e=>{const t=e.target.files[0];i((e=>({...e,recipeImage:t}))),c(!1)},className:"custom-file-input"})})]})}),(0,CN.jsx)("div",{className:"flex text-center item-center justify-center mt-4 p-2",children:(0,CN.jsxs)("div",{className:"border rounded p-2",children:[(0,CN.jsx)("label",{className:"text-center text-white font-bold mb-2 px-2 bg-yellow-500 rounded",children:"Video"}),(0,CN.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,CN.jsxs)("div",{children:[(0,CN.jsx)("input",{type:"radio",id:"videoFromStorage",name:"videoSource",checked:!u,onChange:()=>{d(!1),i((e=>({...e,recipeVideo:""})))},"aria-label":"Pilih Video dari Penyimpanan"}),(0,CN.jsx)("label",{htmlFor:"videoFromStorage",className:"mr-2",children:"Pilih dari Penyimpanan"})]}),(0,CN.jsxs)("div",{children:[(0,CN.jsx)("input",{type:"radio",id:"videoFromUrl",name:"videoSource",checked:u,onChange:()=>d(!0),"aria-label":"Masukkan URL Video"}),(0,CN.jsx)("label",{htmlFor:"videoFromUrl",children:"Masukkan URL"})]})]}),u?(0,CN.jsx)("div",{children:(0,CN.jsx)("input",{type:"text",id:"videoUrl",value:n.recipevideo,onChange:e=>{const t=e.target.value;i((e=>({...e,recipeVideo:t}))),d(!0)},placeholder:"URL Video","aria-label":"URL Video",className:"custom-input"})}):(0,CN.jsx)("div",{children:(0,CN.jsx)("input",{type:"file",accept:"video/*",id:"video",onChange:e=>{if(e.target.files.length>0){const t=e.target.files[0];i((e=>({...e,recipeVideo:t}))),d(!1)}else{const t=e.target.value;i((e=>({...e,recipeVideo:t}))),d(!0)}},className:"custom-file-input"})})]})}),(0,CN.jsx)("div",{className:"flex justify-center mt-4",children:(0,CN.jsx)("button",{type:"submit",className:"bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-full flex items-center",disabled:p||g,children:p||g?(0,CN.jsxs)(CN.Fragment,{children:[(0,CN.jsx)("div",{className:"spinner-border text-light mr-2",role:"status",children:(0,CN.jsx)("span",{className:"sr-only",children:"Loading..."})}),(0,CN.jsx)("span",{children:"Uploading... Please Wait!!"})]}):(0,CN.jsxs)(CN.Fragment,{children:[(0,CN.jsx)(Xe,{className:"mr-2"})," Upload Resep"]})})}),(0,CN.jsx)(Ce,{to:"/profile",className:"text-white mb-2 hover:underline",children:"< Back to Profile"}),(0,CN.jsx)("p",{className:"mt-2 text-secondary-500",children:"Note : Setelah Berhasil Membuat Resep Silahkan Muat Ulang Halaman"})]}),w&&(0,CN.jsxs)("div",{className:"fixed bottom-5 left-5 bg-gray-100 p-4 rounded shadow-md",children:[(0,CN.jsx)("p",{className:"text-center text-gray-800",children:"Resep berhasil ditambahkan!"}),(0,CN.jsx)("button",{className:"mt-2 bg-blue-500 text-white py-2 px-4 rounded",onClick:()=>{_(!1),s("/")},children:"Tutup"})]})]})},mH=r.createContext(null);mH.displayName="InputGroupContext";const gH=mH,yH=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="span",...s}=e;return r=vq(r,"input-group-text"),(0,CN.jsx)(i,{ref:t,className:lq()(n,r),...s})}));yH.displayName="InputGroupText";const vH=yH,bH=r.forwardRef(((e,t)=>{let{bsPrefix:n,size:i,hasValidation:s,className:o,as:a="div",...l}=e;n=vq(n,"input-group");const c=(0,r.useMemo)((()=>({})),[]);return(0,CN.jsx)(gH.Provider,{value:c,children:(0,CN.jsx)(a,{ref:t,...l,className:lq()(o,n,i&&"".concat(n,"-").concat(i),s&&"has-validation")})})}));bH.displayName="InputGroup";const wH=Object.assign(bH,{Text:vH,Radio:e=>(0,CN.jsx)(vH,{children:(0,CN.jsx)(wq,{type:"radio",...e})}),Checkbox:e=>(0,CN.jsx)(vH,{children:(0,CN.jsx)(wq,{type:"checkbox",...e})})}),_H=e=>{let{user:t}=e;const{id:n}=ne(),i=te(),[s,o]=(0,r.useState)({title:"",description:"",ingredients:[],instructions:[],category:""}),[a,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(async()=>{try{const e=bN.collection("recipes").doc(n),t=await e.get();if(t.exists){const e=t.data();o(e),u(!e.recipeVideo)}else console.log("Recipe does not exist.")}catch($S){console.error("Error fetching recipe:",$S)}})()}),[n]);const y=e=>{const{name:t,value:n}=e.target;o((e=>({...e,[t]:n})))},v=e=>{"ingredients"===e?o((e=>({...e,ingredients:[...e.ingredients,""]}))):"instructions"===e&&o((e=>({...e,instructions:[...e.instructions,""]})))},b=(e,t)=>{if("ingredients"===e){const e=[...s.ingredients];e.splice(t,1),o((t=>({...t,ingredients:e})))}else if("instructions"===e){const e=[...s.instructions];e.splice(t,1),o((t=>({...t,instructions:e})))}};return(0,CN.jsxs)("div",{className:"container mx-auto px-8 py-4 bg-purple-700",children:[(0,CN.jsx)(Ce,{to:"/profile",className:"text-orange-300 hover:underline",children:"< Back to Profile"}),(0,CN.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center text-white",children:"Edit Recipe"}),(0,CN.jsxs)(Yq,{onSubmit:async e=>{e.preventDefault();try{if(!c&&d){if(s.recipeVideoName){const e=wN.ref().child("videos/".concat(s.recipeVideoName));try{await e.delete(),console.log("Previous video deleted from storage.")}catch($S){console.error("Error deleting previous video:",$S)}}const e=fH(),t=d.name.split(".").pop(),r="".concat(e,".").concat(t),i=wN.ref().child("videos/".concat(r)),o=await i.put(d),a=await o.ref.getDownloadURL(),l={...s,recipeVideo:a,recipeVideoName:r},c=bN.collection("recipes").doc(n);await c.update(l),console.log("Recipe updated successfully!")}else{const e=bN.collection("recipes").doc(n);await e.update(s),console.log("Recipe updated successfully!")}i("/recipes/".concat(n))}catch($S){console.error("Error updating recipe:",$S)}},children:[(0,CN.jsxs)(Yq.Group,{controlId:"title",children:[(0,CN.jsx)(Yq.Label,{className:"text-white",children:"Nama Resep"}),(0,CN.jsx)(Tq,{type:"text",name:"title",value:s.title,onChange:y,placeholder:"Masukkan nama resep",className:"w-full border rounded py-2 px-4 mb-4"})]}),(0,CN.jsxs)(Yq.Group,{controlId:"description",children:[(0,CN.jsx)(Yq.Label,{className:"text-white",children:"Deskripsi"}),(0,CN.jsx)(Tq,{as:"textarea",name:"description",value:s.description,onChange:y,placeholder:"Masukkan deskripsi",rows:4,className:"w-full border rounded py-2 px-4 mb-4"})]}),(0,CN.jsxs)(Yq.Group,{controlId:"category",children:[(0,CN.jsx)(Yq.Label,{className:"text-white",children:"Kategori"}),(0,CN.jsxs)(Yq.Control,{as:"select",name:"category",value:s.category,onChange:y,className:"w-auto ml-2 mb-4 mr-2 bg-orange-500 text-white item-center rounded",children:[(0,CN.jsx)("option",{value:"",children:"-- Pilih Kategori --"}),["Sarapan","Makan Siang","Makan Malam","Camilan","Seafood","Hidangan Pembuka","Hidangan Utama","Hidangan Penutup","Kue/Roti","Minuman","Hidangan Tradisional","Hidangan Sehat","Hidangan Vegetarian"].map((e=>(0,CN.jsx)("option",{value:e,children:e},e)))]})]}),(0,CN.jsxs)("div",{children:[(0,CN.jsx)("h4",{className:"text-lg font-semibold mb-2 text-white",children:"Bahan-Bahan:"}),s.ingredients.map(((e,t)=>(0,CN.jsxs)(wH,{className:"mb-4",children:[(0,CN.jsx)("textarea",{type:"text",value:e,onChange:e=>((e,t)=>{const{value:n}=e.target,r=[...s.ingredients];r[t]=n,o((e=>({...e,ingredients:r})))})(e,t),placeholder:"Masukkan bahan",className:"w-full resize-y border rounded py-2 px-4",rows:2}),(0,CN.jsx)(Zq,{onClick:()=>b("ingredients",t),variant:"danger",children:(0,CN.jsx)(iH,{})})]},t))),(0,CN.jsx)(Zq,{onClick:()=>v("ingredients"),variant:"primary",className:"btn-icon bg-white rounded-full px-2 text-center text-orange-500 hover:text-secondary-700",children:"Add"})]}),(0,CN.jsxs)("div",{className:"mt-4",children:[(0,CN.jsx)("h4",{className:"text-lg font-semibold mb-2 text-white",children:"Cara Membuat:"}),s.instructions.map(((e,t)=>(0,CN.jsxs)(wH,{className:"mb-4",children:[(0,CN.jsx)("textarea",{type:"text",value:e,onChange:e=>((e,t)=>{const{value:n}=e.target,r=[...s.instructions];r[t]=n,o((e=>({...e,instructions:r})))})(e,t),placeholder:"Masukkan instruksi",className:"w-full resize-y border rounded py-2 px-4",rows:2}),(0,CN.jsx)(Zq,{onClick:()=>b("instructions",t),variant:"danger",children:(0,CN.jsx)(iH,{})})]},t))),(0,CN.jsx)(Zq,{onClick:()=>v("instructions"),variant:"primary",className:"btn-icon bg-white rounded-full px-2 text-center text-orange-500 hover:text-secondary-700",children:"Add"})]}),(0,CN.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,CN.jsxs)("div",{children:[(0,CN.jsx)("input",{type:"radio",id:"imageFromStorageEdit",name:"imageSourceEdit",checked:!a,onChange:()=>l(!1),"aria-label":"Pilih Gambar dari Penyimpanan"}),(0,CN.jsx)("label",{htmlFor:"imageFromStorageEdit",className:"mr-2",children:"Pilih Gambar dari Penyimpanan"})]}),(0,CN.jsxs)("div",{children:[(0,CN.jsx)("input",{type:"radio",id:"imageFromUrlEdit",name:"imageSourceEdit",checked:a,onChange:()=>l(!0),"aria-label":"Masukkan URL Gambar"}),(0,CN.jsx)("label",{htmlFor:"imageFromUrlEdit",children:"Masukkan URL Gambar"})]})]}),(0,CN.jsxs)("div",{children:[(0,CN.jsx)("label",{className:"block text-white font-bold mb-2",children:"Gambar"}),a?(0,CN.jsx)("div",{children:(0,CN.jsx)("input",{type:"text",id:"imageUrlEdit",value:s.recipeImage,onChange:e=>{const{value:t}=e.target;o((e=>({...e,recipeImage:t})))},placeholder:"URL Gambar","aria-label":"URL Gambar",className:"custom-input"})}):(0,CN.jsx)("div",{children:(0,CN.jsx)("input",{type:"file",accept:"image/*",id:"imageEdit",onChange:async e=>{const t=e.target.files[0];if(s.recipeImageName){const e=wN.ref().child("images/".concat(s.recipeImageName));try{await e.delete(),console.log("Previous image deleted from storage.")}catch($S){console.error("Error deleting previous image:",$S)}}const r=fH(),i=t.name.split(".").pop(),o="".concat(r,".").concat(i),a=wN.ref().child("images/".concat(o));try{const e=await a.put(t),r=await e.ref.getDownloadURL(),i={...s,recipeImage:r,recipeImageName:o},l=bN.collection("recipes").doc(n);await l.update(i),console.log("Recipe image updated successfully!")}catch($S){console.error("Error updating recipe image:",$S)}},className:"custom-file-input"})})]}),(0,CN.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,CN.jsxs)("div",{children:[(0,CN.jsx)("input",{type:"radio",id:"videoFromStorageEdit",name:"videoSourceEdit",checked:!c,onChange:()=>u(!1),"aria-label":"Pilih Video dari Penyimpanan"}),(0,CN.jsx)("label",{htmlFor:"videoFromStorageEdit",className:"mr-2",children:"Pilih Video dari Penyimpanan"})]}),(0,CN.jsxs)("div",{children:[(0,CN.jsx)("input",{type:"radio",id:"videoFromUrlEdit",name:"videoSourceEdit",checked:c,onChange:()=>u(!0),"aria-label":"Masukkan URL Video"}),(0,CN.jsx)("label",{htmlFor:"videoFromUrlEdit",children:"Masukkan URL Video"})]})]}),(0,CN.jsxs)("div",{children:[(0,CN.jsx)("label",{className:"block text-white font-bold mb-2",children:"Video"}),c?(0,CN.jsx)("div",{children:(0,CN.jsx)("input",{type:"text",id:"videoUrlEdit",value:s.recipeVideo,onChange:e=>{const{value:t}=e.target;o((e=>({...e,recipeVideo:t})))},placeholder:"URL Video","aria-label":"URL Video",className:"custom-input"})}):(0,CN.jsx)("div",{children:(0,CN.jsx)("input",{type:"file",accept:"video/*",id:"videoEdit",onChange:e=>{const t=e.target.files[0];h(t)},className:"custom-file-input"})})]}),(0,CN.jsx)("div",{className:"flex justify-center mt-4",children:(0,CN.jsx)("button",{type:"submit",className:"bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-full flex items-center",disabled:f||m,children:f||m?(0,CN.jsxs)(CN.Fragment,{children:[(0,CN.jsx)("div",{className:"spinner-border text-light mr-2",role:"status",children:(0,CN.jsx)("span",{className:"sr-only",children:"Loading..."})}),(0,CN.jsx)("span",{children:"Uploading... Please Wait!!"})]}):(0,CN.jsxs)(CN.Fragment,{children:[(0,CN.jsx)(Xe,{className:"mr-2"})," Upload Resep"]})})})]})]})},xH=e=>{let{recipe:t}=e;const{recipeImage:n,id:r,title:i}=t;return(0,CN.jsx)(Ce,{to:"/recipes/".concat(r),className:"block w-full",children:(0,CN.jsxs)("div",{className:"border rounded-lg overflow-hidden shadow-md bg-primary-500 font-logo hover:shadow-lg transition-shadow",children:[(0,CN.jsx)("img",{src:n,alt:"Recipe",className:"w-full h-48 object-cover"}),(0,CN.jsx)("div",{className:"p-2",children:(0,CN.jsx)("h3",{className:"text-lg text-center font-semibold",children:i})})]})})},SH=()=>{const{authorId:e}=ne(),[t,n]=(0,r.useState)(null),[i,s]=(0,r.useState)([]),[o,a]=(0,r.useState)(!1);if((0,r.useEffect)((()=>{(async()=>{try{a(!0);const t=bN.collection("users").doc(e),r=await t.get();r.exists?n(r.data()):console.log("User profile not found for authorId:",e);const i=bN.collection("recipes").where("authorId","==",e),o=(await i.get()).docs.map((e=>({id:e.id,...e.data(),createdAt:e.data().createdAt.toDate()})));s(o),a(!1)}catch($S){console.error("Error fetching author profile:",$S),a(!1)}})()}),[e]),o)return(0,CN.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,CN.jsx)("div",{className:"border-t-4 border-blue-500 rounded-full h-12 w-12 animate-spin"})});if(!t)return(0,CN.jsx)("div",{children:"User profile not found."});const{displayName:l,photoURL:c}=t;return(0,CN.jsx)("div",{className:"container mx-auto p-4 bg-gray-300 min-h-screen",children:(0,CN.jsxs)("div",{className:"bg-white p-4 rounded-md shadow-md mb-4",children:[(0,CN.jsxs)("div",{className:"flex flex-col md:flex-row items-center mb-4",children:[(0,CN.jsx)("img",{src:c||"defaultProfileImage",alt:"Author Profile",className:"w-16 h-16 rounded-full mb-2 md:mb-0 md:mr-4 object-cover"}),(0,CN.jsxs)("div",{children:[(0,CN.jsx)("h2",{className:"text-xl md:text-3xl font-bold mb-1 text-center md:text-left",children:l}),(0,CN.jsxs)("p",{className:"text-base md:text-lg font-medium text-gray-600",children:["Recipes Created by ",l]})]})]}),0===i.length?(0,CN.jsx)("p",{children:"No recipes created by this author."}):(0,CN.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map((e=>(0,CN.jsx)(xH,{recipe:e},e.id)))})]})})},kH=e=>{let{code:t}=e,n="";switch(t){case"400":n="Bad Request";break;case"401":n="Unauthorized";break;case"403":n="Forbidden";break;case"404":n="Not Found";break;case"503":n="Service Unavailable";break;default:n="Unknown Error"}return(0,CN.jsxs)("div",{className:"error-page",children:[(0,CN.jsxs)("h1",{children:["Error ",t]}),(0,CN.jsx)("p",{children:n})]})},EH=()=>(0,CN.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-wavy-purple text-center",children:[(0,CN.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Verify Your Email"}),(0,CN.jsx)("p",{className:"mb-4",children:"A verification link has been sent to your email. Please check your inbox and verify your email address."}),(0,CN.jsxs)("p",{className:"mb-4",children:["Once verified, you can ",(0,CN.jsx)(Ce,{to:"/login",className:"text-blue-500",children:"log in"})," to your account."]})]});const TH=function(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(null),[s,o]=(0,r.useState)(null);return(0,r.useEffect)((()=>{(async()=>{try{const e=bN.collection("data"),n=(await e.get()).docs.map((e=>e.data()));localStorage.setItem("cachedData",JSON.stringify(n)),t(n)}catch($S){console.error("Error fetching data:",$S)}})()}),[e]),(0,r.useEffect)((()=>{const e=vN.onAuthStateChanged((e=>{i(e),o(e)}));return()=>e()}),[]),(0,CN.jsx)(ke,{className:"h-screen w-full bg-gradient-to-tr from-primary-500 via-wavy-purple to-accent-400",children:(0,CN.jsxs)("div",{children:[(0,CN.jsx)(IN,{}),(0,CN.jsxs)(ve,{children:[(0,CN.jsx)(ge,{path:"/",element:(0,CN.jsx)(UB,{})}),(0,CN.jsx)(ge,{path:"/login",element:(0,CN.jsx)(ON,{})}),(0,CN.jsx)(ge,{path:"/signup",element:(0,CN.jsx)(RN,{})}),(0,CN.jsx)(ge,{path:"/online",element:(0,CN.jsx)(FB,{user:n})}),(0,CN.jsx)(ge,{path:"/forget-password",element:(0,CN.jsx)($B,{})}),(0,CN.jsx)(ge,{path:"/profile",element:(0,CN.jsx)(oq,{})}),(0,CN.jsx)(ge,{path:"/activity-history",element:(0,CN.jsx)(nq,{})}),(0,CN.jsx)(ge,{path:"/add-recipe",element:(0,CN.jsx)(pH,{userAuth:s})}),(0,CN.jsx)(ge,{path:"/recipe-list",element:(0,CN.jsx)(jN,{userAuth:s})}),(0,CN.jsx)(ge,{path:"/tranding",element:(0,CN.jsx)(MB,{})}),(0,CN.jsx)(ge,{path:"/user/:authorId",element:(0,CN.jsx)(iq,{user:n})}),(0,CN.jsx)(ge,{path:"/recipes/:id",element:(0,CN.jsx)(XB,{user:n})}),(0,CN.jsx)(ge,{path:"/recomen",element:(0,CN.jsx)(qN,{user:n})}),(0,CN.jsx)(ge,{path:"/author/:authorId",element:(0,CN.jsx)(SH,{})}),(0,CN.jsx)(ge,{path:"/messages-list",element:(0,CN.jsx)(Cj,{})}),(0,CN.jsx)(ge,{path:"/messages",element:(0,CN.jsx)(Ij,{})}),(0,CN.jsx)(ge,{path:"/float",element:(0,CN.jsx)(rq,{})}),(0,CN.jsx)(ge,{path:"/verify-email",element:(0,CN.jsx)(EH,{})}),(0,CN.jsx)(ge,{path:"/recipes/edit/:id",element:(0,CN.jsx)(_H,{user:n})}),(0,CN.jsx)(ge,{path:"/404",element:(0,CN.jsx)(kH,{code:"404"})}),(0,CN.jsx)(ge,{path:"/400",element:(0,CN.jsx)(kH,{code:"400"})}),(0,CN.jsx)(ge,{path:"/401",element:(0,CN.jsx)(kH,{code:"401"})}),(0,CN.jsx)(ge,{path:"/403",element:(0,CN.jsx)(kH,{code:"403"})}),(0,CN.jsx)(ge,{path:"/503",element:(0,CN.jsx)(kH,{code:"503"})}),(0,CN.jsx)(ge,{path:"*",element:(0,CN.jsx)(kH,{code:"404"})})]}),(0,CN.jsx)(NN,{})]})})},CH=document.getElementById("root");(0,s.H)(CH).render((0,CN.jsx)(r.StrictMode,{children:(0,CN.jsx)(TH,{})}))})()})();
//# sourceMappingURL=main.6b525909.js.map